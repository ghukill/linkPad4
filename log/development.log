  [1m[36m (115.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (98.9ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePosts (20150517183521)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" text, "body" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150517183521"]]
  [1m[35m (109.5ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Ruby Solr Docs FTW"], ["body", "This is my first solr document in Ruby, I am hoping this works really well."], ["created_at", "2015-05-17 18:37:09.062132"], ["updated_at", "2015-05-17 18:37:09.062132"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Ruby Solr Docs FTW"], ["body", "This is my first solr document in Ruby, I am hoping this works really well."], ["created_at", "2015-05-17 18:38:23.489968"], ["updated_at", "2015-05-17 18:38:23.489968"]]
  [1m[35m (90.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 0]]
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (109.9ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateLinks (20150517191426)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" text, "URL" varchar, "html" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150517191426"]]
  [1m[36m (128.5ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("title", "URL", "html", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Graham's Amazing Website"], ["URL", "http://grahamhukil.com"], ["html", "<p>Helllloooo World!</p>"], ["created_at", "2015-05-17 19:18:07.475597"], ["updated_at", "2015-05-17 19:18:07.475597"]]
  [1m[36m (98.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("title", "URL", "html", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Wayne State Library"], ["URL", "http://library.wayne.edu"], ["html", "<p>A whole lot of goodness</p>"], ["created_at", "2015-05-17 19:19:58.648597"], ["updated_at", "2015-05-17 19:19:58.648597"]]
  [1m[35m (124.1ms)[0m  commit transaction


Started GET "/" for 127.0.0.1 at 2015-05-17 15:22:22 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Rails::WelcomeController#index as HTML
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/railties-4.2.1/lib/rails/templates/rails/welcome/index.html.erb (1.1ms)
Completed 200 OK in 12ms (Views: 4.7ms | ActiveRecord: 0.0ms | Solr: 0.0ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 15:22:26 -0400
Processing by LinksController#index as HTML
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links"
  Rendered links/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 815ms (Views: 810.9ms | ActiveRecord: 0.4ms | Solr: 0.0ms)


Started GET "/assets/scaffolds.self-3f604dfb801e9c592ace8885ccd3804afac84adc55bb48938d18918d28f78a7e.css?body=1" for 127.0.0.1 at 2015-05-17 15:22:27 -0400


Started GET "/links/1/edit" for 127.0.0.1 at 2015-05-17 15:22:39 -0400
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered links/_form.html.erb (14.7ms)
  Rendered links/edit.html.erb within layouts/application (18.7ms)
Completed 200 OK in 53ms (Views: 43.4ms | ActiveRecord: 0.2ms | Solr: 0.0ms)


Started PATCH "/links/1" for 127.0.0.1 at 2015-05-17 15:22:55 -0400
Processing by LinksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JXQCoxL7qZdzzTJTNgjKAYI9gK1oiUKlyJTRjN1Kd/o7u8kTDlaqBMxeLR7l3+KN0VbFoRmmgSPIQjJnl1qTYA==", "link"=>{"title"=>"Graham's Amazing Website", "URL"=>"http://grahamhukil.com", "html"=>"<p>Helllloooo World!</p>\r\n<p>This is plumb shit amazing.</p>"}, "commit"=>"Update Link", "id"=>"1"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "html" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["html", "<p>Helllloooo World!</p>\r\n<p>This is plumb shit amazing.</p>"], ["updated_at", "2015-05-17 19:22:55.809509"], ["id", 1]]
  [1m[32mSOLR Request (7.2ms)[0m  [ path=[1m[1mupdate[0m parameters={} ]
  [1m[36m (195.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/links/1
  [1m[32mSOLR Request (439.2ms)[0m  [ path=[1m[1mupdate[0m parameters={} ]
Completed 302 Found in 649ms (ActiveRecord: 195.5ms)


Started GET "/links/1" for 127.0.0.1 at 2015-05-17 15:22:56 -0400
Processing by LinksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 1]]
Completed 400 Bad Request in 2ms (ActiveRecord: 0.1ms)

ActionController::ParameterMissing (param is missing or the value is empty: link):
  app/controllers/links_controller.rb:73:in `link_params'
  app/controllers/links_controller.rb:13:in `show'


  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.1ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.0ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/console.js.erb within layouts/javascript (13.1ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/index.html.erb (29.8ms)


Started GET "/links/1" for 127.0.0.1 at 2015-05-17 15:24:03 -0400
Processing by LinksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 400 Bad Request in 3ms (ActiveRecord: 0.1ms)

ActionController::ParameterMissing (param is missing or the value is empty: link):
  app/controllers/links_controller.rb:73:in `link_params'
  app/controllers/links_controller.rb:13:in `show'


  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (17.4ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/console.js.erb within layouts/javascript (11.9ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/index.html.erb (24.2ms)


Started GET "/links/" for 127.0.0.1 at 2015-05-17 15:24:06 -0400
Processing by LinksController#index as HTML
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links"
  Rendered links/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 26ms (Views: 25.1ms | ActiveRecord: 0.2ms | Solr: 0.0ms)


Started GET "/links/1" for 127.0.0.1 at 2015-05-17 15:24:09 -0400
Processing by LinksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 400 Bad Request in 1ms (ActiveRecord: 0.1ms)

ActionController::ParameterMissing (param is missing or the value is empty: link):
  app/controllers/links_controller.rb:73:in `link_params'
  app/controllers/links_controller.rb:13:in `show'


  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.5ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (17.7ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/console.js.erb within layouts/javascript (12.1ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/index.html.erb (24.5ms)


Started GET "/links/1" for 127.0.0.1 at 2015-05-17 15:24:09 -0400
Processing by LinksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 1]]
Completed 400 Bad Request in 2ms (ActiveRecord: 0.1ms)

ActionController::ParameterMissing (param is missing or the value is empty: link):
  app/controllers/links_controller.rb:73:in `link_params'
  app/controllers/links_controller.rb:13:in `show'


  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.6ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.0ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/console.js.erb within layouts/javascript (12.6ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/index.html.erb (25.5ms)


Started GET "/links/" for 127.0.0.1 at 2015-05-17 15:24:33 -0400
Processing by LinksController#index as HTML
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT "links".* FROM "links"[0m
  Rendered links/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 29ms (Views: 26.1ms | ActiveRecord: 0.5ms | Solr: 0.0ms)


Started GET "/assets/links.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2015-05-17 15:24:33 -0400


Started GET "/assets/scaffolds.self-3f604dfb801e9c592ace8885ccd3804afac84adc55bb48938d18918d28f78a7e.css?body=1" for 127.0.0.1 at 2015-05-17 15:24:33 -0400


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for 127.0.0.1 at 2015-05-17 15:24:33 -0400


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for 127.0.0.1 at 2015-05-17 15:24:33 -0400


Started GET "/assets/links.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2015-05-17 15:24:33 -0400


Started GET "/assets/jquery_ujs.self-8e98a7a072a6cee1372d19fff9ff3e6aa1e39a37d89d6f06861637d061113ee7.js?body=1" for 127.0.0.1 at 2015-05-17 15:24:33 -0400


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for 127.0.0.1 at 2015-05-17 15:24:33 -0400


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for 127.0.0.1 at 2015-05-17 15:24:33 -0400


Started GET "/links/1" for 127.0.0.1 at 2015-05-17 15:24:34 -0400
Processing by LinksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 1]]
  Rendered links/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 26ms (Views: 23.5ms | ActiveRecord: 0.2ms | Solr: 0.0ms)


Started GET "/links/1/edit" for 127.0.0.1 at 2015-05-17 15:24:50 -0400
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered links/_form.html.erb (2.9ms)
  Rendered links/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 29ms (Views: 27.7ms | ActiveRecord: 0.1ms | Solr: 0.0ms)


Started PATCH "/links/1" for 127.0.0.1 at 2015-05-17 15:25:05 -0400
Processing by LinksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Tp7W/dbLXtD3WOmmXrxFCLz2y3/yIWtpr3XDvuQKsi9QUR1NymZdQ0jL9uuNa22E752Oc4MOqO+voyBVrhpWtQ==", "link"=>{"title"=>"Graham's Amazing Website", "URL"=>"http://grahamhukil.com", "html"=>"<p>Helllloooo World!</p>\r\n<p>Yep.  Rails, you kinda neat.</p>"}, "commit"=>"Update Link", "id"=>"1"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "links" SET "html" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["html", "<p>Helllloooo World!</p>\r\n<p>Yep.  Rails, you kinda neat.</p>"], ["updated_at", "2015-05-17 19:25:05.478596"], ["id", 1]]
  [1m[32mSOLR Request (5.4ms)[0m  [ path=[1m[1mupdate[0m parameters={} ]
  [1m[36m (165.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/links/1
  [1m[32mSOLR Request (319.5ms)[0m  [ path=[1m[1mupdate[0m parameters={} ]
Completed 302 Found in 495ms (ActiveRecord: 165.7ms)


Started GET "/links/1" for 127.0.0.1 at 2015-05-17 15:25:05 -0400
Processing by LinksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 1]]
  Rendered links/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 27ms (Views: 25.8ms | ActiveRecord: 0.1ms | Solr: 324.9ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 15:25:08 -0400
Processing by LinksController#index as HTML
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links"[0m
  Rendered links/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 31ms (Views: 30.5ms | ActiveRecord: 0.2ms | Solr: 0.0ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 15:30:58 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by LinksController#index as HTML
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links"
  Rendered links/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 139ms (Views: 130.4ms | ActiveRecord: 0.4ms | Solr: 0.0ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 15:31:00 -0400
Processing by LinksController#index as HTML
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links"[0m
  Rendered links/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 28ms (Views: 27.0ms | ActiveRecord: 0.2ms | Solr: 0.0ms)


Started GET "/assets/scaffolds.self-3f604dfb801e9c592ace8885ccd3804afac84adc55bb48938d18918d28f78a7e.css?body=1" for 127.0.0.1 at 2015-05-17 15:31:00 -0400


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for 127.0.0.1 at 2015-05-17 15:31:00 -0400


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for 127.0.0.1 at 2015-05-17 15:31:00 -0400


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for 127.0.0.1 at 2015-05-17 15:31:00 -0400


Started GET "/assets/jquery_ujs.self-8e98a7a072a6cee1372d19fff9ff3e6aa1e39a37d89d6f06861637d061113ee7.js?body=1" for 127.0.0.1 at 2015-05-17 15:31:00 -0400


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for 127.0.0.1 at 2015-05-17 15:31:00 -0400


Started GET "/assets/links.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2015-05-17 15:31:00 -0400


Started GET "/assets/links.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2015-05-17 15:31:00 -0400


Started GET "/links/1" for 127.0.0.1 at 2015-05-17 15:31:08 -0400
Processing by LinksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 1]]
  Rendered links/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 29ms (Views: 21.3ms | ActiveRecord: 0.2ms | Solr: 0.0ms)


Started GET "/links/1.json" for 127.0.0.1 at 2015-05-17 15:31:11 -0400
Processing by LinksController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered links/show.json.jbuilder (66.8ms)
Completed 200 OK in 69ms (Views: 68.1ms | ActiveRecord: 0.1ms | Solr: 0.0ms)


Started GET "/links/1.xml" for 127.0.0.1 at 2015-05-17 15:31:17 -0400
Processing by LinksController#show as XML
  Parameters: {"id"=>"1"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)

ActionView::MissingTemplate (Missing template links/show, application/show with {:locale=>[:en], :formats=>[:xml], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/commander/sandbox/linkPad4/app/views"
):
  actionview (4.2.1) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.1) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.1) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.1) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.1) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.1) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.2.1) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.2.1) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.1) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.1) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.1) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.1) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.1) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.1) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.1) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.1) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/commander/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.1) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.1) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.1) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.1) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  sunspot_rails (2.2.0) lib/sunspot/rails/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
  actionpack (4.2.1) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.1) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.1) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.1) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.1) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.1) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.1) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.1) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.1) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.1) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.1) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.1) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.1) lib/active_support/callbacks.rb:776:in `_run_process_action_callbacks'
  activesupport (4.2.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.1) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.1) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.1) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.1) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.1) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.1) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.1) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.1) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.1) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.1) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.1) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.1) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.1) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.1) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.1) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.1) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.1) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.1) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.1) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.1) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.1) lib/action_dispatch/routing/route_set.rb:819:in `call'
  rack (1.6.1) lib/rack/etag.rb:24:in `call'
  rack (1.6.1) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.1) lib/rack/head.rb:13:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.1) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.1) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.1) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:649:in `call'
  activerecord (4.2.1) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.1) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.1) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.1) lib/active_support/callbacks.rb:776:in `_run_call_callbacks'
  activesupport (4.2.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.1.2) lib/web_console/middleware.rb:37:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.1) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.1) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.1) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.1) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.1) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.1) lib/rails/application.rb:164:in `call'
  rack (1.6.1) lib/rack/lock.rb:17:in `call'
  rack (1.6.1) lib/rack/content_length.rb:15:in `call'
  rack (1.6.1) lib/rack/handler/webrick.rb:89:in `service'
  /home/commander/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/commander/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/commander/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.4ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (20.5ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/console.js.erb within layouts/javascript (13.0ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/index.html.erb (27.6ms)


Started GET "/links/1.json" for 127.0.0.1 at 2015-05-17 15:31:22 -0400
Processing by LinksController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered links/show.json.jbuilder (1.2ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.1ms | Solr: 0.0ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 15:31:35 -0400
Processing by LinksController#index as HTML
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links"
  Rendered links/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 40ms (Views: 39.5ms | ActiveRecord: 0.2ms | Solr: 0.0ms)


Started GET "/links/1/edit" for 127.0.0.1 at 2015-05-17 15:31:37 -0400
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered links/_form.html.erb (21.1ms)
  Rendered links/edit.html.erb within layouts/application (23.2ms)
Completed 200 OK in 60ms (Views: 58.0ms | ActiveRecord: 0.1ms | Solr: 0.0ms)


Started PATCH "/links/1" for 127.0.0.1 at 2015-05-17 15:31:42 -0400
Processing by LinksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pDIIcMF9kq806WSOWkUTCMQ9OqHP5US+okzGQji1OLC6/cPA3dCRPIt6e8OJkjuEl1Z/rb7KhziimiWpcqXcKg==", "link"=>{"title"=>"Graham's Amazing Website", "URL"=>"http://grahamhukill.com", "html"=>"<p>Helllloooo World!</p>\r\n<p>Yep.  Rails, you kinda neat.</p>"}, "commit"=>"Update Link", "id"=>"1"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "links" SET "URL" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["URL", "http://grahamhukill.com"], ["updated_at", "2015-05-17 19:31:42.625367"], ["id", 1]]
  [1m[32mSOLR Request (8.0ms)[0m  [ path=[1m[1mupdate[0m parameters={} ]
  [1m[36m (250.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/links/1
  [1m[32mSOLR Request (351.0ms)[0m  [ path=[1m[1mupdate[0m parameters={} ]
Completed 302 Found in 622ms (ActiveRecord: 250.5ms)


Started GET "/links/1" for 127.0.0.1 at 2015-05-17 15:31:43 -0400
Processing by LinksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 1]]
  Rendered links/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 33ms (Views: 32.1ms | ActiveRecord: 0.1ms | Solr: 359.0ms)


Started GET "/links/1.json" for 127.0.0.1 at 2015-05-17 15:31:55 -0400
Processing by LinksController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered links/show.json.jbuilder (0.5ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms | Solr: 0.0ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 15:45:52 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by LinksController#index as HTML
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links"
  Rendered links/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 141ms (Views: 132.8ms | ActiveRecord: 0.4ms | Solr: 0.0ms)


Started GET "/links/search?utf8=%E2%9C%93&query=wayne&commit=Search%21" for 127.0.0.1 at 2015-05-17 15:45:56 -0400
Processing by LinksController#show as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"wayne", "commit"=>"Search!", "id"=>"search"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 6ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find Link with 'id'=search):
  app/controllers/links_controller.rb:80:in `set_link'


  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.0ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.8ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/console.js.erb within layouts/javascript (12.0ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/index.html.erb (25.7ms)


Started GET "/links/search?utf8=%E2%9C%93&query=wayne&commit=Search%21" for 127.0.0.1 at 2015-05-17 15:47:13 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by LinksController#show as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"wayne", "commit"=>"Search!", "id"=>"search"}
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `set_link' for #<LinksController:0x007f5230a25c18>):
  activesupport (4.2.1) lib/active_support/callbacks.rb:432:in `block in make_lambda'
  activesupport (4.2.1) lib/active_support/callbacks.rb:145:in `call'
  activesupport (4.2.1) lib/active_support/callbacks.rb:145:in `block in halting_and_conditional'
  activesupport (4.2.1) lib/active_support/callbacks.rb:504:in `call'
  activesupport (4.2.1) lib/active_support/callbacks.rb:504:in `block in call'
  activesupport (4.2.1) lib/active_support/callbacks.rb:504:in `each'
  activesupport (4.2.1) lib/active_support/callbacks.rb:504:in `call'
  activesupport (4.2.1) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.1) lib/active_support/callbacks.rb:776:in `_run_process_action_callbacks'
  activesupport (4.2.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.1) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.1) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.1) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.1) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.1) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.1) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.1) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.1) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.1) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.1) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.1) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.1) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.1) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.1) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.1) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.1) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.1) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.1) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.1) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.1) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.1) lib/action_dispatch/routing/route_set.rb:819:in `call'
  rack (1.6.1) lib/rack/etag.rb:24:in `call'
  rack (1.6.1) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.1) lib/rack/head.rb:13:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.1) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.1) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.1) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:649:in `call'
  activerecord (4.2.1) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.1) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.1) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.1) lib/active_support/callbacks.rb:776:in `_run_call_callbacks'
  activesupport (4.2.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.1.2) lib/web_console/middleware.rb:37:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.1) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.1) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.1) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.1) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.1) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.1) lib/rails/application.rb:164:in `call'
  rack (1.6.1) lib/rack/lock.rb:17:in `call'
  rack (1.6.1) lib/rack/content_length.rb:15:in `call'
  rack (1.6.1) lib/rack/handler/webrick.rb:89:in `service'
  /home/commander/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/commander/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/commander/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.9ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.6ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/console.js.erb within layouts/javascript (12.0ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/index.html.erb (25.5ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 15:48:09 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by LinksController#index as HTML
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links"
  Rendered links/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 139ms (Views: 130.5ms | ActiveRecord: 0.4ms | Solr: 0.0ms)


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for 127.0.0.1 at 2015-05-17 15:48:09 -0400


Started GET "/assets/scaffolds.self-3f604dfb801e9c592ace8885ccd3804afac84adc55bb48938d18918d28f78a7e.css?body=1" for 127.0.0.1 at 2015-05-17 15:48:09 -0400


Started GET "/assets/links.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2015-05-17 15:48:09 -0400


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for 127.0.0.1 at 2015-05-17 15:48:09 -0400


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for 127.0.0.1 at 2015-05-17 15:48:09 -0400


Started GET "/assets/links.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2015-05-17 15:48:09 -0400


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for 127.0.0.1 at 2015-05-17 15:48:09 -0400


Started GET "/assets/jquery_ujs.self-8e98a7a072a6cee1372d19fff9ff3e6aa1e39a37d89d6f06861637d061113ee7.js?body=1" for 127.0.0.1 at 2015-05-17 15:48:09 -0400


Started GET "/links/search?utf8=%E2%9C%93&query=wayne&commit=Search%21" for 127.0.0.1 at 2015-05-17 15:48:11 -0400
Processing by LinksController#show as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"wayne", "commit"=>"Search!", "id"=>"search"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 8ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find Link with 'id'=search):
  app/controllers/links_controller.rb:80:in `set_link'


  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.1ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.9ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/console.js.erb within layouts/javascript (11.9ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/web-console-2.1.2/lib/web_console/templates/index.html.erb (25.6ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 15:50:21 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by LinksController#index as HTML
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links"
  Rendered links/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 139ms (Views: 130.0ms | ActiveRecord: 0.4ms | Solr: 0.0ms)


Started GET "/assets/links.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2015-05-17 15:50:22 -0400


Started GET "/assets/scaffolds.self-3f604dfb801e9c592ace8885ccd3804afac84adc55bb48938d18918d28f78a7e.css?body=1" for 127.0.0.1 at 2015-05-17 15:50:22 -0400


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for 127.0.0.1 at 2015-05-17 15:50:22 -0400


Started GET "/assets/jquery_ujs.self-8e98a7a072a6cee1372d19fff9ff3e6aa1e39a37d89d6f06861637d061113ee7.js?body=1" for 127.0.0.1 at 2015-05-17 15:50:22 -0400


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for 127.0.0.1 at 2015-05-17 15:50:22 -0400


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for 127.0.0.1 at 2015-05-17 15:50:22 -0400


Started GET "/assets/links.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2015-05-17 15:50:22 -0400


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for 127.0.0.1 at 2015-05-17 15:50:22 -0400


Started GET "/links/search?utf8=%E2%9C%93&query=wayne&commit=Search%21" for 127.0.0.1 at 2015-05-17 15:50:24 -0400
Processing by LinksController#search as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"wayne", "commit"=>"Search!"}
  [1m[32mSOLR Request (8.6ms)[0m  [ path=[1m[1mselect[0m parameters={fq: [1m[1m["type:Link"][0m, q: [1m[1m"wayne"[0m, fl: [1m[1m"* score"[0m, qf: [1m[1m"title_texts html_texts"[0m, defType: [1m[1m"edismax"[0m, start: [1m[1m0[0m, rows: [1m[1m30[0m} ]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."id" = 2[0m
  Rendered links/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 41ms (Views: 21.3ms | ActiveRecord: 0.2ms | Solr: 8.6ms)


Started GET "/links/search?utf8=%E2%9C%93&query=graham&commit=Search%21" for 127.0.0.1 at 2015-05-17 15:50:30 -0400
Processing by LinksController#search as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"graham", "commit"=>"Search!"}
  [1m[32mSOLR Request (8.9ms)[0m  [ path=[1m[1mselect[0m parameters={fq: [1m[1m["type:Link"][0m, q: [1m[1m"graham"[0m, fl: [1m[1m"* score"[0m, qf: [1m[1m"title_texts html_texts"[0m, defType: [1m[1m"edismax"[0m, start: [1m[1m0[0m, rows: [1m[1m30[0m} ]
  Rendered links/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 32ms (Views: 21.3ms | ActiveRecord: 0.0ms | Solr: 8.9ms)


Started GET "/links/search?utf8=%E2%9C%93&query=Graham&commit=Search%21" for 127.0.0.1 at 2015-05-17 15:50:32 -0400
Processing by LinksController#search as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"Graham", "commit"=>"Search!"}
  [1m[32mSOLR Request (5.5ms)[0m  [ path=[1m[1mselect[0m parameters={fq: [1m[1m["type:Link"][0m, q: [1m[1m"Graham"[0m, fl: [1m[1m"* score"[0m, qf: [1m[1m"title_texts html_texts"[0m, defType: [1m[1m"edismax"[0m, start: [1m[1m0[0m, rows: [1m[1m30[0m} ]
  Rendered links/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 32ms (Views: 25.0ms | ActiveRecord: 0.0ms | Solr: 5.5ms)


Started GET "/links/search?utf8=%E2%9C%93&query=website&commit=Search%21" for 127.0.0.1 at 2015-05-17 15:50:35 -0400
Processing by LinksController#search as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"website", "commit"=>"Search!"}
  [1m[32mSOLR Request (27.1ms)[0m  [ path=[1m[1mselect[0m parameters={fq: [1m[1m["type:Link"][0m, q: [1m[1m"website"[0m, fl: [1m[1m"* score"[0m, qf: [1m[1m"title_texts html_texts"[0m, defType: [1m[1m"edismax"[0m, start: [1m[1m0[0m, rows: [1m[1m30[0m} ]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."id" = 1
  Rendered links/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 55ms (Views: 24.9ms | ActiveRecord: 0.2ms | Solr: 27.1ms)


Started GET "/links/search?utf8=%E2%9C%93&query=Graham%27s&commit=Search%21" for 127.0.0.1 at 2015-05-17 15:50:37 -0400
Processing by LinksController#search as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"Graham's", "commit"=>"Search!"}
  [1m[32mSOLR Request (7.6ms)[0m  [ path=[1m[1mselect[0m parameters={fq: [1m[1m["type:Link"][0m, q: [1m[1m"Graham's"[0m, fl: [1m[1m"* score"[0m, qf: [1m[1m"title_texts html_texts"[0m, defType: [1m[1m"edismax"[0m, start: [1m[1m0[0m, rows: [1m[1m30[0m} ]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."id" = 1[0m
  Rendered links/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 39ms (Views: 29.3ms | ActiveRecord: 0.1ms | Solr: 7.6ms)


Started GET "/links/search?utf8=%E2%9C%93&query=Rails&commit=Search%21" for 127.0.0.1 at 2015-05-17 15:50:42 -0400
Processing by LinksController#search as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"Rails", "commit"=>"Search!"}
  [1m[32mSOLR Request (6.7ms)[0m  [ path=[1m[1mselect[0m parameters={fq: [1m[1m["type:Link"][0m, q: [1m[1m"Rails"[0m, fl: [1m[1m"* score"[0m, qf: [1m[1m"title_texts html_texts"[0m, defType: [1m[1m"edismax"[0m, start: [1m[1m0[0m, rows: [1m[1m30[0m} ]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."id" = 1
  Rendered links/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 33ms (Views: 23.8ms | ActiveRecord: 0.2ms | Solr: 6.7ms)


Started GET "/links/search?utf8=%E2%9C%93&query=%3Cp%3E&commit=Search%21" for 127.0.0.1 at 2015-05-17 15:50:45 -0400
Processing by LinksController#search as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"<p>", "commit"=>"Search!"}
  [1m[32mSOLR Request (8.3ms)[0m  [ path=[1m[1mselect[0m parameters={fq: [1m[1m["type:Link"][0m, q: [1m[1m"<p>"[0m, fl: [1m[1m"* score"[0m, qf: [1m[1m"title_texts html_texts"[0m, defType: [1m[1m"edismax"[0m, start: [1m[1m0[0m, rows: [1m[1m30[0m} ]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."id" IN (2, 1)[0m
  Rendered links/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 53ms (Views: 40.9ms | ActiveRecord: 0.2ms | Solr: 8.3ms)


Started GET "/links/search?utf8=%E2%9C%93&query=%3Cp%3E&commit=Search%21" for 127.0.0.1 at 2015-05-17 15:50:47 -0400
Processing by LinksController#search as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"<p>", "commit"=>"Search!"}
  [1m[32mSOLR Request (5.8ms)[0m  [ path=[1m[1mselect[0m parameters={fq: [1m[1m["type:Link"][0m, q: [1m[1m"<p>"[0m, fl: [1m[1m"* score"[0m, qf: [1m[1m"title_texts html_texts"[0m, defType: [1m[1m"edismax"[0m, start: [1m[1m0[0m, rows: [1m[1m30[0m} ]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."id" IN (2, 1)
  Rendered links/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 45ms (Views: 35.4ms | ActiveRecord: 0.2ms | Solr: 5.8ms)


Started GET "/links/search?utf8=%E2%9C%93&query=%3Cp%3E&commit=Search%21" for 127.0.0.1 at 2015-05-17 15:52:14 -0400
Processing by LinksController#search as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"<p>", "commit"=>"Search!"}
  [1m[32mSOLR Request (6.9ms)[0m  [ path=[1m[1mselect[0m parameters={fq: [1m[1m["type:Link"][0m, q: [1m[1m"<p>"[0m, fl: [1m[1m"* score"[0m, qf: [1m[1m"title_texts html_texts"[0m, defType: [1m[1m"edismax"[0m, start: [1m[1m0[0m, rows: [1m[1m30[0m} ]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."id" IN (2, 1)[0m
  Rendered links/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 51ms (Views: 40.7ms | ActiveRecord: 0.2ms | Solr: 6.9ms)


Started GET "/assets/scaffolds.self-3f604dfb801e9c592ace8885ccd3804afac84adc55bb48938d18918d28f78a7e.css?body=1" for 127.0.0.1 at 2015-05-17 15:52:14 -0400


Started GET "/assets/links.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2015-05-17 15:52:14 -0400


Started GET "/assets/jquery_ujs.self-8e98a7a072a6cee1372d19fff9ff3e6aa1e39a37d89d6f06861637d061113ee7.js?body=1" for 127.0.0.1 at 2015-05-17 15:52:14 -0400


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for 127.0.0.1 at 2015-05-17 15:52:14 -0400


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for 127.0.0.1 at 2015-05-17 15:52:14 -0400


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for 127.0.0.1 at 2015-05-17 15:52:14 -0400


Started GET "/assets/links.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2015-05-17 15:52:14 -0400


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for 127.0.0.1 at 2015-05-17 15:52:14 -0400


Started GET "/links/search?utf8=%E2%9C%93&query=&commit=Search" for 127.0.0.1 at 2015-05-17 15:52:17 -0400
Processing by LinksController#search as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"", "commit"=>"Search"}
  [1m[32mSOLR Request (6.1ms)[0m  [ path=[1m[1mselect[0m parameters={fq: [1m[1m["type:Link"][0m, start: [1m[1m0[0m, rows: [1m[1m30[0m, q: [1m[1m"*:*"[0m} ]
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links" WHERE "links"."id" IN (2, 1)
  Rendered links/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 33.7ms | ActiveRecord: 0.3ms | Solr: 6.1ms)


Started GET "/links/new" for 127.0.0.1 at 2015-05-17 15:52:23 -0400
Processing by LinksController#new as HTML
  Rendered links/_form.html.erb (11.3ms)
  Rendered links/new.html.erb within layouts/application (14.1ms)
Completed 200 OK in 37ms (Views: 35.9ms | ActiveRecord: 0.0ms | Solr: 0.0ms)


Started POST "/links" for 127.0.0.1 at 2015-05-17 15:52:49 -0400
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"OAwTKgt0V4ZKDRi86bhjCFfCgAutrufcfYD09nHL3kwmw9iaF9lUFfWeB/E6b0uEBKnFB9yBJFp9VhcdO9s61g==", "link"=>{"title"=>"Sunspot Solr Thingy", "URL"=>"https://github.com/sunspot/sunspot#readme", "html"=>"\r\n\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"en\" class=\"\">\r\n  <head prefix=\"og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#\">\r\n    <meta charset='utf-8'>\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <meta http-equiv=\"Content-Language\" content=\"en\">\r\n    \r\n    \r\n    <title>sunspot/sunspot</title>\r\n    <link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch.xml\" title=\"GitHub\">\r\n    <link rel=\"fluid-icon\" href=\"https://github.com/fluidicon.png\" title=\"GitHub\">\r\n    <link rel=\"apple-touch-icon\" sizes=\"57x57\" href=\"/apple-touch-icon-114.png\">\r\n    <link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"/apple-touch-icon-114.png\">\r\n    <link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"/apple-touch-icon-144.png\">\r\n    <link rel=\"apple-touch-icon\" sizes=\"144x144\" href=\"/apple-touch-icon-144.png\">\r\n    <meta property=\"fb:app_id\" content=\"1401488693436528\">\r\n\r\n      <meta content=\"@github\" name=\"twitter:site\" /><meta content=\"summary\" name=\"twitter:card\" /><meta content=\"sunspot/sunspot\" name=\"twitter:title\" /><meta content=\"sunspot - Solr-powered search for Ruby objects\" name=\"twitter:description\" /><meta content=\"https://avatars0.githubusercontent.com/u/1027744?v=3&amp;s=400\" name=\"twitter:image:src\" />\r\n      <meta content=\"GitHub\" property=\"og:site_name\" /><meta content=\"object\" property=\"og:type\" /><meta content=\"https://avatars0.githubusercontent.com/u/1027744?v=3&amp;s=400\" property=\"og:image\" /><meta content=\"sunspot/sunspot\" property=\"og:title\" /><meta content=\"https://github.com/sunspot/sunspot\" property=\"og:url\" /><meta content=\"sunspot - Solr-powered search for Ruby objects\" property=\"og:description\" />\r\n      <meta name=\"browser-stats-url\" content=\"https://api.github.com/_private/browser/stats\">\r\n    <meta name=\"browser-errors-url\" content=\"https://api.github.com/_private/browser/errors\">\r\n    <link rel=\"assets\" href=\"https://assets-cdn.github.com/\">\r\n    <link rel=\"web-socket\" href=\"wss://live.github.com/_sockets/MTc1MzA4NzoxNmI3MmQyODBiNGIyNjYyZDliOTFhNzdiZjYzOWRhMjo5NTNkNDMyNjU0OGJjNzNkZDNmZjVlYTUzMTRhMzY0MDhmZmY0OTgzN2M5Yzg4MTU0ZDQwYmU3MjkwMjAwNWQ4--646029a77b59e9ee329f5a0a2fc2cfc7e19a3244\">\r\n    <meta name=\"pjax-timeout\" content=\"1000\">\r\n    <link rel=\"sudo-modal\" href=\"/sessions/sudo_modal\">\r\n\r\n    <meta name=\"msapplication-TileImage\" content=\"/windows-tile.png\">\r\n    <meta name=\"msapplication-TileColor\" content=\"#ffffff\">\r\n    <meta name=\"selected-link\" value=\"repo_source\" data-pjax-transient>\r\n      <meta name=\"google-analytics\" content=\"UA-3769691-2\">\r\n\r\n    <meta content=\"collector.githubapp.com\" name=\"octolytics-host\" /><meta content=\"collector-cdn.github.com\" name=\"octolytics-script-host\" /><meta content=\"github\" name=\"octolytics-app-id\" /><meta content=\"442A7507:67E4:43573C4:5558F18B\" name=\"octolytics-dimension-request_id\" /><meta content=\"1753087\" name=\"octolytics-actor-id\" /><meta content=\"ghukill\" name=\"octolytics-actor-login\" /><meta content=\"9bcbe341096c0123834d55ab818047d5f65ce9efc6011dbed32f43fb352dbd32\" name=\"octolytics-actor-hash\" />\r\n    \r\n    <meta content=\"Rails, view, files#disambiguate\" name=\"analytics-event\" />\r\n    <meta class=\"js-ga-set\" name=\"dimension1\" content=\"Logged In\">\r\n    <meta class=\"js-ga-set\" name=\"dimension2\" content=\"Header v3\">\r\n    <meta name=\"is-dotcom\" content=\"true\">\r\n    <meta name=\"hostname\" content=\"github.com\">\r\n    <meta name=\"user-login\" content=\"ghukill\">\r\n\r\n    \r\n    <link rel=\"icon\" type=\"image/x-icon\" href=\"https://assets-cdn.github.com/favicon.ico\">\r\n\r\n\r\n    <meta content=\"authenticity_token\" name=\"csrf-param\" />\r\n<meta content=\"IdnqP9a6n7IuMzZSwVIGdQP5p+zVuvCUa02P7pgm98wjH0gFkvDKZ+rt+K4Q9fXr91nyjTvrlGufXd5Jkg/Q1A==\" name=\"csrf-token\" />\r\n\r\n    <link href=\"https://assets-cdn.github.com/assets/github/index-d80e093fe7c48ff920ce83dfd2ad7c02806722220d164b49101ed783098ea618.css\" media=\"all\" rel=\"stylesheet\" />\r\n    <link href=\"https://assets-cdn.github.com/assets/github2/index-99a58ea750b0547d1266460cd4ade0c2c81ed8c524cbba4ea5e3b37e18daec79.css\" media=\"all\" rel=\"stylesheet\" />\r\n    \r\n    \r\n\r\n\r\n    <meta http-equiv=\"x-pjax-version\" content=\"282d80bd51fc0e03270191711c02f726\">\r\n\r\n      \r\n  <meta name=\"description\" content=\"sunspot - Solr-powered search for Ruby objects\">\r\n  <meta name=\"go-import\" content=\"github.com/sunspot/sunspot git https://github.com/sunspot/sunspot.git\">\r\n\r\n  <meta content=\"1027744\" name=\"octolytics-dimension-user_id\" /><meta content=\"sunspot\" name=\"octolytics-dimension-user_login\" /><meta content=\"62509\" name=\"octolytics-dimension-repository_id\" /><meta content=\"sunspot/sunspot\" name=\"octolytics-dimension-repository_nwo\" /><meta content=\"true\" name=\"octolytics-dimension-repository_public\" /><meta content=\"false\" name=\"octolytics-dimension-repository_is_fork\" /><meta content=\"62509\" name=\"octolytics-dimension-repository_network_root_id\" /><meta content=\"sunspot/sunspot\" name=\"octolytics-dimension-repository_network_root_nwo\" />\r\n  <link href=\"https://github.com/sunspot/sunspot/commits/master.atom\" rel=\"alternate\" title=\"Recent Commits to sunspot:master\" type=\"application/atom+xml\">\r\n\r\n  </head>\r\n\r\n\r\n  <body class=\"logged_in  env-production linux vis-public\">\r\n    <a href=\"#start-of-content\" tabindex=\"1\" class=\"accessibility-aid js-skip-to-content\">Skip to content</a>\r\n    <div class=\"wrapper\">\r\n      \r\n      \r\n      \r\n\r\n\r\n        <div class=\"header header-logged-in true\" role=\"banner\">\r\n  <div class=\"container clearfix\">\r\n\r\n    <a class=\"header-logo-invertocat\" href=\"https://github.com/\" data-hotkey=\"g d\" aria-label=\"Homepage\" data-ga-click=\"Header, go to dashboard, icon:logo\">\r\n  <span class=\"mega-octicon octicon-mark-github\"></span>\r\n</a>\r\n\r\n\r\n      <div class=\"site-search repo-scope js-site-search\" role=\"search\">\r\n          <form accept-charset=\"UTF-8\" action=\"/sunspot/sunspot/search\" class=\"js-site-search-form\" data-global-search-url=\"/search\" data-repo-search-url=\"/sunspot/sunspot/search\" method=\"get\"><div style=\"margin:0;padding:0;display:inline\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /></div>\r\n  <label class=\"js-chromeless-input-container form-control\">\r\n    <div class=\"scope-badge\">This repository</div>\r\n    <input type=\"text\"\r\n      class=\"js-site-search-focus js-site-search-field is-clearable chromeless-input\"\r\n      data-hotkey=\"s\"\r\n      name=\"q\"\r\n      placeholder=\"Search\"\r\n      data-global-scope-placeholder=\"Search GitHub\"\r\n      data-repo-scope-placeholder=\"Search\"\r\n      tabindex=\"1\"\r\n      autocapitalize=\"off\">\r\n  </label>\r\n</form>\r\n      </div>\r\n\r\n      <ul class=\"header-nav left\" role=\"navigation\">\r\n          <li class=\"header-nav-item explore\">\r\n            <a class=\"header-nav-link\" href=\"/explore\" data-ga-click=\"Header, go to explore, text:explore\">Explore</a>\r\n          </li>\r\n            <li class=\"header-nav-item\">\r\n              <a class=\"header-nav-link\" href=\"https://gist.github.com\" data-ga-click=\"Header, go to gist, text:gist\">Gist</a>\r\n            </li>\r\n            <li class=\"header-nav-item\">\r\n              <a class=\"header-nav-link\" href=\"/blog\" data-ga-click=\"Header, go to blog, text:blog\">Blog</a>\r\n            </li>\r\n          <li class=\"header-nav-item\">\r\n            <a class=\"header-nav-link\" href=\"https://help.github.com\" data-ga-click=\"Header, go to help, text:help\">Help</a>\r\n          </li>\r\n      </ul>\r\n\r\n      \r\n<ul class=\"header-nav user-nav right\" id=\"user-links\">\r\n  <li class=\"header-nav-item dropdown js-menu-container\">\r\n    <a class=\"header-nav-link name\" href=\"/ghukill\" data-ga-click=\"Header, go to profile, text:username\">\r\n      <img alt=\"@ghukill\" class=\"avatar\" data-user=\"1753087\" height=\"20\" src=\"https://avatars3.githubusercontent.com/u/1753087?v=3&amp;s=40\" width=\"20\" />\r\n      <span class=\"css-truncate\">\r\n        <span class=\"css-truncate-target\">ghukill</span>\r\n      </span>\r\n    </a>\r\n  </li>\r\n\r\n  <li class=\"header-nav-item dropdown js-menu-container\">\r\n    <a class=\"header-nav-link js-menu-target tooltipped tooltipped-s\" href=\"/new\" aria-label=\"Create new...\" data-ga-click=\"Header, create new, icon:add\">\r\n      <span class=\"octicon octicon-plus\"></span>\r\n      <span class=\"dropdown-caret\"></span>\r\n    </a>\r\n\r\n    <div class=\"dropdown-menu-content js-menu-content\">\r\n      <ul class=\"dropdown-menu\">\r\n        \r\n<li>\r\n  <a href=\"/new\" data-ga-click=\"Header, create new repository, icon:repo\"><span class=\"octicon octicon-repo\"></span> New repository</a>\r\n</li>\r\n<li>\r\n  <a href=\"/organizations/new\" data-ga-click=\"Header, create new organization, icon:organization\"><span class=\"octicon octicon-organization\"></span> New organization</a>\r\n</li>\r\n\r\n\r\n  <li class=\"dropdown-divider\"></li>\r\n  <li class=\"dropdown-header\">\r\n    <span title=\"sunspot/sunspot\">This repository</span>\r\n  </li>\r\n    <li>\r\n      <a href=\"/sunspot/sunspot/issues/new\" data-ga-click=\"Header, create new issue, icon:issue\"><span class=\"octicon octicon-issue-opened\"></span> New issue</a>\r\n    </li>\r\n\r\n      </ul>\r\n    </div>\r\n  </li>\r\n\r\n  <li class=\"header-nav-item\">\r\n      <span class=\"js-socket-channel js-updatable-content\"\r\n        data-channel=\"notification-changed:ghukill\"\r\n        data-url=\"/notifications/header\">\r\n      <a href=\"/notifications\" aria-label=\"You have unread notifications\" class=\"header-nav-link notification-indicator tooltipped tooltipped-s\" data-ga-click=\"Header, go to notifications, icon:unread\" data-hotkey=\"g n\">\r\n          <span class=\"mail-status unread\"></span>\r\n          <span class=\"octicon octicon-inbox\"></span>\r\n</a>  </span>\r\n\r\n  </li>\r\n\r\n  <li class=\"header-nav-item\">\r\n    <a class=\"header-nav-link tooltipped tooltipped-s\" href=\"/settings/profile\" id=\"account_settings\" aria-label=\"Settings\" data-ga-click=\"Header, go to settings, icon:settings\">\r\n      <span class=\"octicon octicon-gear\"></span>\r\n    </a>\r\n  </li>\r\n\r\n  <li class=\"header-nav-item\">\r\n    <form accept-charset=\"UTF-8\" action=\"/logout\" class=\"logout-form\" method=\"post\"><div style=\"margin:0;padding:0;display:inline\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /><input name=\"authenticity_token\" type=\"hidden\" value=\"ogtavf4XhTECS2l/OhdZKt2Y54o3vv6cAKoS91XO4UInMLBPYiQCs457clAfG2Bo7d+cKC0KgXm9kD5LEO0Gzw==\" /></div>\r\n      <button class=\"header-nav-link sign-out-button tooltipped tooltipped-s\" aria-label=\"Sign out\" data-ga-click=\"Header, sign out, icon:logout\">\r\n        <span class=\"octicon octicon-sign-out\"></span>\r\n      </button>\r\n</form>  </li>\r\n\r\n</ul>\r\n\r\n\r\n\r\n    \r\n  </div>\r\n</div>\r\n\r\n        \r\n\r\n        \r\n\r\n\r\n      <div id=\"start-of-content\" class=\"accessibility-aid\"></div>\r\n          <div class=\"site\" itemscope itemtype=\"http://schema.org/WebPage\">\r\n    <div id=\"js-flash-container\">\r\n      \r\n    </div>\r\n    <div class=\"pagehead repohead instapaper_ignore readability-menu\">\r\n      <div class=\"container\">\r\n        \r\n<ul class=\"pagehead-actions\">\r\n\r\n  <li>\r\n      <form accept-charset=\"UTF-8\" action=\"/notifications/subscribe\" class=\"js-social-container\" data-autosubmit=\"true\" data-remote=\"true\" method=\"post\"><div style=\"margin:0;padding:0;display:inline\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /><input name=\"authenticity_token\" type=\"hidden\" value=\"iurVYf0gGgmwcfB1aWKqLcL7yOT51El2nRDJv7yACgyfeVgEaYxdYKsLoPjFRTP/i0G1610ZvcGLP2cwGKNoew==\" /></div>    <input id=\"repository_id\" name=\"repository_id\" type=\"hidden\" value=\"62509\" />\r\n\r\n      <div class=\"select-menu js-menu-container js-select-menu\">\r\n        <a href=\"/sunspot/sunspot/subscription\"\r\n          class=\"btn btn-sm btn-with-count select-menu-button js-menu-target\" role=\"button\" tabindex=\"0\" aria-haspopup=\"true\"\r\n          data-ga-click=\"Repository, click Watch settings, action:files#disambiguate\">\r\n          <span class=\"js-select-button\">\r\n            <span class=\"octicon octicon-eye\"></span>\r\n            Watch\r\n          </span>\r\n        </a>\r\n        <a class=\"social-count js-social-count\" href=\"/sunspot/sunspot/watchers\">\r\n          16\r\n        </a>\r\n\r\n        <div class=\"select-menu-modal-holder\">\r\n          <div class=\"select-menu-modal subscription-menu-modal js-menu-content\" aria-hidden=\"true\">\r\n            <div class=\"select-menu-header\">\r\n              <span class=\"select-menu-title\">Notifications</span>\r\n              <span class=\"octicon octicon-x js-menu-close\" role=\"button\" aria-label=\"Close\"></span>\r\n            </div>\r\n\r\n            <div class=\"select-menu-list js-navigation-container\" role=\"menu\">\r\n\r\n              <div class=\"select-menu-item js-navigation-item selected\" role=\"menuitem\" tabindex=\"0\">\r\n                <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n                <div class=\"select-menu-item-text\">\r\n                  <input checked=\"checked\" id=\"do_included\" name=\"do\" type=\"radio\" value=\"included\" />\r\n                  <span class=\"select-menu-item-heading\">Not watching</span>\r\n                  <span class=\"description\">Be notified when participating or @mentioned.</span>\r\n                  <span class=\"js-select-button-text hidden-select-button-text\">\r\n                    <span class=\"octicon octicon-eye\"></span>\r\n                    Watch\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"select-menu-item js-navigation-item \" role=\"menuitem\" tabindex=\"0\">\r\n                <span class=\"select-menu-item-icon octicon octicon octicon-check\"></span>\r\n                <div class=\"select-menu-item-text\">\r\n                  <input id=\"do_subscribed\" name=\"do\" type=\"radio\" value=\"subscribed\" />\r\n                  <span class=\"select-menu-item-heading\">Watching</span>\r\n                  <span class=\"description\">Be notified of all conversations.</span>\r\n                  <span class=\"js-select-button-text hidden-select-button-text\">\r\n                    <span class=\"octicon octicon-eye\"></span>\r\n                    Unwatch\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"select-menu-item js-navigation-item \" role=\"menuitem\" tabindex=\"0\">\r\n                <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n                <div class=\"select-menu-item-text\">\r\n                  <input id=\"do_ignore\" name=\"do\" type=\"radio\" value=\"ignore\" />\r\n                  <span class=\"select-menu-item-heading\">Ignoring</span>\r\n                  <span class=\"description\">Never be notified.</span>\r\n                  <span class=\"js-select-button-text hidden-select-button-text\">\r\n                    <span class=\"octicon octicon-mute\"></span>\r\n                    Stop ignoring\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n</form>\r\n  </li>\r\n\r\n  <li>\r\n    \r\n  <div class=\"js-toggler-container js-social-container starring-container \">\r\n\r\n    <form accept-charset=\"UTF-8\" action=\"/sunspot/sunspot/unstar\" class=\"js-toggler-form starred js-unstar-button\" data-remote=\"true\" method=\"post\"><div style=\"margin:0;padding:0;display:inline\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /><input name=\"authenticity_token\" type=\"hidden\" value=\"w0U1MHiS6dsGesFEHjkuLnVUDhYfVIGlep4R9mjJKy/a7KojZDSa8RrMJe9u9e7qUHQV4plQ7TB7PDQv8w9yZg==\" /></div>\r\n      <button\r\n        class=\"btn btn-sm btn-with-count js-toggler-target\"\r\n        aria-label=\"Unstar this repository\" title=\"Unstar sunspot/sunspot\"\r\n        data-ga-click=\"Repository, click unstar button, action:files#disambiguate; text:Unstar\">\r\n        <span class=\"octicon octicon-star\"></span>\r\n        Unstar\r\n      </button>\r\n        <a class=\"social-count js-social-count\" href=\"/sunspot/sunspot/stargazers\">\r\n          2,294\r\n        </a>\r\n</form>\r\n    <form accept-charset=\"UTF-8\" action=\"/sunspot/sunspot/star\" class=\"js-toggler-form unstarred js-star-button\" data-remote=\"true\" method=\"post\"><div style=\"margin:0;padding:0;display:inline\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /><input name=\"authenticity_token\" type=\"hidden\" value=\"wsYitVw0CYYuepRMAtNsrPoa/je3zaTFwgUEnJZzQ6Xa/bMZMsvKmzneMPy6TMzkcaWg5a+mHyVwC4Xry/XLcA==\" /></div>\r\n      <button\r\n        class=\"btn btn-sm btn-with-count js-toggler-target\"\r\n        aria-label=\"Star this repository\" title=\"Star sunspot/sunspot\"\r\n        data-ga-click=\"Repository, click star button, action:files#disambiguate; text:Star\">\r\n        <span class=\"octicon octicon-star\"></span>\r\n        Star\r\n      </button>\r\n        <a class=\"social-count js-social-count\" href=\"/sunspot/sunspot/stargazers\">\r\n          2,294\r\n        </a>\r\n</form>  </div>\r\n\r\n  </li>\r\n\r\n        <li>\r\n          <a href=\"#fork-destination-box\" class=\"btn btn-sm btn-with-count\"\r\n              title=\"Fork your own copy of sunspot/sunspot to your account\"\r\n              aria-label=\"Fork your own copy of sunspot/sunspot to your account\"\r\n              rel=\"facebox\"\r\n              data-ga-click=\"Repository, show fork modal, action:files#disambiguate; text:Fork\">\r\n            <span class=\"octicon octicon-repo-forked\"></span>\r\n            Fork\r\n          </a>\r\n          <a href=\"/sunspot/sunspot/network\" class=\"social-count\">737</a>\r\n\r\n          <div id=\"fork-destination-box\" style=\"display: none;\">\r\n            <h2 class=\"facebox-header\">Where should we fork this repository?</h2>\r\n            <include-fragment src=\"\"\r\n                class=\"js-fork-select-fragment fork-select-fragment\"\r\n                data-url=\"/sunspot/sunspot/fork?fragment=1\">\r\n              <img alt=\"Loading\" height=\"64\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-128-338974454bb5c32803e82f601beb051d373744b024fe8742a76009700fd7e033.gif\" width=\"64\" />\r\n            </include-fragment>\r\n          </div>\r\n        </li>\r\n\r\n</ul>\r\n\r\n        <h1 itemscope itemtype=\"http://data-vocabulary.org/Breadcrumb\" class=\"entry-title public\">\r\n          <span class=\"mega-octicon octicon-repo\"></span>\r\n          <span class=\"author\"><a href=\"/sunspot\" class=\"url fn\" itemprop=\"url\" rel=\"author\"><span itemprop=\"title\">sunspot</span></a></span><!--\r\n       --><span class=\"path-divider\">/</span><!--\r\n       --><strong><a href=\"/sunspot/sunspot\" class=\"js-current-repository\" data-pjax=\"#js-repo-pjax-container\">sunspot</a></strong>\r\n\r\n          <span class=\"page-context-loader\">\r\n            <img alt=\"\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </span>\r\n\r\n        </h1>\r\n      </div><!-- /.container -->\r\n    </div><!-- /.repohead -->\r\n\r\n    <div class=\"container\">\r\n      <div class=\"repository-with-sidebar repo-container new-discussion-timeline with-full-navigation \">\r\n        <div class=\"repository-sidebar clearfix\">\r\n            \r\n<nav class=\"sunken-menu repo-nav js-repo-nav js-sidenav-container-pjax js-octicon-loaders\"\r\n     role=\"navigation\"\r\n     data-pjax=\"#js-repo-pjax-container\"\r\n     data-issue-count-url=\"/sunspot/sunspot/issues/counts\">\r\n  <ul class=\"sunken-menu-group\">\r\n    <li class=\"tooltipped tooltipped-w\" aria-label=\"Code\">\r\n      <a href=\"/sunspot/sunspot\" aria-label=\"Code\" class=\"selected js-selected-navigation-item sunken-menu-item\" data-hotkey=\"g c\" data-selected-links=\"repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /sunspot/sunspot\">\r\n        <span class=\"octicon octicon-code\"></span> <span class=\"full-word\">Code</span>\r\n        <img alt=\"\" class=\"mini-loader\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n</a>    </li>\r\n\r\n      <li class=\"tooltipped tooltipped-w\" aria-label=\"Issues\">\r\n        <a href=\"/sunspot/sunspot/issues\" aria-label=\"Issues\" class=\"js-selected-navigation-item sunken-menu-item\" data-hotkey=\"g i\" data-selected-links=\"repo_issues repo_labels repo_milestones /sunspot/sunspot/issues\">\r\n          <span class=\"octicon octicon-issue-opened\"></span> <span class=\"full-word\">Issues</span>\r\n          <span class=\"js-issue-replace-counter\"></span>\r\n          <img alt=\"\" class=\"mini-loader\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n</a>      </li>\r\n\r\n    <li class=\"tooltipped tooltipped-w\" aria-label=\"Pull requests\">\r\n      <a href=\"/sunspot/sunspot/pulls\" aria-label=\"Pull requests\" class=\"js-selected-navigation-item sunken-menu-item\" data-hotkey=\"g p\" data-selected-links=\"repo_pulls /sunspot/sunspot/pulls\">\r\n          <span class=\"octicon octicon-git-pull-request\"></span> <span class=\"full-word\">Pull requests</span>\r\n          <span class=\"js-pull-replace-counter\"></span>\r\n          <img alt=\"\" class=\"mini-loader\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n</a>    </li>\r\n\r\n      <li class=\"tooltipped tooltipped-w\" aria-label=\"Wiki\">\r\n        <a href=\"/sunspot/sunspot/wiki\" aria-label=\"Wiki\" class=\"js-selected-navigation-item sunken-menu-item\" data-hotkey=\"g w\" data-selected-links=\"repo_wiki /sunspot/sunspot/wiki\">\r\n          <span class=\"octicon octicon-book\"></span> <span class=\"full-word\">Wiki</span>\r\n          <img alt=\"\" class=\"mini-loader\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n</a>      </li>\r\n  </ul>\r\n  <div class=\"sunken-menu-separator\"></div>\r\n  <ul class=\"sunken-menu-group\">\r\n\r\n    <li class=\"tooltipped tooltipped-w\" aria-label=\"Pulse\">\r\n      <a href=\"/sunspot/sunspot/pulse\" aria-label=\"Pulse\" class=\"js-selected-navigation-item sunken-menu-item\" data-selected-links=\"pulse /sunspot/sunspot/pulse\">\r\n        <span class=\"octicon octicon-pulse\"></span> <span class=\"full-word\">Pulse</span>\r\n        <img alt=\"\" class=\"mini-loader\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n</a>    </li>\r\n\r\n    <li class=\"tooltipped tooltipped-w\" aria-label=\"Graphs\">\r\n      <a href=\"/sunspot/sunspot/graphs\" aria-label=\"Graphs\" class=\"js-selected-navigation-item sunken-menu-item\" data-selected-links=\"repo_graphs repo_contributors /sunspot/sunspot/graphs\">\r\n        <span class=\"octicon octicon-graph\"></span> <span class=\"full-word\">Graphs</span>\r\n        <img alt=\"\" class=\"mini-loader\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n</a>    </li>\r\n  </ul>\r\n\r\n\r\n</nav>\r\n\r\n              <div class=\"only-with-full-nav\">\r\n                  \r\n<div class=\"clone-url open\"\r\n  data-protocol-type=\"http\"\r\n  data-url=\"/users/set_protocol?protocol_selector=http&amp;protocol_type=clone\">\r\n  <h3><span class=\"text-emphasized\">HTTPS</span> clone URL</h3>\r\n  <div class=\"input-group js-zeroclipboard-container\">\r\n    <input type=\"text\" class=\"input-mini input-monospace js-url-field js-zeroclipboard-target\"\r\n           value=\"https://github.com/sunspot/sunspot.git\" readonly=\"readonly\">\r\n    <span class=\"input-group-button\">\r\n      <button aria-label=\"Copy to clipboard\" class=\"js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s\" data-copied-hint=\"Copied!\" type=\"button\"><span class=\"octicon octicon-clippy\"></span></button>\r\n    </span>\r\n  </div>\r\n</div>\r\n\r\n  \r\n<div class=\"clone-url \"\r\n  data-protocol-type=\"ssh\"\r\n  data-url=\"/users/set_protocol?protocol_selector=ssh&amp;protocol_type=clone\">\r\n  <h3><span class=\"text-emphasized\">SSH</span> clone URL</h3>\r\n  <div class=\"input-group js-zeroclipboard-container\">\r\n    <input type=\"text\" class=\"input-mini input-monospace js-url-field js-zeroclipboard-target\"\r\n           value=\"git@github.com:sunspot/sunspot.git\" readonly=\"readonly\">\r\n    <span class=\"input-group-button\">\r\n      <button aria-label=\"Copy to clipboard\" class=\"js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s\" data-copied-hint=\"Copied!\" type=\"button\"><span class=\"octicon octicon-clippy\"></span></button>\r\n    </span>\r\n  </div>\r\n</div>\r\n\r\n  \r\n<div class=\"clone-url \"\r\n  data-protocol-type=\"subversion\"\r\n  data-url=\"/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone\">\r\n  <h3><span class=\"text-emphasized\">Subversion</span> checkout URL</h3>\r\n  <div class=\"input-group js-zeroclipboard-container\">\r\n    <input type=\"text\" class=\"input-mini input-monospace js-url-field js-zeroclipboard-target\"\r\n           value=\"https://github.com/sunspot/sunspot\" readonly=\"readonly\">\r\n    <span class=\"input-group-button\">\r\n      <button aria-label=\"Copy to clipboard\" class=\"js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s\" data-copied-hint=\"Copied!\" type=\"button\"><span class=\"octicon octicon-clippy\"></span></button>\r\n    </span>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n<p class=\"clone-options\">You can clone with\r\n  <a href=\"#\" class=\"js-clone-selector\" data-protocol=\"http\">HTTPS</a>, <a href=\"#\" class=\"js-clone-selector\" data-protocol=\"ssh\">SSH</a>, or <a href=\"#\" class=\"js-clone-selector\" data-protocol=\"subversion\">Subversion</a>.\r\n  <a href=\"https://help.github.com/articles/which-remote-url-should-i-use\" class=\"help tooltipped tooltipped-n\" aria-label=\"Get help on which URL is right for you.\">\r\n    <span class=\"octicon octicon-question\"></span>\r\n  </a>\r\n</p>\r\n\r\n\r\n\r\n\r\n                <a href=\"/sunspot/sunspot/archive/master.zip\"\r\n                   class=\"btn btn-sm sidebar-button\"\r\n                   aria-label=\"Download the contents of sunspot/sunspot as a zip file\"\r\n                   title=\"Download the contents of sunspot/sunspot as a zip file\"\r\n                   rel=\"nofollow\">\r\n                  <span class=\"octicon octicon-cloud-download\"></span>\r\n                  Download ZIP\r\n                </a>\r\n              </div>\r\n        </div><!-- /.repository-sidebar -->\r\n\r\n        <div id=\"js-repo-pjax-container\" class=\"repository-content context-loader-container\" data-pjax-container>\r\n\r\n          \r\n<span id=\"js-show-full-navigation\"></span>\r\n\r\n<div class=\"repository-meta js-details-container \">\r\n    <div class=\"repository-description\">\r\n      Solr-powered search for Ruby objects\r\n    </div>\r\n\r\n    <div class=\"repository-website\">\r\n      <p><a href=\"http://sunspot.github.com/\" rel=\"nofollow\">http://sunspot.github.com/</a></p>\r\n    </div>\r\n\r\n\r\n</div>\r\n\r\n<div class=\"overall-summary overall-summary-bottomless\">\r\n\r\n  <div class=\"stats-switcher-viewport js-stats-switcher-viewport\">\r\n    <div class=\"stats-switcher-wrapper\">\r\n    <ul class=\"numbers-summary\">\r\n      <li class=\"commits\">\r\n        <a data-pjax href=\"/sunspot/sunspot/commits/master\">\r\n            <span class=\"octicon octicon-history\"></span>\r\n            <span class=\"num text-emphasized\">\r\n              1,786\r\n            </span>\r\n            commits\r\n        </a>\r\n      </li>\r\n      <li>\r\n        <a data-pjax href=\"/sunspot/sunspot/branches\">\r\n          <span class=\"octicon octicon-git-branch\"></span>\r\n          <span class=\"num text-emphasized\">\r\n            19\r\n          </span>\r\n          branches\r\n        </a>\r\n      </li>\r\n\r\n      <li>\r\n        <a data-pjax href=\"/sunspot/sunspot/releases\">\r\n          <span class=\"octicon octicon-tag\"></span>\r\n          <span class=\"num text-emphasized\">\r\n            72\r\n          </span>\r\n          releases\r\n        </a>\r\n      </li>\r\n\r\n      <li>\r\n        <include-fragment src=\"/sunspot/sunspot/contributors_size\">\r\n          <a href=\"/sunspot/sunspot/graphs/contributors\">\r\n            <span class=\"octicon octicon-organization\"></span>\r\n            <span class=\"num text-emphasized\"></span>\r\n            Fetching contributors\r\n          </a>\r\n</include-fragment>      </li>\r\n    </ul>\r\n\r\n      <div class=\"repository-lang-stats\">\r\n        <ol class=\"repository-lang-stats-numbers\">\r\n          <li>\r\n              <a href=\"/sunspot/sunspot/search?l=ruby\">\r\n                <span class=\"color-block language-color\" style=\"background-color:#701516;\"></span>\r\n                <span class=\"lang\">Ruby</span>\r\n                <span class=\"percent\">96.0%</span>\r\n              </a>\r\n          </li>\r\n          <li>\r\n              <a href=\"/sunspot/sunspot/search?l=xslt\">\r\n                <span class=\"color-block language-color\" style=\"background-color:#ccc;\"></span>\r\n                <span class=\"lang\">XSLT</span>\r\n                <span class=\"percent\">3.5%</span>\r\n              </a>\r\n          </li>\r\n          <li>\r\n              <span class=\"other\">\r\n                <span data-lang=\"Other\" class=\"color-block language-color\" style=\"background-color:#ededed;\"></span>\r\n                <span class=\"lang\">Other</span>\r\n                <span class=\"percent\">0.5%</span>\r\n              </span>\r\n          </li>\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n  <div class=\"repository-lang-stats-graph js-toggle-lang-stats\" title=\"Click for language details\">\r\n    <span class=\"language-color\" aria-label=\"Ruby 96.0%\" style=\"width:96.0%; background-color:#701516;\" itemprop=\"keywords\">Ruby</span>\r\n    <span class=\"language-color\" aria-label=\"XSLT 3.5%\" style=\"width:3.5%; background-color:#ccc;\" itemprop=\"keywords\">XSLT</span>\r\n    <span class=\"language-color\" aria-label=\"Other 0.5%\" style=\"width:0.5%; background-color:#ededed;\" itemprop=\"keywords\">Other</span>\r\n  </div>\r\n\r\n<include-fragment src=\"/sunspot/sunspot/show_partial?partial=tree%2Frecently_touched_branches_list\"></include-fragment>\r\n\r\n<div class=\"file-navigation in-mid-page\">\r\n  <a href=\"/sunspot/sunspot/find/master\"\r\n        class=\"js-show-file-finder btn btn-sm empty-icon tooltipped tooltipped-s right\"\r\n        data-pjax\r\n        data-hotkey=\"t\"\r\n        aria-label=\"Quickly jump between files\">\r\n    <span class=\"octicon octicon-list-unordered\"></span>\r\n  </a>\r\n    <a href=\"/sunspot/sunspot/compare\" aria-label=\"Compare, review, create a pull request\" class=\"btn btn-sm btn-primary tooltipped tooltipped-se left compare-button\" aria-label=\"Compare &amp; review\" data-pjax data-ga-click=\"Repository, go to compare view, location:repo overview; icon:git-compare\">\r\n      <span class=\"octicon octicon-git-compare\"></span>\r\n    </a>\r\n\r\n  \r\n<div class=\"select-menu js-menu-container js-select-menu left\">\r\n  <span class=\"btn btn-sm select-menu-button js-menu-target css-truncate\" data-hotkey=\"w\"\r\n    data-master-branch=\"master\"\r\n    data-ref=\"master\"\r\n    title=\"master\"\r\n    role=\"button\" aria-label=\"Switch branches or tags\" tabindex=\"0\" aria-haspopup=\"true\">\r\n    <span class=\"octicon octicon-git-branch\"></span>\r\n    <i>branch:</i>\r\n    <span class=\"js-select-button css-truncate-target\">master</span>\r\n  </span>\r\n\r\n  <div class=\"select-menu-modal-holder js-menu-content js-navigation-container\" data-pjax aria-hidden=\"true\">\r\n\r\n    <div class=\"select-menu-modal\">\r\n      <div class=\"select-menu-header\">\r\n        <span class=\"select-menu-title\">Switch branches/tags</span>\r\n        <span class=\"octicon octicon-x js-menu-close\" role=\"button\" aria-label=\"Close\"></span>\r\n      </div>\r\n\r\n      <div class=\"select-menu-filters\">\r\n        <div class=\"select-menu-text-filter\">\r\n          <input type=\"text\" aria-label=\"Filter branches/tags\" id=\"context-commitish-filter-field\" class=\"js-filterable-field js-navigation-enable\" placeholder=\"Filter branches/tags\">\r\n        </div>\r\n        <div class=\"select-menu-tabs\">\r\n          <ul>\r\n            <li class=\"select-menu-tab\">\r\n              <a href=\"#\" data-tab-filter=\"branches\" data-filter-placeholder=\"Filter branches/tags\" class=\"js-select-menu-tab\">Branches</a>\r\n            </li>\r\n            <li class=\"select-menu-tab\">\r\n              <a href=\"#\" data-tab-filter=\"tags\" data-filter-placeholder=\"Find a tagâ€¦\" class=\"js-select-menu-tab\">Tags</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket\" data-tab-filter=\"branches\">\r\n\r\n        <div data-filterable-for=\"context-commitish-filter-field\" data-filterable-type=\"substring\">\r\n\r\n\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/1-3-stable\"\r\n               data-name=\"1-3-stable\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"1-3-stable\">\r\n                1-3-stable\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/2-0-stable\"\r\n               data-name=\"2-0-stable\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"2-0-stable\">\r\n                2-0-stable\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/fix-travis\"\r\n               data-name=\"fix-travis\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"fix-travis\">\r\n                fix-travis\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/geohash-proximity\"\r\n               data-name=\"geohash-proximity\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"geohash-proximity\">\r\n                geohash-proximity\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/gh-pages\"\r\n               data-name=\"gh-pages\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"gh-pages\">\r\n                gh-pages\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/joneslee85-patch-1\"\r\n               data-name=\"joneslee85-patch-1\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"joneslee85-patch-1\">\r\n                joneslee85-patch-1\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open selected\"\r\n               href=\"/sunspot/sunspot/tree/master\"\r\n               data-name=\"master\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"master\">\r\n                master\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/rails-2-3-support\"\r\n               data-name=\"rails-2-3-support\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"rails-2-3-support\">\r\n                rails-2-3-support\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/ref-type\"\r\n               data-name=\"ref-type\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"ref-type\">\r\n                ref-type\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/retry_5xx_session_proxy\"\r\n               data-name=\"retry_5xx_session_proxy\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"retry_5xx_session_proxy\">\r\n                retry_5xx_session_proxy\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/retry-fail-session-proxy\"\r\n               data-name=\"retry-fail-session-proxy\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"retry-fail-session-proxy\">\r\n                retry-fail-session-proxy\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/silence-progress-bar\"\r\n               data-name=\"silence-progress-bar\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"silence-progress-bar\">\r\n                silence-progress-bar\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/solr4\"\r\n               data-name=\"solr4\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"solr4\">\r\n                solr4\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/spatial\"\r\n               data-name=\"spatial\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"spatial\">\r\n                spatial\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/spellcheck\"\r\n               data-name=\"spellcheck\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"spellcheck\">\r\n                spellcheck\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/test-with-latest-rails\"\r\n               data-name=\"test-with-latest-rails\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"test-with-latest-rails\">\r\n                test-with-latest-rails\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/v1.1.1\"\r\n               data-name=\"v1.1.1\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"v1.1.1\">\r\n                v1.1.1\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/v1.2\"\r\n               data-name=\"v1.2\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"v1.2\">\r\n                v1.2\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/vanstee-switch_to_after_commit\"\r\n               data-name=\"vanstee-switch_to_after_commit\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"vanstee-switch_to_after_commit\">\r\n                vanstee-switch_to_after_commit\r\n              </span>\r\n            </a>\r\n        </div>\r\n\r\n          <div class=\"select-menu-no-results\">Nothing to show</div>\r\n      </div>\r\n\r\n      <div class=\"select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket\" data-tab-filter=\"tags\">\r\n        <div data-filterable-for=\"context-commitish-filter-field\" data-filterable-type=\"substring\">\r\n\r\n\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.2.0\"\r\n                 data-name=\"v2.2.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.2.0\">v2.2.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.1.1\"\r\n                 data-name=\"v2.1.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.1.1\">v2.1.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.1.0\"\r\n                 data-name=\"v2.1.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.1.0\">v2.1.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.0.0.pre.130115\"\r\n                 data-name=\"v2.0.0.pre.130115\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.0.0.pre.130115\">v2.0.0.pre.130115</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.0.0.pre.120720\"\r\n                 data-name=\"v2.0.0.pre.120720\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.0.0.pre.120720\">v2.0.0.pre.120720</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.0.0.pre.120417\"\r\n                 data-name=\"v2.0.0.pre.120417\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.0.0.pre.120417\">v2.0.0.pre.120417</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.0.0.pre.120415\"\r\n                 data-name=\"v2.0.0.pre.120415\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.0.0.pre.120415\">v2.0.0.pre.120415</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.0.0.pre.111215\"\r\n                 data-name=\"v2.0.0.pre.111215\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.0.0.pre.111215\">v2.0.0.pre.111215</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.0.0\"\r\n                 data-name=\"v2.0.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.0.0\">v2.0.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.3\"\r\n                 data-name=\"v1.3.3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.3\">v1.3.3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.2\"\r\n                 data-name=\"v1.3.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.2\">v1.3.2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.1\"\r\n                 data-name=\"v1.3.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.1\">v1.3.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0.rc6\"\r\n                 data-name=\"v1.3.0.rc6\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0.rc6\">v1.3.0.rc6</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0.rc5\"\r\n                 data-name=\"v1.3.0.rc5\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0.rc5\">v1.3.0.rc5</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0.rc4\"\r\n                 data-name=\"v1.3.0.rc4\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0.rc4\">v1.3.0.rc4</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0.rc3\"\r\n                 data-name=\"v1.3.0.rc3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0.rc3\">v1.3.0.rc3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0.rc2\"\r\n                 data-name=\"v1.3.0.rc2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0.rc2\">v1.3.0.rc2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0.rc1\"\r\n                 data-name=\"v1.3.0.rc1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0.rc1\">v1.3.0.rc1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0\"\r\n                 data-name=\"v1.3.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0\">v1.3.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.2.rc4\"\r\n                 data-name=\"v1.2.rc4\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.2.rc4\">v1.2.rc4</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.2.rc3\"\r\n                 data-name=\"v1.2.rc3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.2.rc3\">v1.2.rc3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.2rc2\"\r\n                 data-name=\"v1.2rc2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.2rc2\">v1.2rc2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.2.1\"\r\n                 data-name=\"v1.2.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.2.1\">v1.2.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.2.0\"\r\n                 data-name=\"v1.2.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.2.0\">v1.2.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.1rc3\"\r\n                 data-name=\"v1.1rc3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.1rc3\">v1.1rc3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.1rc2\"\r\n                 data-name=\"v1.1rc2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.1rc2\">v1.1rc2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.1rc1\"\r\n                 data-name=\"v1.1rc1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.1rc1\">v1.1rc1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.1.0\"\r\n                 data-name=\"v1.1.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.1.0\">v1.1.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0rc3\"\r\n                 data-name=\"v1.0rc3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0rc3\">v1.0rc3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0rc2\"\r\n                 data-name=\"v1.0rc2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0rc2\">v1.0rc2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0rc1\"\r\n                 data-name=\"v1.0rc1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0rc1\">v1.0rc1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.5\"\r\n                 data-name=\"v1.0.5\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.5\">v1.0.5</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.4\"\r\n                 data-name=\"v1.0.4\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.4\">v1.0.4</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.3\"\r\n                 data-name=\"v1.0.3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.3\">v1.0.3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.2\"\r\n                 data-name=\"v1.0.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.2\">v1.0.2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.1\"\r\n                 data-name=\"v1.0.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.1\">v1.0.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.0pre1\"\r\n                 data-name=\"v1.0.0pre1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.0pre1\">v1.0.0pre1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.0\"\r\n                 data-name=\"v1.0.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.0\">v1.0.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.9\"\r\n                 data-name=\"v0.10.9\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.9\">v0.10.9</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.8\"\r\n                 data-name=\"v0.10.8\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.8\">v0.10.8</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.7\"\r\n                 data-name=\"v0.10.7\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.7\">v0.10.7</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.6\"\r\n                 data-name=\"v0.10.6\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.6\">v0.10.6</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.5\"\r\n                 data-name=\"v0.10.5\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.5\">v0.10.5</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.4\"\r\n                 data-name=\"v0.10.4\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.4\">v0.10.4</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.3\"\r\n                 data-name=\"v0.10.3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.3\">v0.10.3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.2\"\r\n                 data-name=\"v0.10.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.2\">v0.10.2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.1\"\r\n                 data-name=\"v0.10.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.1\">v0.10.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.0\"\r\n                 data-name=\"v0.10.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.0\">v0.10.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.8\"\r\n                 data-name=\"v0.9.8\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.8\">v0.9.8</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.7\"\r\n                 data-name=\"v0.9.7\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.7\">v0.9.7</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.6\"\r\n                 data-name=\"v0.9.6\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.6\">v0.9.6</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.5\"\r\n                 data-name=\"v0.9.5\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.5\">v0.9.5</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.4\"\r\n                 data-name=\"v0.9.4\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.4\">v0.9.4</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.3\"\r\n                 data-name=\"v0.9.3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.3\">v0.9.3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.2\"\r\n                 data-name=\"v0.9.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.2\">v0.9.2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.1\"\r\n                 data-name=\"v0.9.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.1\">v0.9.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.0\"\r\n                 data-name=\"v0.9.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.0\">v0.9.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.9\"\r\n                 data-name=\"v0.8.9\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.9\">v0.8.9</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.8\"\r\n                 data-name=\"v0.8.8\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.8\">v0.8.8</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.7\"\r\n                 data-name=\"v0.8.7\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.7\">v0.8.7</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.6\"\r\n                 data-name=\"v0.8.6\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.6\">v0.8.6</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.5\"\r\n                 data-name=\"v0.8.5\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.5\">v0.8.5</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.4\"\r\n                 data-name=\"v0.8.4\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.4\">v0.8.4</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.3\"\r\n                 data-name=\"v0.8.3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.3\">v0.8.3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.2\"\r\n                 data-name=\"v0.8.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.2\">v0.8.2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.1\"\r\n                 data-name=\"v0.8.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.1\">v0.8.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.0\"\r\n                 data-name=\"v0.8.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.0\">v0.8.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.7.3\"\r\n                 data-name=\"v0.7.3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.7.3\">v0.7.3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.7.2\"\r\n                 data-name=\"v0.7.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.7.2\">v0.7.2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.7.1\"\r\n                 data-name=\"v0.7.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.7.1\">v0.7.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.7.0\"\r\n                 data-name=\"v0.7.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.7.0\">v0.7.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.0.2\"\r\n                 data-name=\"v0.0.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.0.2\">v0.0.2</a>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"select-menu-no-results\">Nothing to show</div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n  <div class=\"breadcrumb\"><span class='repo-root js-repo-root'><span itemscope=\"\" itemtype=\"http://data-vocabulary.org/Breadcrumb\"><a href=\"/sunspot/sunspot\" class=\"\" data-branch=\"master\" data-direction=\"back\" data-pjax=\"true\" itemscope=\"url\"><span itemprop=\"title\">sunspot</span></a></span></span><span class=\"separator\">/</span>\r\n    <form accept-charset=\"UTF-8\" action=\"/sunspot/sunspot/new/master\" class=\"js-new-blob-form inline-form\" method=\"post\"><div style=\"margin:0;padding:0;display:inline\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /><input name=\"authenticity_token\" type=\"hidden\" value=\"wfrVo4p86rpYtsX2r1mlV9JHPrMh5XOBXvwYBu8h1eNz7X3Hw/uSIvPErNI4JFeK/tTh8dzemqel0ICKeT8V7A==\" /></div>\r\n      <button class=\"btn-link tooltipped tooltipped-e\" type=\"submit\" data-disable-with=\"workingâ€¦\" aria-label=\"Fork this project and create a new file\">\r\n        <span class=\"js-new-blob-submit octicon octicon-plus\" data-test-id=\"create-new-git-file\"></span>\r\n      </button>\r\n</form></div>\r\n</div>\r\n\r\n\r\n\r\n  \r\n  <div class=\"commit commit-tease js-details-container\" >\r\n    <p class=\"commit-title \">\r\n        <a href=\"/sunspot/sunspot/commit/9c4ec23487d42cc24d6bc1d2a69fc1fc33db4eed\" class=\"message\" data-pjax=\"true\" title=\"Bumped version to 2.2.0\">Bumped version to 2.2.0</a>\r\n        \r\n    </p>\r\n    <div class=\"commit-meta\">\r\n      <button aria-label=\"Copy SHA\" class=\"js-zeroclipboard zeroclipboard-link tooltipped tooltipped-s\" data-clipboard-text=\"9c4ec23487d42cc24d6bc1d2a69fc1fc33db4eed\" data-copied-hint=\"Copied!\" data-copy-hint=\"Copy SHA\" type=\"button\"><span class=\"octicon octicon-clippy\"></span></button>\r\n      <a href=\"/sunspot/sunspot/commit/9c4ec23487d42cc24d6bc1d2a69fc1fc33db4eed\" class=\"sha-block\" data-pjax>latest commit <span class=\"sha\">9c4ec23487</span></a>\r\n\r\n      <div class=\"authorship\">\r\n        <img alt=\"@njakobsen\" class=\"avatar\" data-user=\"87623\" height=\"20\" src=\"https://avatars2.githubusercontent.com/u/87623?v=3&amp;s=40\" width=\"20\" />\r\n        <span class=\"author-name\"><a href=\"/njakobsen\" rel=\"contributor\">njakobsen</a></span>\r\n        authored <time class=\"updated\" datetime=\"2015-04-09T22:18:59Z\" is=\"relative-time\">Apr 9, 2015</time>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \r\n<div class=\"file-wrap\">\r\n  <a href=\"/sunspot/sunspot/tree/9c4ec23487d42cc24d6bc1d2a69fc1fc33db4eed\" class=\"hidden js-permalink-shortcut\" data-hotkey=\"y\">Permalink</a>\r\n\r\n  <table class=\"files\" data-pjax>\r\n\r\n\r\n    <tbody>\r\n      <tr class=\"warning include-fragment-error\">\r\n        <td class=\"icon\"><span class=\"octicon octicon-alert\"></span></td>\r\n        <td class=\"content\" colspan=\"3\">Failed to load latest commit information.</td>\r\n      </tr>\r\n\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-directory\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/tree/master/ci\" class=\"js-directory-link\" id=\"35ea51baf1fe7f0142ad5f950855dde0-509a01284da43b609cbc94c662ab453bf608d4e9\" title=\"ci\">ci</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/2a0dc1d84f76efac1d631f5cb70251c65cc651af\" class=\"message\" data-pjax=\"true\" title=\"Dropped support for rails 2.x. Added support for Rails 4.\r\n\r\nUpdated to rspec 2.14.0. Updated specs to work with Rails 4. Added\r\nRails 4 to Travis config. Bumped version to 2.1.0\">Dropped support for rails 2.x. Added support for Rails 4.</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2013-08-22T21:47:54Z\" is=\"time-ago\">Aug 22, 2013</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-directory\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/tree/master/sunspot\" class=\"js-directory-link\" id=\"29fa72109ffdd0e629fcff55d91852d0-e51e72f2a9a8591e0675b27ff6b8af090be84758\" title=\"sunspot\">sunspot</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/9c4ec23487d42cc24d6bc1d2a69fc1fc33db4eed\" class=\"message\" data-pjax=\"true\" title=\"Bumped version to 2.2.0\">Bumped version to 2.2.0</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2015-04-09T22:18:59Z\" is=\"time-ago\">Apr 9, 2015</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-directory\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/tree/master/sunspot_rails\" class=\"js-directory-link\" id=\"cb5bb7d170009a1e0a1eaa42799fcc13-c7cee54d0f019e3fe90957bb5a8db7dac727b13a\" title=\"sunspot_rails\">sunspot_rails</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/dd9e6c97cad115eaba51afdc0ae1363d097ee526\" class=\"message\" data-pjax=\"true\" title=\"Merge pull request #614 from hammady/softcommits\r\n\r\nEnabling soft commits for Solr4\">Merge pull request</a> <a href=\"https://github.com/sunspot/sunspot/pull/614\" class=\"issue-link\" title=\"Enabling soft commits for Solr4\">#614</a> <a href=\"/sunspot/sunspot/commit/dd9e6c97cad115eaba51afdc0ae1363d097ee526\" class=\"message\" data-pjax=\"true\" title=\"Merge pull request #614 from hammady/softcommits\r\n\r\nEnabling soft commits for Solr4\">from hammady/softcommits</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2015-03-23T16:24:01Z\" is=\"time-ago\">Mar 23, 2015</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-directory\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/tree/master/sunspot_solr\" class=\"js-directory-link\" id=\"ceebc029bb0d46aaf3dd2484493a86ed-78ab83d1ce99b6212f72db4f194e0fe9dfb003d1\" title=\"sunspot_solr\">sunspot_solr</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/22b5f44da6d3d2181d0baf301a7eb00313bc0d73\" class=\"message\" data-pjax=\"true\" title=\"Merge pull request #612 from betam4x/master\r\n\r\nFix windows detection for rake sunspot commands.\">Merge pull request</a> <a href=\"https://github.com/sunspot/sunspot/pull/612\" class=\"issue-link\" title=\"Fix windows detection for rake sunspot commands.\">#612</a> <a href=\"/sunspot/sunspot/commit/22b5f44da6d3d2181d0baf301a7eb00313bc0d73\" class=\"message\" data-pjax=\"true\" title=\"Merge pull request #612 from betam4x/master\r\n\r\nFix windows detection for rake sunspot commands.\">from betam4x/master</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2015-03-22T19:53:59Z\" is=\"time-ago\">Mar 22, 2015</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-directory\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/tree/master/tools\" class=\"js-directory-link\" id=\"4a931512ce65bdc9ca6808adf92d8783-385dc87b4ed43dcd0754730cab5d5ed6718d5472\" title=\"tools\">tools</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/bb6edf7d86acd071414b0dd81f4649de9578e63d\" class=\"message\" data-pjax=\"true\" title=\"Move Sunspot gem tasks into top-level directory\">Move Sunspot gem tasks into top-level directory</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2010-01-27T21:37:13Z\" is=\"time-ago\">Jan 27, 2010</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-text\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/blob/master/.gitignore\" class=\"js-directory-link\" id=\"a084b794bc0759e7a6b77810e01874f2-6bef23e4d7bf7b99628479335a88f4802ffd0830\" title=\".gitignore\">.gitignore</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/d7d4d68467cbfdec729519eda6d9ed1889f1aa5c\" class=\"message\" data-pjax=\"true\" title=\"update solr configuration to work with solr 4.1.  Most notable change is that the default core moves from /solr to /solr/default, due to the requirement in Solr 4+ to be multicore by default\">update solr configuration to work with solr 4.1. Most notable change â€¦</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2013-02-22T06:54:04Z\" is=\"time-ago\">Feb 21, 2013</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-text\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/blob/master/.travis.yml\" class=\"js-directory-link\" id=\"354f30a63fb0907d4ad57269548329e3-39f81a31c5275aceb4e3289cba1be15dc0f898dc\" title=\".travis.yml\">.travis.yml</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/c60819bd5ddd02b4d700178f22f6cadc6cda724d\" class=\"message\" data-pjax=\"true\" title=\"Remove ruby 1.8.7 tests from Travis Matrix.\">Remove ruby 1.8.7 tests from Travis Matrix.</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2015-03-31T03:19:04Z\" is=\"time-ago\">Mar 30, 2015</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-text\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/blob/master/README.md\" class=\"js-directory-link\" id=\"04c6e90faac2675aa89e2176d2eec7d8-796eeb04559a1c8aa91d32eb8ca62b645d588b72\" title=\"README.md\">README.md</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/dd9e6c97cad115eaba51afdc0ae1363d097ee526\" class=\"message\" data-pjax=\"true\" title=\"Merge pull request #614 from hammady/softcommits\r\n\r\nEnabling soft commits for Solr4\">Merge pull request</a> <a href=\"https://github.com/sunspot/sunspot/pull/614\" class=\"issue-link\" title=\"Enabling soft commits for Solr4\">#614</a> <a href=\"/sunspot/sunspot/commit/dd9e6c97cad115eaba51afdc0ae1363d097ee526\" class=\"message\" data-pjax=\"true\" title=\"Merge pull request #614 from hammady/softcommits\r\n\r\nEnabling soft commits for Solr4\">from hammady/softcommits</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2015-03-23T16:24:01Z\" is=\"time-ago\">Mar 23, 2015</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-text\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/blob/master/Rakefile\" class=\"js-directory-link\" id=\"52c976fc38ed2b4e3b1192f8a8e24cff-342aab0637e409f1c338bf2d22905409282262a5\" title=\"Rakefile\">Rakefile</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/93f0486ef18d65b8cd8f402c769f32679b698507\" class=\"message\" data-pjax=\"true\" title=\"We use Rubygems.org now, not Gemcutter.\">We use Rubygems.org now, not Gemcutter.</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2013-10-25T23:12:43Z\" is=\"time-ago\">Oct 25, 2013</time></span>\r\n          </td>\r\n        </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n</div>\r\n\r\n\r\n  <div id=\"readme\" class=\"boxed-group flush clearfix announce instapaper_body md\">\r\n    <h3>\r\n      <span class=\"octicon octicon-book\"></span>\r\n      README.md\r\n    </h3>\r\n\r\n    <article class=\"markdown-body entry-content\" itemprop=\"mainContentOfPage\"><h1>\r\n<a id=\"user-content-sunspot\" class=\"anchor\" href=\"#sunspot\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Sunspot</h1>\r\n\r\n<p><a href=\"http://badge.fury.io/rb/sunspot\"><img src=\"https://camo.githubusercontent.com/ee022a75c245f3f554a5b29ee5420f7b041cf593/68747470733a2f2f62616467652e667572792e696f2f72622f73756e73706f742e706e67\" alt=\"Gem Version\" data-canonical-src=\"https://badge.fury.io/rb/sunspot.png\" style=\"max-width:100%;\"></a>\r\n<a href=\"http://travis-ci.org/sunspot/sunspot\"><img src=\"https://camo.githubusercontent.com/c18a242f1b5ff5922b4999fbaa15d1013f0d3d02/68747470733a2f2f7365637572652e7472617669732d63692e6f72672f73756e73706f742f73756e73706f742e706e67\" alt=\"Build Status\" data-canonical-src=\"https://secure.travis-ci.org/sunspot/sunspot.png\" style=\"max-width:100%;\"></a></p>\r\n\r\n<p>Sunspot is a Ruby library for expressive, powerful interaction with the Solr\r\nsearch engine. Sunspot is built on top of the RSolr library, which\r\nprovides a low-level interface for Solr interaction; Sunspot provides a simple,\r\nintuitive, expressive DSL backed by powerful features for indexing objects and\r\nsearching for them.</p>\r\n\r\n<p>Sunspot is designed to be easily plugged in to any ORM, or even non-database-backed\r\nobjects such as the filesystem.</p>\r\n\r\n<p>This README provides a high level overview; class-by-class and\r\nmethod-by-method documentation is available in the <a href=\"http://sunspot.github.com/sunspot/docs/\">API\r\nreference</a>.</p>\r\n\r\n<p>For questions about how to use Sunspot in your app, please use the\r\n<a href=\"http://groups.google.com/group/ruby-sunspot\">Sunspot Mailing List</a> or search\r\n<a href=\"http://www.stackoverflow.com\">Stack Overflow</a>.</p>\r\n\r\n<h2>\r\n<a id=\"user-content-quickstart-with-rails-3--4\" class=\"anchor\" href=\"#quickstart-with-rails-3--4\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Quickstart with Rails 3 / 4</h2>\r\n\r\n<p>Add to Gemfile:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">gem</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sunspot_rails<span class=\"pl-pds\">'</span></span>\r\n<span class=\"pl-k\">gem</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sunspot_solr<span class=\"pl-pds\">'</span></span> <span class=\"pl-c\"># optional pre-packaged Solr distribution for use in development</span></pre></div>\r\n\r\n<p>Bundle it!</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle install</pre></div>\r\n\r\n<p>Generate a default configuration file:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>rails generate sunspot_rails:install</pre></div>\r\n\r\n<p>If <code>sunspot_solr</code> was installed, start the packaged Solr distribution\r\nwith:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle <span class=\"pl-c1\">exec</span> rake sunspot:solr:start <span class=\"pl-c\"># or sunspot:solr:run to start in foreground</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-setting-up-objects\" class=\"anchor\" href=\"#setting-up-objects\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Setting Up Objects</h2>\r\n\r\n<p>Add a <code>searchable</code> block to the objects you wish to index.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:title</span>, <span class=\"pl-c1\">:body</span>\r\n    text <span class=\"pl-c1\">:comments</span> <span class=\"pl-k\">do</span>\r\n      comments.map { |<span class=\"pl-smi\">comment</span>| comment.body }\r\n    <span class=\"pl-k\">end</span>\r\n\r\n    boolean <span class=\"pl-c1\">:featured</span>\r\n    integer <span class=\"pl-c1\">:blog_id</span>\r\n    integer <span class=\"pl-c1\">:author_id</span>\r\n    integer <span class=\"pl-c1\">:category_ids</span>, <span class=\"pl-c1\">:multiple</span> =&gt; <span class=\"pl-c1\">true</span>\r\n    double  <span class=\"pl-c1\">:average_rating</span>\r\n    time    <span class=\"pl-c1\">:published_at</span>\r\n    time    <span class=\"pl-c1\">:expired_at</span>\r\n\r\n    string  <span class=\"pl-c1\">:sort_title</span> <span class=\"pl-k\">do</span>\r\n      title.downcase.gsub(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span>^<span class=\"pl-sr\">(an?|the)</span><span class=\"pl-pds\">/</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>)\r\n    <span class=\"pl-k\">end</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p><code>text</code> fields will be full-text searchable. Other fields (e.g.,\r\n<code>integer</code> and <code>string</code>) can be used to scope queries.</p>\r\n\r\n<h2>\r\n<a id=\"user-content-searching-objects\" class=\"anchor\" href=\"#searching-objects\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Searching Objects</h2>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>best pizza<span class=\"pl-pds\">'</span></span>\r\n\r\n  with <span class=\"pl-c1\">:blog_id</span>, <span class=\"pl-c1\">1</span>\r\n  with(<span class=\"pl-c1\">:published_at</span>).less_than <span class=\"pl-c1\">Time</span>.now\r\n  order_by <span class=\"pl-c1\">:published_at</span>, <span class=\"pl-c1\">:desc</span>\r\n  paginate <span class=\"pl-c1\">:page</span> =&gt; <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">:per_page</span> =&gt; <span class=\"pl-c1\">15</span>\r\n  facet <span class=\"pl-c1\">:category_ids</span>, <span class=\"pl-c1\">:author_id</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-search-in-depth\" class=\"anchor\" href=\"#search-in-depth\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Search In Depth</h2>\r\n\r\n<p>Given an object <code>Post</code> setup in earlier steps ...</p>\r\n\r\n<h3>\r\n<a id=\"user-content-full-text\" class=\"anchor\" href=\"#full-text\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Full Text</h3>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># All posts with a `text` field (:title, :body, or :comments) containing 'pizza'</span>\r\n<span class=\"pl-c1\">Post</span>.search { fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>pizza<span class=\"pl-pds\">'</span></span> }\r\n\r\n<span class=\"pl-c\"># Posts with pizza, scored higher if pizza appears in the title</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    boost_fields <span class=\"pl-c1\">:title</span> =&gt; <span class=\"pl-c1\">2.0</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Posts with pizza, scored higher if featured</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    boost(<span class=\"pl-c1\">2.0</span>) { with(<span class=\"pl-c1\">:featured</span>, <span class=\"pl-c1\">true</span>) }\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Posts with pizza *only* in the title</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    fields(<span class=\"pl-c1\">:title</span>)\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Posts with pizza in the title (boosted) or in the body (not boosted)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    fields(<span class=\"pl-c1\">:body</span>, <span class=\"pl-c1\">:title</span> =&gt; <span class=\"pl-c1\">2.0</span>)\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-phrases\" class=\"anchor\" href=\"#phrases\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Phrases</h4>\r\n\r\n<p>Solr allows searching for phrases: search terms that are close together.</p>\r\n\r\n<p>In the default query parser used by Sunspot (edismax), phrase searches\r\nare represented as a double quoted group of words.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts with the exact phrase \"great pizza\"</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"great pizza\"<span class=\"pl-pds\">'</span></span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>If specified, <strong>query_phrase_slop</strong> sets the number of words that may\r\nappear between the words in a phrase.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># One word can appear between the words in the phrase, so \"great big pizza\"</span>\r\n<span class=\"pl-c\"># also matches, in addition to \"great pizza\"</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"great pizza\"<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    query_phrase_slop <span class=\"pl-c1\">1</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h5>\r\n<a id=\"user-content-phrase-boosts\" class=\"anchor\" href=\"#phrase-boosts\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Phrase Boosts</h5>\r\n\r\n<p>Phrase boosts add boost to terms that appear in close proximity;\r\nthe terms do not <em>have</em> to appear in a phrase, but if they do, the\r\ndocument will score more highly.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Matches documents with great and pizza, and scores documents more</span>\r\n<span class=\"pl-c\"># highly if the terms appear in a phrase in the title field</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>great pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    phrase_fields <span class=\"pl-c1\">:title</span> =&gt; <span class=\"pl-c1\">2.0</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Matches documents with great and pizza, and scores documents more</span>\r\n<span class=\"pl-c\"># highly if the terms appear in a phrase (or with one word between them)</span>\r\n<span class=\"pl-c\"># in the title field</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>great pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    phrase_fields <span class=\"pl-c1\">:title</span> =&gt; <span class=\"pl-c1\">2.0</span>\r\n    phrase_slop   <span class=\"pl-c1\">1</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-scoping-scalar-fields\" class=\"anchor\" href=\"#scoping-scalar-fields\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Scoping (Scalar Fields)</h3>\r\n\r\n<p>Fields not defined as <code>text</code> (e.g., <code>integer</code>, <code>boolean</code>, <code>time</code>,\r\netc...) can be used to scope (restrict) queries before full-text\r\nmatching is performed.</p>\r\n\r\n<h4>\r\n<a id=\"user-content-positive-restrictions\" class=\"anchor\" href=\"#positive-restrictions\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Positive Restrictions</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts with a blog_id of 1</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:blog_id</span>, <span class=\"pl-c1\">1</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Posts with an average rating between 3.0 and 5.0</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">3.0</span>..<span class=\"pl-c1\">5.0</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Posts with a category of 1, 3, or 5</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:category_ids</span>, [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">5</span>])\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Posts published since a week ago</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:published_at</span>).greater_than(<span class=\"pl-c1\">1</span>.week.ago)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-negative-restrictions\" class=\"anchor\" href=\"#negative-restrictions\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Negative Restrictions</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts not in category 1 or 3</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  without(<span class=\"pl-c1\">:category_ids</span>, [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">3</span>])\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># All examples in \"positive\" also work negated using `without`</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-empty-restrictions\" class=\"anchor\" href=\"#empty-restrictions\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Empty Restrictions</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Passing an empty array is equivalent to a no-op, allowing you to replace this...</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:category_ids</span>, id_list) <span class=\"pl-k\">if</span> id_list.present?\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># ...with this</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:category_ids</span>, id_list)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-disjunctions-and-conjunctions\" class=\"anchor\" href=\"#disjunctions-and-conjunctions\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Disjunctions and Conjunctions</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts that do not have an expired time or have not yet expired</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  any_of <span class=\"pl-k\">do</span>\r\n    with(<span class=\"pl-c1\">:expired_at</span>).greater_than(<span class=\"pl-c1\">Time</span>.now)\r\n    with(<span class=\"pl-c1\">:expired_at</span>, <span class=\"pl-c1\">nil</span>)\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts with blog_id 1 and author_id 2</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  all_of <span class=\"pl-k\">do</span>\r\n    with(<span class=\"pl-c1\">:blog_id</span>, <span class=\"pl-c1\">1</span>)\r\n    with(<span class=\"pl-c1\">:author_id</span>, <span class=\"pl-c1\">2</span>)\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts scoring with any of the two fields.</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  any <span class=\"pl-k\">do</span>\r\n    fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword1<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:title</span>\r\n    fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword2<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:body</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>Disjunctions and conjunctions may be nested</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  any_of <span class=\"pl-k\">do</span>\r\n    with(<span class=\"pl-c1\">:blog_id</span>, <span class=\"pl-c1\">1</span>)\r\n    all_of <span class=\"pl-k\">do</span>\r\n      with(<span class=\"pl-c1\">:blog_id</span>, <span class=\"pl-c1\">2</span>)\r\n      with(<span class=\"pl-c1\">:category_ids</span>, <span class=\"pl-c1\">3</span>)\r\n    <span class=\"pl-k\">end</span>\r\n  <span class=\"pl-k\">end</span>\r\n\r\n  any <span class=\"pl-k\">do</span>\r\n    all <span class=\"pl-k\">do</span>\r\n      fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:title</span>\r\n      fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:body</span>\r\n    <span class=\"pl-k\">end</span>\r\n    all <span class=\"pl-k\">do</span>\r\n      fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:first_name</span>\r\n      fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:last_name</span>\r\n    <span class=\"pl-k\">end</span>\r\n    fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:description</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-combined-with-full-text\" class=\"anchor\" href=\"#combined-with-full-text\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Combined with Full-Text</h4>\r\n\r\n<p>Scopes/restrictions can be combined with full-text searching. The\r\nscope/restriction pares down the objects that are searched for the\r\nfull-text term.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts with blog_id 1 and 'pizza' in the title</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:blog_id</span>, <span class=\"pl-c1\">1</span>)\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-pagination\" class=\"anchor\" href=\"#pagination\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Pagination</h3>\r\n\r\n<p><strong>All results from Solr are paginated</strong></p>\r\n\r\n<p>The results array that is returned has methods mixed in that allow it to\r\noperate seamlessly with common pagination libraries like will_paginate\r\nand kaminari.</p>\r\n\r\n<p>By default, Sunspot requests the first 30 results from Solr.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Imagine there are 60 *total* results (at 30 results/page, that is two pages)</span>\r\nresults <span class=\"pl-k\">=</span> search.results <span class=\"pl-c\"># =&gt; Array with 30 Post elements</span>\r\n\r\nsearch.total           <span class=\"pl-c\"># =&gt; 60</span>\r\n\r\nresults.total_pages    <span class=\"pl-c\"># =&gt; 2</span>\r\nresults.first_page?    <span class=\"pl-c\"># =&gt; true</span>\r\nresults.last_page?     <span class=\"pl-c\"># =&gt; false</span>\r\nresults.previous_page  <span class=\"pl-c\"># =&gt; nil</span>\r\nresults.next_page      <span class=\"pl-c\"># =&gt; 2</span>\r\nresults.out_of_bounds? <span class=\"pl-c\"># =&gt; false</span>\r\nresults.offset         <span class=\"pl-c\"># =&gt; 0</span></pre></div>\r\n\r\n<p>To retrieve the next page of results, recreate the search and use the\r\n<code>paginate</code> method.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n  paginate <span class=\"pl-c1\">:page</span> =&gt; <span class=\"pl-c1\">2</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Again, imagine there are 60 total results; this is the second page</span>\r\nresults <span class=\"pl-k\">=</span> search.results <span class=\"pl-c\"># =&gt; Array with 30 Post elements</span>\r\n\r\nsearch.total           <span class=\"pl-c\"># =&gt; 60</span>\r\n\r\nresults.total_pages    <span class=\"pl-c\"># =&gt; 2</span>\r\nresults.first_page?    <span class=\"pl-c\"># =&gt; false</span>\r\nresults.last_page?     <span class=\"pl-c\"># =&gt; true</span>\r\nresults.previous_page  <span class=\"pl-c\"># =&gt; 1</span>\r\nresults.next_page      <span class=\"pl-c\"># =&gt; nil</span>\r\nresults.out_of_bounds? <span class=\"pl-c\"># =&gt; false</span>\r\nresults.offset         <span class=\"pl-c\"># =&gt; 30</span></pre></div>\r\n\r\n<p>A custom number of results per page can be specified with the\r\n<code>:per_page</code> option to <code>paginate</code>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n  paginate <span class=\"pl-c1\">:page</span> =&gt; <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">:per_page</span> =&gt; <span class=\"pl-c1\">50</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-cursor-based-pagination\" class=\"anchor\" href=\"#cursor-based-pagination\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Cursor-based pagination</h4>\r\n\r\n<p><strong>Solr 4.7 and above</strong></p>\r\n\r\n<p>With default Solr pagination it may turn that same records appear on different pages (e.g. if \r\nmany records have the same search score). Cursor-based pagination allows to avoid this.</p>\r\n\r\n<p>Useful for any kinds of export, infinite scroll, etc.</p>\r\n\r\n<p>Cursor for the first page is \"*\".</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n  paginate <span class=\"pl-c1\">:cursor</span> =&gt; <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>*<span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span>\r\n\r\nresults <span class=\"pl-k\">=</span> search.results\r\n\r\n<span class=\"pl-c\"># Results will contain cursor for the next page</span>\r\nresults.next_page_cursor <span class=\"pl-c\"># =&gt; \"AoIIP4AAACxQcm9maWxlIDEwMTk=\"</span>\r\n\r\n<span class=\"pl-c\"># Imagine there are 60 *total* results (at 30 results/page, that is two pages)</span>\r\nresults.current_cursor <span class=\"pl-c\"># =&gt; \"*\"</span>\r\nresults.total_pages    <span class=\"pl-c\"># =&gt; 2</span>\r\nresults.first_page?    <span class=\"pl-c\"># =&gt; true</span>\r\nresults.last_page?     <span class=\"pl-c\"># =&gt; false</span></pre></div>\r\n\r\n<p>To retrieve the next page of results, recreate the search and use the <code>paginate</code> method with cursor from previous results.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n  paginate <span class=\"pl-c1\">:cursor</span> =&gt; <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>AoIIP4AAACxQcm9maWxlIDEwMTk=<span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span>\r\n\r\nresults <span class=\"pl-k\">=</span> search.results\r\n\r\n<span class=\"pl-c\"># Again, imagine there are 60 total results; this is the second page</span>\r\nresults.next_page_cursor <span class=\"pl-c\"># =&gt; \"AoEsUHJvZmlsZSAxNzY5\"</span>\r\nresults.current_cursor   <span class=\"pl-c\"># =&gt; \"AoIIP4AAACxQcm9maWxlIDEwMTk=\"</span>\r\nresults.total_pages      <span class=\"pl-c\"># =&gt; 2</span>\r\nresults.first_page?      <span class=\"pl-c\"># =&gt; false</span>\r\n<span class=\"pl-c\"># Last page will be detected only when current page contains less then per_page elements or contains nothing</span>\r\nresults.last_page?       <span class=\"pl-c\"># =&gt; false</span></pre></div>\r\n\r\n<p><code>:per_page</code> option is also supported.</p>\r\n\r\n<h3>\r\n<a id=\"user-content-faceting\" class=\"anchor\" href=\"#faceting\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Faceting</h3>\r\n\r\n<p>Faceting is a feature of Solr that determines the number of documents\r\nthat match a given search <em>and</em> an additional criterion. This allows you\r\nto build powerful drill-down interfaces for search.</p>\r\n\r\n<p>Each facet returns zero or more rows, each of which represents a\r\nparticular criterion conjoined with the actual query being performed.\r\nFor <strong>field facets</strong>, each row represents a particular value for a given\r\nfield. For <strong>query facets</strong>, each row represents an arbitrary scope; the\r\nfacet itself is just a means of logically grouping the scopes.</p>\r\n\r\n<p>By default Sunspot will only return the first 100 facet values.  You can\r\nincrease this limit, or force it to return <em>all</em> facets by setting\r\n<strong>limit</strong> to <strong>-1</strong>.</p>\r\n\r\n<h4>\r\n<a id=\"user-content-field-facets\" class=\"anchor\" href=\"#field-facets\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Field Facets</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts that match 'pizza' returning counts for each :author_id</span>\r\nsearch <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n  facet <span class=\"pl-c1\">:author_id</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\nsearch.facet(<span class=\"pl-c1\">:author_id</span>).rows.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">facet</span>|\r\n  puts <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Author <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">facet.value</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span> has <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">facet.count</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span> pizza posts!<span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>If you are searching by a specific field and you still want to see all\r\nthe options available in that field you can <strong>exclude</strong> it in the\r\nfaceting.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts that match 'pizza' and author with id 42</span>\r\n<span class=\"pl-c\"># Returning counts for each :author_id (even those not in the search result)</span>\r\nsearch <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n  author_filter <span class=\"pl-k\">=</span> with(<span class=\"pl-c1\">:author_id</span>, <span class=\"pl-c1\">42</span>)\r\n  facet <span class=\"pl-c1\">:author_id</span>, <span class=\"pl-c1\">exclude:</span> [author_filter]\r\n<span class=\"pl-k\">end</span>\r\n\r\nsearch.facet(<span class=\"pl-c1\">:author_id</span>).rows.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">facet</span>|\r\n  puts <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Author <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">facet.value</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span> has <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">facet.count</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span> pizza posts!<span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-query-facets\" class=\"anchor\" href=\"#query-facets\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Query Facets</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts faceted by ranges of average ratings</span>\r\nsearch <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  facet(<span class=\"pl-c1\">:average_rating</span>) <span class=\"pl-k\">do</span>\r\n    row(<span class=\"pl-c1\">1.0</span>..<span class=\"pl-c1\">2.0</span>) <span class=\"pl-k\">do</span>\r\n      with(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">1.0</span>..<span class=\"pl-c1\">2.0</span>)\r\n    <span class=\"pl-k\">end</span>\r\n    row(<span class=\"pl-c1\">2.0</span>..<span class=\"pl-c1\">3.0</span>) <span class=\"pl-k\">do</span>\r\n      with(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">2.0</span>..<span class=\"pl-c1\">3.0</span>)\r\n    <span class=\"pl-k\">end</span>\r\n    row(<span class=\"pl-c1\">3.0</span>..<span class=\"pl-c1\">4.0</span>) <span class=\"pl-k\">do</span>\r\n      with(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">3.0</span>..<span class=\"pl-c1\">4.0</span>)\r\n    <span class=\"pl-k\">end</span>\r\n    row(<span class=\"pl-c1\">4.0</span>..<span class=\"pl-c1\">5.0</span>) <span class=\"pl-k\">do</span>\r\n      with(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">4.0</span>..<span class=\"pl-c1\">5.0</span>)\r\n    <span class=\"pl-k\">end</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># e.g.,</span>\r\n<span class=\"pl-c\"># Number of posts with rating within 1.0..2.0: 2</span>\r\n<span class=\"pl-c\"># Number of posts with rating within 2.0..3.0: 1</span>\r\nsearch.facet(<span class=\"pl-c1\">:average_rating</span>).rows.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">facet</span>|\r\n  puts <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Number of posts with rating within <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">facet.value</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span>: <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">facet.count</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span><span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-range-facets\" class=\"anchor\" href=\"#range-facets\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Range Facets</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts faceted by range of average ratings</span>\r\n<span class=\"pl-c1\">Sunspot</span>.search(<span class=\"pl-c1\">Post</span>) <span class=\"pl-k\">do</span>\r\n  facet <span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">:range</span> =&gt; <span class=\"pl-c1\">1</span>..<span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">:range_interval</span> =&gt; <span class=\"pl-c1\">1</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-ordering\" class=\"anchor\" href=\"#ordering\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Ordering</h3>\r\n\r\n<p>By default, Sunspot orders results by \"score\": the Solr-determined\r\nrelevancy metric. Sorting can be customized with the <code>order_by</code> method:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Order by average rating, descending</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n  order_by(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">:desc</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Order by relevancy score and in the case of a tie, average rating</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n\r\n  order_by(<span class=\"pl-c1\">:score</span>, <span class=\"pl-c1\">:desc</span>)\r\n  order_by(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">:desc</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Randomized ordering</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n  order_by(<span class=\"pl-c1\">:random</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p><strong>Solr 3.1 and above</strong></p>\r\n\r\n<p>Solr supports sorting on multiple fields using custom functions. Supported\r\noperators and more details are available on the <a href=\"http://wiki.apache.org/solr/FunctionQuery\">Solr Wiki</a></p>\r\n\r\n<p>To sort results by a custom function use the <code>order_by_function</code> method.\r\nFunctions are defined with prefix notation:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Order by sum of two example fields: rating1 + rating2</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n  order_by_function(<span class=\"pl-c1\">:sum</span>, <span class=\"pl-c1\">:rating1</span>, <span class=\"pl-c1\">:rating2</span>, <span class=\"pl-c1\">:desc</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Order by nested functions: rating1 + (rating2*rating3)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n  order_by_function(<span class=\"pl-c1\">:sum</span>, <span class=\"pl-c1\">:rating1</span>, [<span class=\"pl-c1\">:product</span>, <span class=\"pl-c1\">:rating2</span>, <span class=\"pl-c1\">:rating3</span>], <span class=\"pl-c1\">:desc</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Order by fields and constants: rating1 + (rating2 * 5)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n  order_by_function(<span class=\"pl-c1\">:sum</span>, <span class=\"pl-c1\">:rating1</span>, [<span class=\"pl-c1\">:product</span>, <span class=\"pl-c1\">:rating2</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>5<span class=\"pl-pds\">'</span></span>], <span class=\"pl-c1\">:desc</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Order by average of three fields: (rating1 + rating2 + rating3) / 3</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n  order_by_function(<span class=\"pl-c1\">:div</span>, [<span class=\"pl-c1\">:sum</span>, <span class=\"pl-c1\">:rating1</span>, <span class=\"pl-c1\">:rating2</span>, <span class=\"pl-c1\">:rating3</span>], <span class=\"pl-s\"><span class=\"pl-pds\">'</span>3<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">:desc</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-grouping\" class=\"anchor\" href=\"#grouping\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Grouping</h3>\r\n\r\n<p><strong>Solr 3.3 and above</strong></p>\r\n\r\n<p>Solr supports grouping documents, similar to an SQL <code>GROUP BY</code>. More\r\ninformation about result grouping/field collapsing is available on the\r\n<a href=\"http://wiki.apache.org/solr/FieldCollapsing\">Solr Wiki</a>.</p>\r\n\r\n<p><strong>Grouping is only supported on <code>string</code> fields that are not\r\nmultivalued. To group on a field of a different type (e.g., integer),\r\nadd a denormalized <code>string</code> type</strong></p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    <span class=\"pl-c\"># Denormalized `string` field because grouping can only be performed</span>\r\n    <span class=\"pl-c\"># on string fields</span>\r\n    string(<span class=\"pl-c1\">:blog_id_str</span>) { |<span class=\"pl-smi\">p</span>| p.blog_id.to_s }\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Returns only the top scoring document per blog_id</span>\r\nsearch <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  group <span class=\"pl-c1\">:blog_id_str</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\nsearch.group(<span class=\"pl-c1\">:blog_id_str</span>).matches <span class=\"pl-c\"># Total number of matches to the query</span>\r\n\r\nsearch.group(<span class=\"pl-c1\">:blog_id_str</span>).groups.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">group</span>|\r\n  puts group.value <span class=\"pl-c\"># blog_id of the each document in the group</span>\r\n\r\n  <span class=\"pl-c\"># By default, there is only one document per group (the highest</span>\r\n  <span class=\"pl-c\"># scoring one); if `limit` is specified (see below), multiple</span>\r\n  <span class=\"pl-c\"># documents can be returned per group</span>\r\n  group.results.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">result</span>|\r\n    <span class=\"pl-c\"># ...</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>Additional options are supported by the DSL:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Returns the top 3 scoring documents per blog_id</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  group <span class=\"pl-c1\">:blog_id_str</span> <span class=\"pl-k\">do</span>\r\n    limit <span class=\"pl-c1\">3</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Returns document ordered within each group by published_at (by</span>\r\n<span class=\"pl-c\"># default, the ordering is score)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  group <span class=\"pl-c1\">:blog_id_str</span> <span class=\"pl-k\">do</span>\r\n    order_by(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">:desc</span>)\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Facet count is based on the most relevant document of each group</span>\r\n<span class=\"pl-c\"># matching the query (&gt;= Solr 3.4)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  group <span class=\"pl-c1\">:blog_id_str</span> <span class=\"pl-k\">do</span>\r\n    truncate\r\n  <span class=\"pl-k\">end</span>\r\n\r\n  facet <span class=\"pl-c1\">:blog_id_str</span>, <span class=\"pl-c1\">:extra</span> =&gt; <span class=\"pl-c1\">:any</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-geospatial\" class=\"anchor\" href=\"#geospatial\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Geospatial</h3>\r\n\r\n<p><strong>Sunspot 2.0 only</strong></p>\r\n\r\n<p>Sunspot 2.0 supports geospatial features of Solr 3.1 and above.</p>\r\n\r\n<p>Geospatial features require a field defined with <code>latlon</code>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    <span class=\"pl-c\"># ...</span>\r\n    latlon(<span class=\"pl-c1\">:location</span>) { <span class=\"pl-c1\">Sunspot</span>::<span class=\"pl-c1\">Util</span>::<span class=\"pl-c1\">Coordinates</span>.<span class=\"pl-k\">new</span>(lat, lon) }\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-filter-by-radius\" class=\"anchor\" href=\"#filter-by-radius\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Filter By Radius</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Searches posts within 100 kilometers of (32, -68)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:location</span>).in_radius(<span class=\"pl-c1\">32</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">68</span>, <span class=\"pl-c1\">100</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-filter-by-radius-inexact-with-bbox\" class=\"anchor\" href=\"#filter-by-radius-inexact-with-bbox\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Filter By Radius (inexact with bbox)</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Searches posts within 100 kilometers of (32, -68) with `bbox`. This is</span>\r\n<span class=\"pl-c\"># an approximation so searches run quicker, but it may include other</span>\r\n<span class=\"pl-c\"># points that are slightly outside of the required distance</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:location</span>).in_radius(<span class=\"pl-c1\">32</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">68</span>, <span class=\"pl-c1\">100</span>, <span class=\"pl-c1\">:bbox</span> =&gt; <span class=\"pl-c1\">true</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-filter-by-bounding-box\" class=\"anchor\" href=\"#filter-by-bounding-box\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Filter By Bounding Box</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Searches posts within the bounding box defined by the corners (45,</span>\r\n<span class=\"pl-c\"># -94) to (46, -93)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:location</span>).in_bounding_box([<span class=\"pl-c1\">45</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">94</span>], [<span class=\"pl-c1\">46</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">93</span>])\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-sort-by-distance\" class=\"anchor\" href=\"#sort-by-distance\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Sort By Distance</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Orders documents by closeness to (32, -68)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  order_by_geodist(<span class=\"pl-c1\">:location</span>, <span class=\"pl-c1\">32</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">68</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-joins\" class=\"anchor\" href=\"#joins\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Joins</h3>\r\n\r\n<p><strong>Solr 4 and above</strong></p>\r\n\r\n<p>Solr joins allow you to filter objects by joining on additional documents.  More information can be found on the <a href=\"http://wiki.apache.org/solr/Join\">Solr Wiki</a>.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Photo<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:description</span>\r\n    string <span class=\"pl-c1\">:caption</span>, <span class=\"pl-c1\">:default_boost</span> =&gt; <span class=\"pl-c1\">1.5</span>\r\n    time <span class=\"pl-c1\">:created_at</span>\r\n    integer <span class=\"pl-c1\">:photo_container_id</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-k\">class</span> <span class=\"pl-en\">PhotoContainer<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:name</span>\r\n    join(<span class=\"pl-c1\">:description</span>, <span class=\"pl-c1\">:target</span> =&gt; <span class=\"pl-c1\">Photo</span>, <span class=\"pl-c1\">:type</span> =&gt; <span class=\"pl-c1\">:text</span>, <span class=\"pl-c1\">:join</span> =&gt; { <span class=\"pl-c1\">:from</span> =&gt; <span class=\"pl-c1\">:photo_container_id</span>, <span class=\"pl-c1\">:to</span> =&gt; <span class=\"pl-c1\">:id</span> })\r\n    join(<span class=\"pl-c1\">:caption</span>, <span class=\"pl-c1\">:target</span> =&gt; <span class=\"pl-c1\">Photo</span>, <span class=\"pl-c1\">:type</span> =&gt; <span class=\"pl-c1\">:string</span>, <span class=\"pl-c1\">:join</span> =&gt; { <span class=\"pl-c1\">:from</span> =&gt; <span class=\"pl-c1\">:photo_container_id</span>, <span class=\"pl-c1\">:to</span> =&gt; <span class=\"pl-c1\">:id</span> })\r\n    join(<span class=\"pl-c1\">:photos_created</span>, <span class=\"pl-c1\">:target</span> =&gt; <span class=\"pl-c1\">Photo</span>, <span class=\"pl-c1\">:type</span> =&gt; <span class=\"pl-c1\">:time</span>, <span class=\"pl-c1\">:join</span> =&gt; { <span class=\"pl-c1\">:from</span> =&gt; <span class=\"pl-c1\">:photo_container_id</span>, <span class=\"pl-c1\">:to</span> =&gt; <span class=\"pl-c1\">:id</span> }, <span class=\"pl-c1\">:as</span> =&gt; <span class=\"pl-s\"><span class=\"pl-pds\">'</span>created_at_d<span class=\"pl-pds\">'</span></span>)\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c1\">PhotoContainer</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:caption</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>blah<span class=\"pl-pds\">'</span></span>)\r\n  with(<span class=\"pl-c1\">:photos_created</span>).between(<span class=\"pl-c1\">Date</span>.<span class=\"pl-k\">new</span>(<span class=\"pl-c1\">2011</span>,<span class=\"pl-c1\">3</span>,<span class=\"pl-c1\">1</span>), <span class=\"pl-c1\">Date</span>.<span class=\"pl-k\">new</span>(<span class=\"pl-c1\">2011</span>,<span class=\"pl-c1\">4</span>,<span class=\"pl-c1\">1</span>))\r\n\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keywords<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; [<span class=\"pl-c1\">:name</span>, <span class=\"pl-c1\">:description</span>])\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># ...or</span>\r\n\r\n<span class=\"pl-c1\">PhotoContainer</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:caption</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>blah<span class=\"pl-pds\">'</span></span>)\r\n  with(<span class=\"pl-c1\">:photos_created</span>).between(<span class=\"pl-c1\">Date</span>.<span class=\"pl-k\">new</span>(<span class=\"pl-c1\">2011</span>,<span class=\"pl-c1\">3</span>,<span class=\"pl-c1\">1</span>), <span class=\"pl-c1\">Date</span>.<span class=\"pl-k\">new</span>(<span class=\"pl-c1\">2011</span>,<span class=\"pl-c1\">4</span>,<span class=\"pl-c1\">1</span>))\r\n\r\n  any <span class=\"pl-k\">do</span>\r\n    fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword1<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:name</span>)\r\n    fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword2<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:description</span>) <span class=\"pl-c\"># will be joined from the Photo model</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-if-your-models-have-fields-with-the-same-name\" class=\"anchor\" href=\"#if-your-models-have-fields-with-the-same-name\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>If your models have fields with the same name</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Tweet<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:keywords</span>\r\n    integer <span class=\"pl-c1\">:profile_id</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-k\">class</span> <span class=\"pl-en\">Rss<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:keywords</span>\r\n    integer <span class=\"pl-c1\">:profile_id</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-k\">class</span> <span class=\"pl-en\">Profile<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:name</span>\r\n    join(<span class=\"pl-c1\">:keywords</span>, <span class=\"pl-c1\">:prefix</span> =&gt; <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tweet<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:target</span> =&gt; <span class=\"pl-c1\">Tweet</span>, <span class=\"pl-c1\">:type</span> =&gt; <span class=\"pl-c1\">:text</span>, <span class=\"pl-c1\">:join</span> =&gt; { <span class=\"pl-c1\">:from</span> =&gt; <span class=\"pl-c1\">:profile_id</span>, <span class=\"pl-c1\">:to</span> =&gt; <span class=\"pl-c1\">:id</span> })\r\n    join(<span class=\"pl-c1\">:keywords</span>, <span class=\"pl-c1\">:prefix</span> =&gt; <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>rss<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:target</span> =&gt; <span class=\"pl-c1\">Rss</span>, <span class=\"pl-c1\">:type</span> =&gt; <span class=\"pl-c1\">:text</span>, <span class=\"pl-c1\">:join</span> =&gt; { <span class=\"pl-c1\">:from</span> =&gt; <span class=\"pl-c1\">:profile_id</span>, <span class=\"pl-c1\">:to</span> =&gt; <span class=\"pl-c1\">:id</span> })\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c1\">Profile</span>.search <span class=\"pl-k\">do</span>\r\n  any <span class=\"pl-k\">do</span>\r\n    fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword1 keyword2<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; [<span class=\"pl-c1\">:tweet_keywords</span>]) <span class=\"pl-k\">do</span>\r\n      minimum_match <span class=\"pl-c1\">1</span>\r\n    <span class=\"pl-k\">end</span>\r\n\r\n    fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword3<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; [<span class=\"pl-c1\">:rss_keywords</span>])\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># ...produces:</span>\r\n<span class=\"pl-c\"># sort: \"score desc\", fl: \"* score\", start: 0, rows: 20,</span>\r\n<span class=\"pl-c\"># fq: [\"type:Profile\"],</span>\r\n<span class=\"pl-c\"># q: \"(_query_:\"{!join from=profile_ids_i to=id_i v=$qTweet91755700 fq=$fqTweet91755700}\" OR _query_:\"{!join from=profile_ids_i to=id_i v=$qRss91753840 fq=$fqRss91753840}\")\",</span>\r\n<span class=\"pl-c\"># qTweet91755700: \"_query_:\"{!edismax qf='keywords_text' mm='1'}keyword1 keyword2\"\", fqTweet91755700: \"type:Tweet\",</span>\r\n<span class=\"pl-c\"># qRss91753840: \"_query_:\"{!edismax qf='keywords_text'}keyword3\"\", fqRss91753840: \"type:Rss\"</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-highlighting\" class=\"anchor\" href=\"#highlighting\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Highlighting</h3>\r\n\r\n<p>Highlighting allows you to display snippets of the part of the document\r\nthat matched the query.</p>\r\n\r\n<p>The fields you wish to highlight must be <strong>stored</strong>.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    <span class=\"pl-c\"># ...</span>\r\n    text <span class=\"pl-c1\">:body</span>, <span class=\"pl-c1\">:stored</span> =&gt; <span class=\"pl-c1\">true</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>Highlighting matches on the <code>body</code> field, for instance, can be achieved\r\nlike:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">do</span>\r\n    highlight <span class=\"pl-c1\">:body</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Will output something similar to:</span>\r\n<span class=\"pl-c\"># Post #1</span>\r\n<span class=\"pl-c\">#   I really love *pizza*</span>\r\n<span class=\"pl-c\">#   *Pizza* is my favorite thing</span>\r\n<span class=\"pl-c\"># Post #2</span>\r\n<span class=\"pl-c\">#   Pepperoni *pizza* is delicious</span>\r\nsearch.hits.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">hit</span>|\r\n  puts <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Post #<span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">hit.primary_key</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span><span class=\"pl-pds\">\"</span></span>\r\n\r\n  hit.highlights(<span class=\"pl-c1\">:body</span>).each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">highlight</span>|\r\n    puts <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>  <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> highlight.format { |<span class=\"pl-smi\">word</span>| <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>*<span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">word</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span>*<span class=\"pl-pds\">\"</span></span> }\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-stats\" class=\"anchor\" href=\"#stats\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Stats</h3>\r\n\r\n<p>Solr can return some statistics on indexed numeric fields. Fetching statistics\r\nfor <code>average_rating</code>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  stats <span class=\"pl-c1\">:average_rating</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\nputs <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Minimum average rating: <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">search.stats(<span class=\"pl-c1\">:average_rating</span>).min</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span><span class=\"pl-pds\">\"</span></span>\r\nputs <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Maximum average rating: <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">search.stats(<span class=\"pl-c1\">:average_rating</span>).max</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span><span class=\"pl-pds\">\"</span></span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-stats-on-multiple-fields\" class=\"anchor\" href=\"#stats-on-multiple-fields\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Stats on multiple fields</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  stats <span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">:blog_id</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-faceting-on-stats\" class=\"anchor\" href=\"#faceting-on-stats\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Faceting on stats</h4>\r\n\r\n<p>It's possible to facet field stats on another field:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  stats <span class=\"pl-c1\">:average_rating</span> <span class=\"pl-k\">do</span>\r\n    facet <span class=\"pl-c1\">:featured</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\nsearch.stats(<span class=\"pl-c1\">:average_rating</span>).facet(<span class=\"pl-c1\">:featured</span>).rows <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">row</span>|\r\n  puts <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Minimum average rating for featured=<span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">row.value</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span>: <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">row.min</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span><span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>Take care when requesting facets on a stats field, since all facet results are\r\nreturned by Solr!</p>\r\n\r\n<h4>\r\n<a id=\"user-content-multiple-stats-and-selective-faceting\" class=\"anchor\" href=\"#multiple-stats-and-selective-faceting\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Multiple stats and selective faceting</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  stats <span class=\"pl-c1\">:average_rating</span> <span class=\"pl-k\">do</span>\r\n    facet <span class=\"pl-c1\">:featured</span>\r\n  <span class=\"pl-k\">end</span>\r\n  stats <span class=\"pl-c1\">:blog_id</span> <span class=\"pl-k\">do</span>\r\n    facet <span class=\"pl-c1\">:average_rating</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-functions\" class=\"anchor\" href=\"#functions\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Functions</h3>\r\n\r\n<p>Functions in Solr make it possible to dynamically compute values for each document. This gives you more flexability and you don't have to only deal with static values. For more details, please read <a href=\"http://wiki.apache.org/solr/FunctionQuery\">Fuction Query documentation</a>.</p>\r\n\r\n<p>Sunspot supports functions in two ways:</p>\r\n\r\n<ol>\r\n<li>You can use functions to dynamically count boosting for field:</li>\r\n</ol>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\">#Posts with pizza, scored higer (square promotion field) if is_promoted</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    boost(function {sqrt(<span class=\"pl-c1\">:promotion</span>)}) { with(<span class=\"pl-c1\">:is_promoted</span>, <span class=\"pl-c1\">true</span>) }\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<ol>\r\n<li>You're able to use functions for ordering (see examples for <a href=\"#ordering\">order_by_function</a>)</li>\r\n</ol>\r\n\r\n<h3>\r\n<a id=\"user-content-more-like-this\" class=\"anchor\" href=\"#more-like-this\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>More Like This</h3>\r\n\r\n<p>Sunspot can extract related items using more_like_this. When searching\r\nfor similar items, you can pass a block with the following options:</p>\r\n\r\n<ul>\r\n<li>fields :field_1[, :field_2, ...]</li>\r\n<li>minimum_term_frequency ##</li>\r\n<li>minimum_document_frequency ##</li>\r\n<li>minimum_word_length ##</li>\r\n<li>maximum_word_length ##</li>\r\n<li>maximum_query_terms ##</li>\r\n<li>boost_by_relevance true/false</li>\r\n</ul>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    <span class=\"pl-c\"># The :more_like_this option must be set to true</span>\r\n    text <span class=\"pl-c1\">:body</span>, <span class=\"pl-c1\">:more_like_this</span> =&gt; <span class=\"pl-c1\">true</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\npost <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.first\r\n\r\nresults <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Sunspot</span>.more_like_this(post) <span class=\"pl-k\">do</span>\r\n  fields <span class=\"pl-c1\">:body</span>\r\n  minimum_term_frequency <span class=\"pl-c1\">5</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>To use more_like_this you need to have the <a href=\"http://wiki.apache.org/solr/MoreLikeThisHandler\">MoreLikeThis handler enabled in solrcofig.xml</a>.</p>\r\n\r\n<p>Example handler will look like this:</p>\r\n\r\n<pre><code>&lt;requestHandler class=\"solr.MoreLikeThisHandler\" name=\"/mlt\"&gt;\r\n  &lt;lst name=\"defaults\"&gt;\r\n    &lt;str name=\"mlt.mintf\"&gt;1&lt;/str&gt;\r\n    &lt;str name=\"mlt.mindf\"&gt;2&lt;/str&gt;\r\n  &lt;/lst&gt;\r\n&lt;/requestHandler&gt;\r\n</code></pre>\r\n\r\n<h3>\r\n<a id=\"user-content-spellcheck\" class=\"anchor\" href=\"#spellcheck\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Spellcheck</h3>\r\n\r\n<p>Solr supports spellchecking of search results against a\r\ndictionary. Sunspot supports turning on the spellchecker via the query\r\nDSL and parsing the response. Read the\r\n<a href=\"http://wiki.apache.org/solr/SpellCheckComponent\">solr docs</a> for more\r\ninformation on how this all works inside Solr.</p>\r\n\r\n<p>Solr's default spellchecking engine expects to use a dictionary\r\ncomprised of values from an indexed field. This tends to work better\r\nthan a static dictionary file, since it includes proper nouns in your\r\nindex. The default in sunspot's <code>solrconfig.xml</code> is <code>textSpell</code> (note\r\nthat <code>buildOnCommit</code> isn't recommended in production):</p>\r\n\r\n<pre><code>&lt;lst name=\"spellchecker\"&gt;\r\n   &lt;str name=\"name\"&gt;default&lt;/str&gt;\r\n   &lt;!-- change field to textSpell and use copyField in schema.xml\r\n   to spellcheck multiple fields --&gt;\r\n   &lt;str name=\"field\"&gt;textSpell&lt;/str&gt;\r\n   &lt;str name=\"buildOnCommit\"&gt;true&lt;/str&gt;\r\n &lt;/lst&gt;\r\n</code></pre>\r\n\r\n<p>Define the <code>textSpell</code> field in your <code>schema.xml</code>.</p>\r\n\r\n<pre><code>&lt;field name=\"textSpell\" stored=\"false\" type=\"textSpell\" multiValued=\"true\" indexed=\"true\"/&gt;\r\n</code></pre>\r\n\r\n<p>To get some data into your spellchecking field, you can use <code>copyField</code> in <code>schema.xml</code>:</p>\r\n\r\n<pre><code>&lt;copyField source=\"*_text\"  dest=\"textSpell\" /&gt;\r\n&lt;copyField source=\"*_s\"  dest=\"textSpell\" /&gt;\r\n</code></pre>\r\n\r\n<p><code>copyField</code> works <em>before</em> any analyzers you have set up on the source\r\nfields. You can add your own analyzer by customizing the <code>textSpell</code> field type in <code>schema.xml</code>:</p>\r\n\r\n<pre><code>&lt;fieldType name=\"textSpell\" class=\"solr.TextField\" positionIncrementGap=\"100\" omitNorms=\"true\"&gt;\r\n  &lt;analyzer&gt;\r\n    &lt;tokenizer class=\"solr.StandardTokenizerFactory\"/&gt;\r\n    &lt;filter class=\"solr.StandardFilterFactory\"/&gt;\r\n    &lt;filter class=\"solr.LowerCaseFilterFactory\"/&gt;\r\n  &lt;/analyzer&gt;\r\n&lt;/fieldType&gt;\r\n</code></pre>\r\n\r\n<p>It's dangerous to add too much to this analyzer chain. It runs before\r\nwords are inserted into the spellcheck dictionary, which means the\r\nsuggestions that come back from solr are post-analyzer. With the\r\ndefault above, that means all spelling suggestions will be lower-case.</p>\r\n\r\n<p>Once you have solr configured, you can turn it on for a given query\r\nusing the query DSL (see spellcheck_spec.rb for more examples):</p>\r\n\r\n<pre><code>search = Sunspot.search(Post) do\r\n  keywords 'Cofee'\r\n  spellcheck :count =&gt; 3\r\nend\r\n</code></pre>\r\n\r\n<p>Access the suggestions via the <code>spellcheck_suggestions</code> or\r\n<code>spellcheck_suggestion_for</code> (for just the top one) methods:</p>\r\n\r\n<pre><code>search.spellcheck_suggestion_for('cofee') # =&gt; 'coffee'\r\n\r\nsearch.spellcheck_suggestions # =&gt; [{word: 'coffee', freq: 10}, {word: 'toffee', freq: 1}]\r\n</code></pre>\r\n\r\n<p>If you've turned on <a href=\"http://wiki.apache.org/solr/SpellCheckComponent#spellcheck.collate\">collation</a>,\r\nyou can also get that result:</p>\r\n\r\n<pre><code>search = Sunspot.search(Post) do\r\n  keywords 'Cofee market'\r\n  spellcheck :count =&gt; 3\r\nend\r\n\r\nsearch.spellcheck_collation # =&gt; 'coffee market'\r\n</code></pre>\r\n\r\n<h2>\r\n<a id=\"user-content-indexes-in-depth\" class=\"anchor\" href=\"#indexes-in-depth\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Indexes In Depth</h2>\r\n\r\n<p>TODO</p>\r\n\r\n<h3>\r\n<a id=\"user-content-index-time-boosts\" class=\"anchor\" href=\"#index-time-boosts\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Index-Time Boosts</h3>\r\n\r\n<p>To specify that a field should be boosted in relation to other fields for\r\nall queries, you can specify the boost at index time:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:title</span>, <span class=\"pl-c1\">:boost</span> =&gt; <span class=\"pl-c1\">5.0</span>\r\n    text <span class=\"pl-c1\">:body</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-stored-fields\" class=\"anchor\" href=\"#stored-fields\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Stored Fields</h3>\r\n\r\n<p>Stored fields keep an original (untokenized/unanalyzed) version of their\r\ncontents in Solr.</p>\r\n\r\n<p>Stored fields allow data to be retrieved without also hitting the\r\nunderlying database (usually an SQL server). They are also required for\r\nhighlighting and more like this queries.</p>\r\n\r\n<p>Stored fields come at some performance cost in the Solr index, so use\r\nthem wisely.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:body</span>, <span class=\"pl-c1\">:stored</span> =&gt; <span class=\"pl-c1\">true</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Retrieving stored contents without hitting the database</span>\r\n<span class=\"pl-c1\">Post</span>.search.hits.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">hit</span>|\r\n  puts hit.stored(<span class=\"pl-c1\">:body</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-hits-vs-results\" class=\"anchor\" href=\"#hits-vs-results\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Hits vs. Results</h2>\r\n\r\n<p>Sunspot simply stores the type and primary key of objects in Solr.\r\nWhen results are retrieved, those primary keys are used to load the\r\nactual object (usually from an SQL database).</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Using #results pulls in the records from the object-relational</span>\r\n<span class=\"pl-c\"># mapper (e.g., ActiveRecord + a SQL server)</span>\r\n<span class=\"pl-c1\">Post</span>.search.results.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">result</span>|\r\n  puts result.body\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>To access information about the results without querying the underlying\r\ndatabase, use <code>hits</code>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Using #hits gives back all information requested from Solr, but does</span>\r\n<span class=\"pl-c\"># not load the object from the object-relational mapper</span>\r\n<span class=\"pl-c1\">Post</span>.search.hits.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">hit</span>|\r\n  puts hit.stored(<span class=\"pl-c1\">:body</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>If you need both the result (ORM-loaded object) and <code>Hit</code> (e.g., for\r\nfaceting, highlighting, etc...), you can use the convenience method\r\n<code>each_hit_with_result</code>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c1\">Post</span>.search.each_hit_with_result <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">hit</span>, <span class=\"pl-smi\">result</span>|\r\n  <span class=\"pl-c\"># ...</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-reindexing-objects\" class=\"anchor\" href=\"#reindexing-objects\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Reindexing Objects</h2>\r\n\r\n<p>If you are using Rails, objects are automatically indexed to Solr as a\r\npart of the <code>save</code> callbacks.</p>\r\n\r\n<p>There are a number of ways to index manually within Ruby:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># On a class itself</span>\r\n<span class=\"pl-c1\">Person</span>.reindex\r\n<span class=\"pl-c1\">Sunspot</span>.commit <span class=\"pl-c\"># or commit(true) for a soft commit (Solr4)</span>\r\n\r\n<span class=\"pl-c\"># On mixed objects</span>\r\n<span class=\"pl-c1\">Sunspot</span>.index [post1, item2]\r\n<span class=\"pl-c1\">Sunspot</span>.index person3\r\n<span class=\"pl-c1\">Sunspot</span>.commit <span class=\"pl-c\"># or commit(true) for a soft commit (Solr4)</span>\r\n\r\n<span class=\"pl-c\"># With autocommit</span>\r\n<span class=\"pl-c1\">Sunspot</span>.index! [post1, item2, person3]</pre></div>\r\n\r\n<p>If you make a change to the object's \"schema\" (code in the <code>searchable</code> block),\r\nyou must reindex all objects so the changes are reflected in Solr:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle <span class=\"pl-c1\">exec</span> rake sunspot:reindex\r\n\r\n<span class=\"pl-c\"># or, to be specific to a certain model with a certain batch size:</span>\r\nbundle <span class=\"pl-c1\">exec</span> rake sunspot:reindex[500,Post] <span class=\"pl-c\"># some shells will require escaping [ with \\[ and ] with \\]</span>\r\n\r\n<span class=\"pl-c\"># to skip the prompt asking you if you want to proceed with the reindexing:</span>\r\nbundle <span class=\"pl-c1\">exec</span> rake sunspot:reindex[,,<span class=\"pl-c1\">true</span>] <span class=\"pl-c\"># some shells will require escaping [ with \\[ and ] with \\]</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-use-without-rails\" class=\"anchor\" href=\"#use-without-rails\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Use Without Rails</h2>\r\n\r\n<p>TODO</p>\r\n\r\n<h2>\r\n<a id=\"user-content-threading\" class=\"anchor\" href=\"#threading\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Threading</h2>\r\n\r\n<p>The default Sunspot Session is not thread-safe. If used in a multi-threaded\r\nenvironment (such as sidekiq), you should configure Sunspot to use the\r\n<a href=\"http://sunspot.github.io/sunspot/docs/Sunspot/SessionProxy/ThreadLocalSessionProxy.html\">ThreadLocalSessionProxy</a>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c1\">Sunspot</span>.session <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Sunspot</span>::<span class=\"pl-c1\">SessionProxy</span>::<span class=\"pl-c1\">ThreadLocalSessionProxy</span>.<span class=\"pl-k\">new</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-manually-adjusting-solr-parameters\" class=\"anchor\" href=\"#manually-adjusting-solr-parameters\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Manually Adjusting Solr Parameters</h2>\r\n\r\n<p>To add or modify parameters sent to Solr, use <code>adjust_solr_params</code>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  adjust_solr_params <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">params</span>|\r\n    params[<span class=\"pl-c1\">:q</span>] <span class=\"pl-k\">+=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span> AND something_s:more<span class=\"pl-pds\">\"</span></span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-session-proxies\" class=\"anchor\" href=\"#session-proxies\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Session Proxies</h2>\r\n\r\n<p>TODO</p>\r\n\r\n<h2>\r\n<a id=\"user-content-type-reference\" class=\"anchor\" href=\"#type-reference\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Type Reference</h2>\r\n\r\n<p>TODO</p>\r\n\r\n<h2>\r\n<a id=\"user-content-configuration\" class=\"anchor\" href=\"#configuration\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Configuration</h2>\r\n\r\n<p>Configure Sunspot by creating a <em>config/sunspot.yml</em> file or by setting a <code>SOLR_URL</code> or a <code>WEBSOLR_URL</code> environment variable.\r\nThe defaults are as follows.</p>\r\n\r\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">development:</span></span>\r\n  <span class=\"pl-s\"><span class=\"pl-ent\">solr:</span></span>\r\n    <span class=\"pl-s\"><span class=\"pl-ent\">hostname:</span> <span class=\"pl-s\">localhost</span></span>\r\n    <span class=\"pl-c1\"><span class=\"pl-ent\">port:</span> 8982</span>\r\n    <span class=\"pl-s\"><span class=\"pl-ent\">log_level:</span> <span class=\"pl-s\">INFO</span></span>\r\n\r\n<span class=\"pl-s\"><span class=\"pl-ent\">test:</span></span>\r\n  <span class=\"pl-s\"><span class=\"pl-ent\">solr:</span></span>\r\n    <span class=\"pl-s\"><span class=\"pl-ent\">hostname:</span> <span class=\"pl-s\">localhost</span></span>\r\n    <span class=\"pl-c1\"><span class=\"pl-ent\">port:</span> 8981</span>\r\n    <span class=\"pl-s\"><span class=\"pl-ent\">log_level:</span> <span class=\"pl-s\">WARNING</span></span></pre></div>\r\n\r\n<p>You may want to use SSL for production environments with a username and password. For example, set <code>SOLR_URL</code> to <code>https://username:password@production.solr.example.com/solr</code>.</p>\r\n\r\n<p>You can examine the value of <code>Sunspot::Rails.configuration</code> at runtime.</p>\r\n\r\n<h2>\r\n<a id=\"user-content-development\" class=\"anchor\" href=\"#development\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Development</h2>\r\n\r\n<h3>\r\n<a id=\"user-content-running-tests\" class=\"anchor\" href=\"#running-tests\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Running Tests</h3>\r\n\r\n<h4>\r\n<a id=\"user-content-sunspot-1\" class=\"anchor\" href=\"#sunspot-1\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>sunspot</h4>\r\n\r\n<p>Install the required gem dependencies:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre><span class=\"pl-c1\">cd</span> /path/to/sunspot/sunspot\r\nbundle install</pre></div>\r\n\r\n<p>Start a Solr instance on port 8983:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle <span class=\"pl-c1\">exec</span> sunspot-solr start -p 8983\r\n<span class=\"pl-c\"># or `bundle exec sunspot-solr run -p 8983` to run in foreground</span></pre></div>\r\n\r\n<p>Run the tests:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle <span class=\"pl-c1\">exec</span> rake spec</pre></div>\r\n\r\n<p>If desired, stop the Solr instance:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle <span class=\"pl-c1\">exec</span> sunspot-solr stop</pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-sunspot_rails\" class=\"anchor\" href=\"#sunspot_rails\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>sunspot_rails</h4>\r\n\r\n<p>Install the gem dependencies for <code>sunspot</code>:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre><span class=\"pl-c1\">cd</span> /path/to/sunspot/sunspot\r\nbundle install</pre></div>\r\n\r\n<p>Start a Solr instance on port 8983:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle <span class=\"pl-c1\">exec</span> sunspot-solr start -p 8983\r\n<span class=\"pl-c\"># or `bundle exec sunspot-solr run -p 8983` to run in foreground</span></pre></div>\r\n\r\n<p>Navigate to the <code>sunspot_rails</code> directory:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre><span class=\"pl-c1\">cd</span> ../sunspot_rails</pre></div>\r\n\r\n<p>Run the tests:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>rake spec <span class=\"pl-c\"># all Rails versions</span>\r\nrake spec RAILS=3.1.1 <span class=\"pl-c\"># specific Rails version only</span></pre></div>\r\n\r\n<p>If desired, stop the Solr instance:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre><span class=\"pl-c1\">cd</span> ../sunspot\r\nbundle <span class=\"pl-c1\">exec</span> sunspot-solr stop</pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-generating-documentation\" class=\"anchor\" href=\"#generating-documentation\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Generating Documentation</h3>\r\n\r\n<p>Install the <code>yard</code> and <code>redcarpet</code> gems:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>$ gem install yard redcarpet</pre></div>\r\n\r\n<p>Uninstall the <code>rdiscount</code> gem, if installed:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>$ gem uninstall rdiscount</pre></div>\r\n\r\n<p>Generate the documentation from topmost directory:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>$ yardoc -o docs <span class=\"pl-k\">*</span>/lib/<span class=\"pl-k\">**</span>/<span class=\"pl-k\">*</span>.rb - README.md</pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-tutorials-and-articles\" class=\"anchor\" href=\"#tutorials-and-articles\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Tutorials and Articles</h2>\r\n\r\n<ul>\r\n<li>\r\n<a href=\"http://mrdanadams.com/2012/sunspot-websolr-solr-heroku/\">Using Sunspot, Websolr, and Solr on Heroku</a> (mrdanadams)</li>\r\n<li>\r\n<a href=\"http://collectiveidea.com/blog/archives/2011/03/08/full-text-searching-with-solr-and-sunspot/\">Full Text Searching with Solr and Sunspot</a> (Collective Idea)</li>\r\n<li>\r\n<a href=\"http://tech.favoritemedium.com/2010/01/full-text-search-in-rails-with-sunspot.html\">Full-text search in Rails with Sunspot</a> (Tropical Software Observations)</li>\r\n<li>\r\n<a href=\"http://therailworld.com/posts/23-Sunspot-Full-text-Search-for-Rails-Ruby\">Sunspot Full-text Search for Rails/Ruby</a> (The Rail World)</li>\r\n<li>\r\n<a href=\"http://blog.trydionel.com/2009/11/19/a-few-sunspot-tips/\">A Few Sunspot Tips</a> (spiral_code)</li>\r\n<li>\r\n<a href=\"http://www.linux-mag.com/id/7341\">Sunspot: A Solr-Powered Search Engine for Ruby</a> (Linux Magazine)</li>\r\n<li>\r\n<a href=\"http://bennyfreshness.com/2010/05/sunspot-helped-me-see-the-light/\">Sunspot Showed Me the Light</a> (ben koonse)</li>\r\n<li>\r\n<a href=\"http://blog.websolr.com/post/3505903537/rubygems-search-upgrade-1\">RubyGems.org â€” A case study in upgrading to full-text search</a> (Websolr)</li>\r\n<li>\r\n<a href=\"http://web.archive.org/web/20120708071427/http://codequest.eu/articles/how-to-implement-spatial-search-with-sunspot-and-solr\">How to Implement Spatial Search with Sunspot and Solr</a> (Code Quest)</li>\r\n<li>\r\n<a href=\"http://joelmats.wordpress.com/2011/02/23/getting-sunspot-1-2-with-spatial-solr-plugin-2-0-to-work/\">Sunspot 1.2 with Spatial Solr Plugin 2.0</a> (joelmats)</li>\r\n<li>\r\n<a href=\"http://web.archive.org/web/20100727041141/http://anhaminha.tumblr.com/post/632682537/rails3-heroku-sunspot-madness\">rails3 + heroku + sunspot : madness</a> (anhaminha)</li>\r\n<li>\r\n<a href=\"https://devcenter.heroku.com/articles/websolr\">heroku + websolr + sunspot</a> (Onemorecloud)</li>\r\n<li>\r\n<a href=\"http://cookbook.hobocentral.net/recipes/57-how-to-get-full-text-search\">How to get full text search working with Sunspot</a> (Hobo Cookbook)</li>\r\n<li>\r\n<a href=\"http://web.archive.org/web/20120311015358/http://hemju.com/2011/01/04/full-text-search-with-sunspot-in-rails/\">Full text search with Sunspot in Rails</a> (hemju)</li>\r\n<li>\r\n<a href=\"http://masonoise.wordpress.com/2010/02/06/using-sunspot-for-free-text-search-with-redis/\">Using Sunspot for Free-Text Search with Redis</a> (While I Pondered...)</li>\r\n<li>\r\n<a href=\"http://www.pipetodevnull.com/past/2010/8/5/fuzzy_searching_in_solr_with_sunspot/\">Fuzzy searching in SOLR with Sunspot</a> (pipe :to =&gt; /dev/null)</li>\r\n<li>\r\n<a href=\"http://www.cloudspace.com/blog/2010/01/15/default-scope-with-sunspot/\">Default scope with Sunspot</a> (Cloudspace)</li>\r\n<li>\r\n<a href=\"http://www.medihack.org/2011/03/19/index-external-models-with-sunspotsolr/\">Index External Models with Sunspot/Solr</a> (Medihack)</li>\r\n<li>\r\n<a href=\"http://collectiveidea.com/blog/archives/2011/05/25/testing-with-sunspot-and-cucumber/\">Testing with Sunspot and Cucumber</a> (Collective Idea)</li>\r\n<li>\r\n<a href=\"http://opensoul.org/2010/4/7/cucumber-and-sunspot\">Cucumber and Sunspot</a> (opensoul.org)</li>\r\n<li>\r\n<a href=\"http://blog.trydionel.com/2010/02/06/testing-sunspot-with-cucumber/\">Testing Sunspot with Cucumber</a> (spiral_code)</li>\r\n<li>\r\n<a href=\"http://blog.kabisa.nl/2010/02/03/running-cucumber-features-with-sunspot_rails\">Running cucumber features with sunspot_rails</a> (Kabisa Blog)</li>\r\n<li>\r\n<a href=\"http://timcowlishaw.co.uk/post/3179661158/testing-sunspot-with-test-unit\">Testing Sunspot with Test::Unit</a> (Type Slowly)</li>\r\n<li>\r\n<a href=\"http://wiki.websolr.com/guides/Sunspot-Quick-Start\">Sunspot Quickstart</a> (WebSolr)</li>\r\n<li>\r\n<a href=\"http://www.kuahyeow.com/2009/08/solr-and-sunspot.html\">Solr, and Sunspot</a> (YT!)</li>\r\n<li>\r\n<a href=\"http://web.archive.org/web/20100427135335/http://mrb.github.com/2010/04/08/the-saga-of-the-switch.html\">The Saga of the Switch</a> (mrb -- includes comparison of Sunspot and Ultrasphinx)</li>\r\n<li>\r\n<a href=\"http://mikepackdev.com/blog_posts/19-conditional-indexing-with-sunspot\">Conditional Indexing with Sunspot</a> (mikepack)</li>\r\n<li>\r\n<a href=\"http://valve.github.io/blog/2014/02/22/rails-developer-guide-to-full-text-search-with-solr/\">Introduction to Full Text Search for Rails Developers</a> (Valve's)</li>\r\n</ul>\r\n\r\n<h2>\r\n<a id=\"user-content-license\" class=\"anchor\" href=\"#license\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>License</h2>\r\n\r\n<p>Sunspot is distributed under the MIT License, copyright (c) 2008-2013 Mat Brown</p>\r\n</article>\r\n  </div>\r\n\r\n\r\n        </div>\r\n\r\n      </div><!-- /.repo-container -->\r\n      <div class=\"modal-backdrop\"></div>\r\n    </div><!-- /.container -->\r\n  </div><!-- /.site -->\r\n\r\n\r\n    </div><!-- /.wrapper -->\r\n\r\n      <div class=\"container\">\r\n  <div class=\"site-footer\" role=\"contentinfo\">\r\n    <ul class=\"site-footer-links right\">\r\n        <li><a href=\"https://status.github.com/\" data-ga-click=\"Footer, go to status, text:status\">Status</a></li>\r\n      <li><a href=\"https://developer.github.com\" data-ga-click=\"Footer, go to api, text:api\">API</a></li>\r\n      <li><a href=\"https://training.github.com\" data-ga-click=\"Footer, go to training, text:training\">Training</a></li>\r\n      <li><a href=\"https://shop.github.com\" data-ga-click=\"Footer, go to shop, text:shop\">Shop</a></li>\r\n        <li><a href=\"https://github.com/blog\" data-ga-click=\"Footer, go to blog, text:blog\">Blog</a></li>\r\n        <li><a href=\"https://github.com/about\" data-ga-click=\"Footer, go to about, text:about\">About</a></li>\r\n\r\n    </ul>\r\n\r\n    <a href=\"https://github.com\" aria-label=\"Homepage\">\r\n      <span class=\"mega-octicon octicon-mark-github\" title=\"GitHub\"></span>\r\n</a>\r\n    <ul class=\"site-footer-links\">\r\n      <li>&copy; 2015 <span title=\"0.08031s from github-fe138-cp1-prd.iad.github.net\">GitHub</span>, Inc.</li>\r\n        <li><a href=\"https://github.com/site/terms\" data-ga-click=\"Footer, go to terms, text:terms\">Terms</a></li>\r\n        <li><a href=\"https://github.com/site/privacy\" data-ga-click=\"Footer, go to privacy, text:privacy\">Privacy</a></li>\r\n        <li><a href=\"https://github.com/security\" data-ga-click=\"Footer, go to security, text:security\">Security</a></li>\r\n        <li><a href=\"https://github.com/contact\" data-ga-click=\"Footer, go to contact, text:contact\">Contact</a></li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n\r\n\r\n    <div class=\"fullscreen-overlay js-fullscreen-overlay\" id=\"fullscreen_overlay\">\r\n  <div class=\"fullscreen-container js-suggester-container\">\r\n    <div class=\"textarea-wrap\">\r\n      <textarea name=\"fullscreen-contents\" id=\"fullscreen-contents\" class=\"fullscreen-contents js-fullscreen-contents\" placeholder=\"\"></textarea>\r\n      <div class=\"suggester-container\">\r\n        <div class=\"suggester fullscreen-suggester js-suggester js-navigation-container\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"fullscreen-sidebar\">\r\n    <a href=\"#\" class=\"exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w\" aria-label=\"Exit Zen Mode\">\r\n      <span class=\"mega-octicon octicon-screen-normal\"></span>\r\n    </a>\r\n    <a href=\"#\" class=\"theme-switcher js-theme-switcher tooltipped tooltipped-w\"\r\n      aria-label=\"Switch themes\">\r\n      <span class=\"octicon octicon-color-mode\"></span>\r\n    </a>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n    \r\n\r\n    <div id=\"ajax-error-message\" class=\"flash flash-error\">\r\n      <span class=\"octicon octicon-alert\"></span>\r\n      <a href=\"#\" class=\"octicon octicon-x flash-close js-ajax-error-dismiss\" aria-label=\"Dismiss error\"></a>\r\n      Something went wrong with that request. Please try again.\r\n    </div>\r\n\r\n\r\n      <script crossorigin=\"anonymous\" src=\"https://assets-cdn.github.com/assets/frameworks-5c08de317e4054ec200d36d3b1361ddd3cb30c05c9070a9d72862ee28ab1d7f9.js\"></script>\r\n      <script async=\"async\" crossorigin=\"anonymous\" src=\"https://assets-cdn.github.com/assets/github/index-b79817a43c4618022b9ecd18dadd96010ccecbb12b56fcc232664db1f897e3a8.js\"></script>\r\n      \r\n      \r\n\r\n  </body>\r\n</html>\r\n"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "links" ("title", "URL", "html", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Sunspot Solr Thingy"], ["URL", "https://github.com/sunspot/sunspot#readme"], ["html", "\r\n\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"en\" class=\"\">\r\n  <head prefix=\"og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#\">\r\n    <meta charset='utf-8'>\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <meta http-equiv=\"Content-Language\" content=\"en\">\r\n    \r\n    \r\n    <title>sunspot/sunspot</title>\r\n    <link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch.xml\" title=\"GitHub\">\r\n    <link rel=\"fluid-icon\" href=\"https://github.com/fluidicon.png\" title=\"GitHub\">\r\n    <link rel=\"apple-touch-icon\" sizes=\"57x57\" href=\"/apple-touch-icon-114.png\">\r\n    <link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"/apple-touch-icon-114.png\">\r\n    <link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"/apple-touch-icon-144.png\">\r\n    <link rel=\"apple-touch-icon\" sizes=\"144x144\" href=\"/apple-touch-icon-144.png\">\r\n    <meta property=\"fb:app_id\" content=\"1401488693436528\">\r\n\r\n      <meta content=\"@github\" name=\"twitter:site\" /><meta content=\"summary\" name=\"twitter:card\" /><meta content=\"sunspot/sunspot\" name=\"twitter:title\" /><meta content=\"sunspot - Solr-powered search for Ruby objects\" name=\"twitter:description\" /><meta content=\"https://avatars0.githubusercontent.com/u/1027744?v=3&amp;s=400\" name=\"twitter:image:src\" />\r\n      <meta content=\"GitHub\" property=\"og:site_name\" /><meta content=\"object\" property=\"og:type\" /><meta content=\"https://avatars0.githubusercontent.com/u/1027744?v=3&amp;s=400\" property=\"og:image\" /><meta content=\"sunspot/sunspot\" property=\"og:title\" /><meta content=\"https://github.com/sunspot/sunspot\" property=\"og:url\" /><meta content=\"sunspot - Solr-powered search for Ruby objects\" property=\"og:description\" />\r\n      <meta name=\"browser-stats-url\" content=\"https://api.github.com/_private/browser/stats\">\r\n    <meta name=\"browser-errors-url\" content=\"https://api.github.com/_private/browser/errors\">\r\n    <link rel=\"assets\" href=\"https://assets-cdn.github.com/\">\r\n    <link rel=\"web-socket\" href=\"wss://live.github.com/_sockets/MTc1MzA4NzoxNmI3MmQyODBiNGIyNjYyZDliOTFhNzdiZjYzOWRhMjo5NTNkNDMyNjU0OGJjNzNkZDNmZjVlYTUzMTRhMzY0MDhmZmY0OTgzN2M5Yzg4MTU0ZDQwYmU3MjkwMjAwNWQ4--646029a77b59e9ee329f5a0a2fc2cfc7e19a3244\">\r\n    <meta name=\"pjax-timeout\" content=\"1000\">\r\n    <link rel=\"sudo-modal\" href=\"/sessions/sudo_modal\">\r\n\r\n    <meta name=\"msapplication-TileImage\" content=\"/windows-tile.png\">\r\n    <meta name=\"msapplication-TileColor\" content=\"#ffffff\">\r\n    <meta name=\"selected-link\" value=\"repo_source\" data-pjax-transient>\r\n      <meta name=\"google-analytics\" content=\"UA-3769691-2\">\r\n\r\n    <meta content=\"collector.githubapp.com\" name=\"octolytics-host\" /><meta content=\"collector-cdn.github.com\" name=\"octolytics-script-host\" /><meta content=\"github\" name=\"octolytics-app-id\" /><meta content=\"442A7507:67E4:43573C4:5558F18B\" name=\"octolytics-dimension-request_id\" /><meta content=\"1753087\" name=\"octolytics-actor-id\" /><meta content=\"ghukill\" name=\"octolytics-actor-login\" /><meta content=\"9bcbe341096c0123834d55ab818047d5f65ce9efc6011dbed32f43fb352dbd32\" name=\"octolytics-actor-hash\" />\r\n    \r\n    <meta content=\"Rails, view, files#disambiguate\" name=\"analytics-event\" />\r\n    <meta class=\"js-ga-set\" name=\"dimension1\" content=\"Logged In\">\r\n    <meta class=\"js-ga-set\" name=\"dimension2\" content=\"Header v3\">\r\n    <meta name=\"is-dotcom\" content=\"true\">\r\n    <meta name=\"hostname\" content=\"github.com\">\r\n    <meta name=\"user-login\" content=\"ghukill\">\r\n\r\n    \r\n    <link rel=\"icon\" type=\"image/x-icon\" href=\"https://assets-cdn.github.com/favicon.ico\">\r\n\r\n\r\n    <meta content=\"authenticity_token\" name=\"csrf-param\" />\r\n<meta content=\"IdnqP9a6n7IuMzZSwVIGdQP5p+zVuvCUa02P7pgm98wjH0gFkvDKZ+rt+K4Q9fXr91nyjTvrlGufXd5Jkg/Q1A==\" name=\"csrf-token\" />\r\n\r\n    <link href=\"https://assets-cdn.github.com/assets/github/index-d80e093fe7c48ff920ce83dfd2ad7c02806722220d164b49101ed783098ea618.css\" media=\"all\" rel=\"stylesheet\" />\r\n    <link href=\"https://assets-cdn.github.com/assets/github2/index-99a58ea750b0547d1266460cd4ade0c2c81ed8c524cbba4ea5e3b37e18daec79.css\" media=\"all\" rel=\"stylesheet\" />\r\n    \r\n    \r\n\r\n\r\n    <meta http-equiv=\"x-pjax-version\" content=\"282d80bd51fc0e03270191711c02f726\">\r\n\r\n      \r\n  <meta name=\"description\" content=\"sunspot - Solr-powered search for Ruby objects\">\r\n  <meta name=\"go-import\" content=\"github.com/sunspot/sunspot git https://github.com/sunspot/sunspot.git\">\r\n\r\n  <meta content=\"1027744\" name=\"octolytics-dimension-user_id\" /><meta content=\"sunspot\" name=\"octolytics-dimension-user_login\" /><meta content=\"62509\" name=\"octolytics-dimension-repository_id\" /><meta content=\"sunspot/sunspot\" name=\"octolytics-dimension-repository_nwo\" /><meta content=\"true\" name=\"octolytics-dimension-repository_public\" /><meta content=\"false\" name=\"octolytics-dimension-repository_is_fork\" /><meta content=\"62509\" name=\"octolytics-dimension-repository_network_root_id\" /><meta content=\"sunspot/sunspot\" name=\"octolytics-dimension-repository_network_root_nwo\" />\r\n  <link href=\"https://github.com/sunspot/sunspot/commits/master.atom\" rel=\"alternate\" title=\"Recent Commits to sunspot:master\" type=\"application/atom+xml\">\r\n\r\n  </head>\r\n\r\n\r\n  <body class=\"logged_in  env-production linux vis-public\">\r\n    <a href=\"#start-of-content\" tabindex=\"1\" class=\"accessibility-aid js-skip-to-content\">Skip to content</a>\r\n    <div class=\"wrapper\">\r\n      \r\n      \r\n      \r\n\r\n\r\n        <div class=\"header header-logged-in true\" role=\"banner\">\r\n  <div class=\"container clearfix\">\r\n\r\n    <a class=\"header-logo-invertocat\" href=\"https://github.com/\" data-hotkey=\"g d\" aria-label=\"Homepage\" data-ga-click=\"Header, go to dashboard, icon:logo\">\r\n  <span class=\"mega-octicon octicon-mark-github\"></span>\r\n</a>\r\n\r\n\r\n      <div class=\"site-search repo-scope js-site-search\" role=\"search\">\r\n          <form accept-charset=\"UTF-8\" action=\"/sunspot/sunspot/search\" class=\"js-site-search-form\" data-global-search-url=\"/search\" data-repo-search-url=\"/sunspot/sunspot/search\" method=\"get\"><div style=\"margin:0;padding:0;display:inline\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /></div>\r\n  <label class=\"js-chromeless-input-container form-control\">\r\n    <div class=\"scope-badge\">This repository</div>\r\n    <input type=\"text\"\r\n      class=\"js-site-search-focus js-site-search-field is-clearable chromeless-input\"\r\n      data-hotkey=\"s\"\r\n      name=\"q\"\r\n      placeholder=\"Search\"\r\n      data-global-scope-placeholder=\"Search GitHub\"\r\n      data-repo-scope-placeholder=\"Search\"\r\n      tabindex=\"1\"\r\n      autocapitalize=\"off\">\r\n  </label>\r\n</form>\r\n      </div>\r\n\r\n      <ul class=\"header-nav left\" role=\"navigation\">\r\n          <li class=\"header-nav-item explore\">\r\n            <a class=\"header-nav-link\" href=\"/explore\" data-ga-click=\"Header, go to explore, text:explore\">Explore</a>\r\n          </li>\r\n            <li class=\"header-nav-item\">\r\n              <a class=\"header-nav-link\" href=\"https://gist.github.com\" data-ga-click=\"Header, go to gist, text:gist\">Gist</a>\r\n            </li>\r\n            <li class=\"header-nav-item\">\r\n              <a class=\"header-nav-link\" href=\"/blog\" data-ga-click=\"Header, go to blog, text:blog\">Blog</a>\r\n            </li>\r\n          <li class=\"header-nav-item\">\r\n            <a class=\"header-nav-link\" href=\"https://help.github.com\" data-ga-click=\"Header, go to help, text:help\">Help</a>\r\n          </li>\r\n      </ul>\r\n\r\n      \r\n<ul class=\"header-nav user-nav right\" id=\"user-links\">\r\n  <li class=\"header-nav-item dropdown js-menu-container\">\r\n    <a class=\"header-nav-link name\" href=\"/ghukill\" data-ga-click=\"Header, go to profile, text:username\">\r\n      <img alt=\"@ghukill\" class=\"avatar\" data-user=\"1753087\" height=\"20\" src=\"https://avatars3.githubusercontent.com/u/1753087?v=3&amp;s=40\" width=\"20\" />\r\n      <span class=\"css-truncate\">\r\n        <span class=\"css-truncate-target\">ghukill</span>\r\n      </span>\r\n    </a>\r\n  </li>\r\n\r\n  <li class=\"header-nav-item dropdown js-menu-container\">\r\n    <a class=\"header-nav-link js-menu-target tooltipped tooltipped-s\" href=\"/new\" aria-label=\"Create new...\" data-ga-click=\"Header, create new, icon:add\">\r\n      <span class=\"octicon octicon-plus\"></span>\r\n      <span class=\"dropdown-caret\"></span>\r\n    </a>\r\n\r\n    <div class=\"dropdown-menu-content js-menu-content\">\r\n      <ul class=\"dropdown-menu\">\r\n        \r\n<li>\r\n  <a href=\"/new\" data-ga-click=\"Header, create new repository, icon:repo\"><span class=\"octicon octicon-repo\"></span> New repository</a>\r\n</li>\r\n<li>\r\n  <a href=\"/organizations/new\" data-ga-click=\"Header, create new organization, icon:organization\"><span class=\"octicon octicon-organization\"></span> New organization</a>\r\n</li>\r\n\r\n\r\n  <li class=\"dropdown-divider\"></li>\r\n  <li class=\"dropdown-header\">\r\n    <span title=\"sunspot/sunspot\">This repository</span>\r\n  </li>\r\n    <li>\r\n      <a href=\"/sunspot/sunspot/issues/new\" data-ga-click=\"Header, create new issue, icon:issue\"><span class=\"octicon octicon-issue-opened\"></span> New issue</a>\r\n    </li>\r\n\r\n      </ul>\r\n    </div>\r\n  </li>\r\n\r\n  <li class=\"header-nav-item\">\r\n      <span class=\"js-socket-channel js-updatable-content\"\r\n        data-channel=\"notification-changed:ghukill\"\r\n        data-url=\"/notifications/header\">\r\n      <a href=\"/notifications\" aria-label=\"You have unread notifications\" class=\"header-nav-link notification-indicator tooltipped tooltipped-s\" data-ga-click=\"Header, go to notifications, icon:unread\" data-hotkey=\"g n\">\r\n          <span class=\"mail-status unread\"></span>\r\n          <span class=\"octicon octicon-inbox\"></span>\r\n</a>  </span>\r\n\r\n  </li>\r\n\r\n  <li class=\"header-nav-item\">\r\n    <a class=\"header-nav-link tooltipped tooltipped-s\" href=\"/settings/profile\" id=\"account_settings\" aria-label=\"Settings\" data-ga-click=\"Header, go to settings, icon:settings\">\r\n      <span class=\"octicon octicon-gear\"></span>\r\n    </a>\r\n  </li>\r\n\r\n  <li class=\"header-nav-item\">\r\n    <form accept-charset=\"UTF-8\" action=\"/logout\" class=\"logout-form\" method=\"post\"><div style=\"margin:0;padding:0;display:inline\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /><input name=\"authenticity_token\" type=\"hidden\" value=\"ogtavf4XhTECS2l/OhdZKt2Y54o3vv6cAKoS91XO4UInMLBPYiQCs457clAfG2Bo7d+cKC0KgXm9kD5LEO0Gzw==\" /></div>\r\n      <button class=\"header-nav-link sign-out-button tooltipped tooltipped-s\" aria-label=\"Sign out\" data-ga-click=\"Header, sign out, icon:logout\">\r\n        <span class=\"octicon octicon-sign-out\"></span>\r\n      </button>\r\n</form>  </li>\r\n\r\n</ul>\r\n\r\n\r\n\r\n    \r\n  </div>\r\n</div>\r\n\r\n        \r\n\r\n        \r\n\r\n\r\n      <div id=\"start-of-content\" class=\"accessibility-aid\"></div>\r\n          <div class=\"site\" itemscope itemtype=\"http://schema.org/WebPage\">\r\n    <div id=\"js-flash-container\">\r\n      \r\n    </div>\r\n    <div class=\"pagehead repohead instapaper_ignore readability-menu\">\r\n      <div class=\"container\">\r\n        \r\n<ul class=\"pagehead-actions\">\r\n\r\n  <li>\r\n      <form accept-charset=\"UTF-8\" action=\"/notifications/subscribe\" class=\"js-social-container\" data-autosubmit=\"true\" data-remote=\"true\" method=\"post\"><div style=\"margin:0;padding:0;display:inline\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /><input name=\"authenticity_token\" type=\"hidden\" value=\"iurVYf0gGgmwcfB1aWKqLcL7yOT51El2nRDJv7yACgyfeVgEaYxdYKsLoPjFRTP/i0G1610ZvcGLP2cwGKNoew==\" /></div>    <input id=\"repository_id\" name=\"repository_id\" type=\"hidden\" value=\"62509\" />\r\n\r\n      <div class=\"select-menu js-menu-container js-select-menu\">\r\n        <a href=\"/sunspot/sunspot/subscription\"\r\n          class=\"btn btn-sm btn-with-count select-menu-button js-menu-target\" role=\"button\" tabindex=\"0\" aria-haspopup=\"true\"\r\n          data-ga-click=\"Repository, click Watch settings, action:files#disambiguate\">\r\n          <span class=\"js-select-button\">\r\n            <span class=\"octicon octicon-eye\"></span>\r\n            Watch\r\n          </span>\r\n        </a>\r\n        <a class=\"social-count js-social-count\" href=\"/sunspot/sunspot/watchers\">\r\n          16\r\n        </a>\r\n\r\n        <div class=\"select-menu-modal-holder\">\r\n          <div class=\"select-menu-modal subscription-menu-modal js-menu-content\" aria-hidden=\"true\">\r\n            <div class=\"select-menu-header\">\r\n              <span class=\"select-menu-title\">Notifications</span>\r\n              <span class=\"octicon octicon-x js-menu-close\" role=\"button\" aria-label=\"Close\"></span>\r\n            </div>\r\n\r\n            <div class=\"select-menu-list js-navigation-container\" role=\"menu\">\r\n\r\n              <div class=\"select-menu-item js-navigation-item selected\" role=\"menuitem\" tabindex=\"0\">\r\n                <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n                <div class=\"select-menu-item-text\">\r\n                  <input checked=\"checked\" id=\"do_included\" name=\"do\" type=\"radio\" value=\"included\" />\r\n                  <span class=\"select-menu-item-heading\">Not watching</span>\r\n                  <span class=\"description\">Be notified when participating or @mentioned.</span>\r\n                  <span class=\"js-select-button-text hidden-select-button-text\">\r\n                    <span class=\"octicon octicon-eye\"></span>\r\n                    Watch\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"select-menu-item js-navigation-item \" role=\"menuitem\" tabindex=\"0\">\r\n                <span class=\"select-menu-item-icon octicon octicon octicon-check\"></span>\r\n                <div class=\"select-menu-item-text\">\r\n                  <input id=\"do_subscribed\" name=\"do\" type=\"radio\" value=\"subscribed\" />\r\n                  <span class=\"select-menu-item-heading\">Watching</span>\r\n                  <span class=\"description\">Be notified of all conversations.</span>\r\n                  <span class=\"js-select-button-text hidden-select-button-text\">\r\n                    <span class=\"octicon octicon-eye\"></span>\r\n                    Unwatch\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"select-menu-item js-navigation-item \" role=\"menuitem\" tabindex=\"0\">\r\n                <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n                <div class=\"select-menu-item-text\">\r\n                  <input id=\"do_ignore\" name=\"do\" type=\"radio\" value=\"ignore\" />\r\n                  <span class=\"select-menu-item-heading\">Ignoring</span>\r\n                  <span class=\"description\">Never be notified.</span>\r\n                  <span class=\"js-select-button-text hidden-select-button-text\">\r\n                    <span class=\"octicon octicon-mute\"></span>\r\n                    Stop ignoring\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n</form>\r\n  </li>\r\n\r\n  <li>\r\n    \r\n  <div class=\"js-toggler-container js-social-container starring-container \">\r\n\r\n    <form accept-charset=\"UTF-8\" action=\"/sunspot/sunspot/unstar\" class=\"js-toggler-form starred js-unstar-button\" data-remote=\"true\" method=\"post\"><div style=\"margin:0;padding:0;display:inline\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /><input name=\"authenticity_token\" type=\"hidden\" value=\"w0U1MHiS6dsGesFEHjkuLnVUDhYfVIGlep4R9mjJKy/a7KojZDSa8RrMJe9u9e7qUHQV4plQ7TB7PDQv8w9yZg==\" /></div>\r\n      <button\r\n        class=\"btn btn-sm btn-with-count js-toggler-target\"\r\n        aria-label=\"Unstar this repository\" title=\"Unstar sunspot/sunspot\"\r\n        data-ga-click=\"Repository, click unstar button, action:files#disambiguate; text:Unstar\">\r\n        <span class=\"octicon octicon-star\"></span>\r\n        Unstar\r\n      </button>\r\n        <a class=\"social-count js-social-count\" href=\"/sunspot/sunspot/stargazers\">\r\n          2,294\r\n        </a>\r\n</form>\r\n    <form accept-charset=\"UTF-8\" action=\"/sunspot/sunspot/star\" class=\"js-toggler-form unstarred js-star-button\" data-remote=\"true\" method=\"post\"><div style=\"margin:0;padding:0;display:inline\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /><input name=\"authenticity_token\" type=\"hidden\" value=\"wsYitVw0CYYuepRMAtNsrPoa/je3zaTFwgUEnJZzQ6Xa/bMZMsvKmzneMPy6TMzkcaWg5a+mHyVwC4Xry/XLcA==\" /></div>\r\n      <button\r\n        class=\"btn btn-sm btn-with-count js-toggler-target\"\r\n        aria-label=\"Star this repository\" title=\"Star sunspot/sunspot\"\r\n        data-ga-click=\"Repository, click star button, action:files#disambiguate; text:Star\">\r\n        <span class=\"octicon octicon-star\"></span>\r\n        Star\r\n      </button>\r\n        <a class=\"social-count js-social-count\" href=\"/sunspot/sunspot/stargazers\">\r\n          2,294\r\n        </a>\r\n</form>  </div>\r\n\r\n  </li>\r\n\r\n        <li>\r\n          <a href=\"#fork-destination-box\" class=\"btn btn-sm btn-with-count\"\r\n              title=\"Fork your own copy of sunspot/sunspot to your account\"\r\n              aria-label=\"Fork your own copy of sunspot/sunspot to your account\"\r\n              rel=\"facebox\"\r\n              data-ga-click=\"Repository, show fork modal, action:files#disambiguate; text:Fork\">\r\n            <span class=\"octicon octicon-repo-forked\"></span>\r\n            Fork\r\n          </a>\r\n          <a href=\"/sunspot/sunspot/network\" class=\"social-count\">737</a>\r\n\r\n          <div id=\"fork-destination-box\" style=\"display: none;\">\r\n            <h2 class=\"facebox-header\">Where should we fork this repository?</h2>\r\n            <include-fragment src=\"\"\r\n                class=\"js-fork-select-fragment fork-select-fragment\"\r\n                data-url=\"/sunspot/sunspot/fork?fragment=1\">\r\n              <img alt=\"Loading\" height=\"64\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-128-338974454bb5c32803e82f601beb051d373744b024fe8742a76009700fd7e033.gif\" width=\"64\" />\r\n            </include-fragment>\r\n          </div>\r\n        </li>\r\n\r\n</ul>\r\n\r\n        <h1 itemscope itemtype=\"http://data-vocabulary.org/Breadcrumb\" class=\"entry-title public\">\r\n          <span class=\"mega-octicon octicon-repo\"></span>\r\n          <span class=\"author\"><a href=\"/sunspot\" class=\"url fn\" itemprop=\"url\" rel=\"author\"><span itemprop=\"title\">sunspot</span></a></span><!--\r\n       --><span class=\"path-divider\">/</span><!--\r\n       --><strong><a href=\"/sunspot/sunspot\" class=\"js-current-repository\" data-pjax=\"#js-repo-pjax-container\">sunspot</a></strong>\r\n\r\n          <span class=\"page-context-loader\">\r\n            <img alt=\"\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </span>\r\n\r\n        </h1>\r\n      </div><!-- /.container -->\r\n    </div><!-- /.repohead -->\r\n\r\n    <div class=\"container\">\r\n      <div class=\"repository-with-sidebar repo-container new-discussion-timeline with-full-navigation \">\r\n        <div class=\"repository-sidebar clearfix\">\r\n            \r\n<nav class=\"sunken-menu repo-nav js-repo-nav js-sidenav-container-pjax js-octicon-loaders\"\r\n     role=\"navigation\"\r\n     data-pjax=\"#js-repo-pjax-container\"\r\n     data-issue-count-url=\"/sunspot/sunspot/issues/counts\">\r\n  <ul class=\"sunken-menu-group\">\r\n    <li class=\"tooltipped tooltipped-w\" aria-label=\"Code\">\r\n      <a href=\"/sunspot/sunspot\" aria-label=\"Code\" class=\"selected js-selected-navigation-item sunken-menu-item\" data-hotkey=\"g c\" data-selected-links=\"repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /sunspot/sunspot\">\r\n        <span class=\"octicon octicon-code\"></span> <span class=\"full-word\">Code</span>\r\n        <img alt=\"\" class=\"mini-loader\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n</a>    </li>\r\n\r\n      <li class=\"tooltipped tooltipped-w\" aria-label=\"Issues\">\r\n        <a href=\"/sunspot/sunspot/issues\" aria-label=\"Issues\" class=\"js-selected-navigation-item sunken-menu-item\" data-hotkey=\"g i\" data-selected-links=\"repo_issues repo_labels repo_milestones /sunspot/sunspot/issues\">\r\n          <span class=\"octicon octicon-issue-opened\"></span> <span class=\"full-word\">Issues</span>\r\n          <span class=\"js-issue-replace-counter\"></span>\r\n          <img alt=\"\" class=\"mini-loader\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n</a>      </li>\r\n\r\n    <li class=\"tooltipped tooltipped-w\" aria-label=\"Pull requests\">\r\n      <a href=\"/sunspot/sunspot/pulls\" aria-label=\"Pull requests\" class=\"js-selected-navigation-item sunken-menu-item\" data-hotkey=\"g p\" data-selected-links=\"repo_pulls /sunspot/sunspot/pulls\">\r\n          <span class=\"octicon octicon-git-pull-request\"></span> <span class=\"full-word\">Pull requests</span>\r\n          <span class=\"js-pull-replace-counter\"></span>\r\n          <img alt=\"\" class=\"mini-loader\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n</a>    </li>\r\n\r\n      <li class=\"tooltipped tooltipped-w\" aria-label=\"Wiki\">\r\n        <a href=\"/sunspot/sunspot/wiki\" aria-label=\"Wiki\" class=\"js-selected-navigation-item sunken-menu-item\" data-hotkey=\"g w\" data-selected-links=\"repo_wiki /sunspot/sunspot/wiki\">\r\n          <span class=\"octicon octicon-book\"></span> <span class=\"full-word\">Wiki</span>\r\n          <img alt=\"\" class=\"mini-loader\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n</a>      </li>\r\n  </ul>\r\n  <div class=\"sunken-menu-separator\"></div>\r\n  <ul class=\"sunken-menu-group\">\r\n\r\n    <li class=\"tooltipped tooltipped-w\" aria-label=\"Pulse\">\r\n      <a href=\"/sunspot/sunspot/pulse\" aria-label=\"Pulse\" class=\"js-selected-navigation-item sunken-menu-item\" data-selected-links=\"pulse /sunspot/sunspot/pulse\">\r\n        <span class=\"octicon octicon-pulse\"></span> <span class=\"full-word\">Pulse</span>\r\n        <img alt=\"\" class=\"mini-loader\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n</a>    </li>\r\n\r\n    <li class=\"tooltipped tooltipped-w\" aria-label=\"Graphs\">\r\n      <a href=\"/sunspot/sunspot/graphs\" aria-label=\"Graphs\" class=\"js-selected-navigation-item sunken-menu-item\" data-selected-links=\"repo_graphs repo_contributors /sunspot/sunspot/graphs\">\r\n        <span class=\"octicon octicon-graph\"></span> <span class=\"full-word\">Graphs</span>\r\n        <img alt=\"\" class=\"mini-loader\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n</a>    </li>\r\n  </ul>\r\n\r\n\r\n</nav>\r\n\r\n              <div class=\"only-with-full-nav\">\r\n                  \r\n<div class=\"clone-url open\"\r\n  data-protocol-type=\"http\"\r\n  data-url=\"/users/set_protocol?protocol_selector=http&amp;protocol_type=clone\">\r\n  <h3><span class=\"text-emphasized\">HTTPS</span> clone URL</h3>\r\n  <div class=\"input-group js-zeroclipboard-container\">\r\n    <input type=\"text\" class=\"input-mini input-monospace js-url-field js-zeroclipboard-target\"\r\n           value=\"https://github.com/sunspot/sunspot.git\" readonly=\"readonly\">\r\n    <span class=\"input-group-button\">\r\n      <button aria-label=\"Copy to clipboard\" class=\"js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s\" data-copied-hint=\"Copied!\" type=\"button\"><span class=\"octicon octicon-clippy\"></span></button>\r\n    </span>\r\n  </div>\r\n</div>\r\n\r\n  \r\n<div class=\"clone-url \"\r\n  data-protocol-type=\"ssh\"\r\n  data-url=\"/users/set_protocol?protocol_selector=ssh&amp;protocol_type=clone\">\r\n  <h3><span class=\"text-emphasized\">SSH</span> clone URL</h3>\r\n  <div class=\"input-group js-zeroclipboard-container\">\r\n    <input type=\"text\" class=\"input-mini input-monospace js-url-field js-zeroclipboard-target\"\r\n           value=\"git@github.com:sunspot/sunspot.git\" readonly=\"readonly\">\r\n    <span class=\"input-group-button\">\r\n      <button aria-label=\"Copy to clipboard\" class=\"js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s\" data-copied-hint=\"Copied!\" type=\"button\"><span class=\"octicon octicon-clippy\"></span></button>\r\n    </span>\r\n  </div>\r\n</div>\r\n\r\n  \r\n<div class=\"clone-url \"\r\n  data-protocol-type=\"subversion\"\r\n  data-url=\"/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone\">\r\n  <h3><span class=\"text-emphasized\">Subversion</span> checkout URL</h3>\r\n  <div class=\"input-group js-zeroclipboard-container\">\r\n    <input type=\"text\" class=\"input-mini input-monospace js-url-field js-zeroclipboard-target\"\r\n           value=\"https://github.com/sunspot/sunspot\" readonly=\"readonly\">\r\n    <span class=\"input-group-button\">\r\n      <button aria-label=\"Copy to clipboard\" class=\"js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s\" data-copied-hint=\"Copied!\" type=\"button\"><span class=\"octicon octicon-clippy\"></span></button>\r\n    </span>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n<p class=\"clone-options\">You can clone with\r\n  <a href=\"#\" class=\"js-clone-selector\" data-protocol=\"http\">HTTPS</a>, <a href=\"#\" class=\"js-clone-selector\" data-protocol=\"ssh\">SSH</a>, or <a href=\"#\" class=\"js-clone-selector\" data-protocol=\"subversion\">Subversion</a>.\r\n  <a href=\"https://help.github.com/articles/which-remote-url-should-i-use\" class=\"help tooltipped tooltipped-n\" aria-label=\"Get help on which URL is right for you.\">\r\n    <span class=\"octicon octicon-question\"></span>\r\n  </a>\r\n</p>\r\n\r\n\r\n\r\n\r\n                <a href=\"/sunspot/sunspot/archive/master.zip\"\r\n                   class=\"btn btn-sm sidebar-button\"\r\n                   aria-label=\"Download the contents of sunspot/sunspot as a zip file\"\r\n                   title=\"Download the contents of sunspot/sunspot as a zip file\"\r\n                   rel=\"nofollow\">\r\n                  <span class=\"octicon octicon-cloud-download\"></span>\r\n                  Download ZIP\r\n                </a>\r\n              </div>\r\n        </div><!-- /.repository-sidebar -->\r\n\r\n        <div id=\"js-repo-pjax-container\" class=\"repository-content context-loader-container\" data-pjax-container>\r\n\r\n          \r\n<span id=\"js-show-full-navigation\"></span>\r\n\r\n<div class=\"repository-meta js-details-container \">\r\n    <div class=\"repository-description\">\r\n      Solr-powered search for Ruby objects\r\n    </div>\r\n\r\n    <div class=\"repository-website\">\r\n      <p><a href=\"http://sunspot.github.com/\" rel=\"nofollow\">http://sunspot.github.com/</a></p>\r\n    </div>\r\n\r\n\r\n</div>\r\n\r\n<div class=\"overall-summary overall-summary-bottomless\">\r\n\r\n  <div class=\"stats-switcher-viewport js-stats-switcher-viewport\">\r\n    <div class=\"stats-switcher-wrapper\">\r\n    <ul class=\"numbers-summary\">\r\n      <li class=\"commits\">\r\n        <a data-pjax href=\"/sunspot/sunspot/commits/master\">\r\n            <span class=\"octicon octicon-history\"></span>\r\n            <span class=\"num text-emphasized\">\r\n              1,786\r\n            </span>\r\n            commits\r\n        </a>\r\n      </li>\r\n      <li>\r\n        <a data-pjax href=\"/sunspot/sunspot/branches\">\r\n          <span class=\"octicon octicon-git-branch\"></span>\r\n          <span class=\"num text-emphasized\">\r\n            19\r\n          </span>\r\n          branches\r\n        </a>\r\n      </li>\r\n\r\n      <li>\r\n        <a data-pjax href=\"/sunspot/sunspot/releases\">\r\n          <span class=\"octicon octicon-tag\"></span>\r\n          <span class=\"num text-emphasized\">\r\n            72\r\n          </span>\r\n          releases\r\n        </a>\r\n      </li>\r\n\r\n      <li>\r\n        <include-fragment src=\"/sunspot/sunspot/contributors_size\">\r\n          <a href=\"/sunspot/sunspot/graphs/contributors\">\r\n            <span class=\"octicon octicon-organization\"></span>\r\n            <span class=\"num text-emphasized\"></span>\r\n            Fetching contributors\r\n          </a>\r\n</include-fragment>      </li>\r\n    </ul>\r\n\r\n      <div class=\"repository-lang-stats\">\r\n        <ol class=\"repository-lang-stats-numbers\">\r\n          <li>\r\n              <a href=\"/sunspot/sunspot/search?l=ruby\">\r\n                <span class=\"color-block language-color\" style=\"background-color:#701516;\"></span>\r\n                <span class=\"lang\">Ruby</span>\r\n                <span class=\"percent\">96.0%</span>\r\n              </a>\r\n          </li>\r\n          <li>\r\n              <a href=\"/sunspot/sunspot/search?l=xslt\">\r\n                <span class=\"color-block language-color\" style=\"background-color:#ccc;\"></span>\r\n                <span class=\"lang\">XSLT</span>\r\n                <span class=\"percent\">3.5%</span>\r\n              </a>\r\n          </li>\r\n          <li>\r\n              <span class=\"other\">\r\n                <span data-lang=\"Other\" class=\"color-block language-color\" style=\"background-color:#ededed;\"></span>\r\n                <span class=\"lang\">Other</span>\r\n                <span class=\"percent\">0.5%</span>\r\n              </span>\r\n          </li>\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n  <div class=\"repository-lang-stats-graph js-toggle-lang-stats\" title=\"Click for language details\">\r\n    <span class=\"language-color\" aria-label=\"Ruby 96.0%\" style=\"width:96.0%; background-color:#701516;\" itemprop=\"keywords\">Ruby</span>\r\n    <span class=\"language-color\" aria-label=\"XSLT 3.5%\" style=\"width:3.5%; background-color:#ccc;\" itemprop=\"keywords\">XSLT</span>\r\n    <span class=\"language-color\" aria-label=\"Other 0.5%\" style=\"width:0.5%; background-color:#ededed;\" itemprop=\"keywords\">Other</span>\r\n  </div>\r\n\r\n<include-fragment src=\"/sunspot/sunspot/show_partial?partial=tree%2Frecently_touched_branches_list\"></include-fragment>\r\n\r\n<div class=\"file-navigation in-mid-page\">\r\n  <a href=\"/sunspot/sunspot/find/master\"\r\n        class=\"js-show-file-finder btn btn-sm empty-icon tooltipped tooltipped-s right\"\r\n        data-pjax\r\n        data-hotkey=\"t\"\r\n        aria-label=\"Quickly jump between files\">\r\n    <span class=\"octicon octicon-list-unordered\"></span>\r\n  </a>\r\n    <a href=\"/sunspot/sunspot/compare\" aria-label=\"Compare, review, create a pull request\" class=\"btn btn-sm btn-primary tooltipped tooltipped-se left compare-button\" aria-label=\"Compare &amp; review\" data-pjax data-ga-click=\"Repository, go to compare view, location:repo overview; icon:git-compare\">\r\n      <span class=\"octicon octicon-git-compare\"></span>\r\n    </a>\r\n\r\n  \r\n<div class=\"select-menu js-menu-container js-select-menu left\">\r\n  <span class=\"btn btn-sm select-menu-button js-menu-target css-truncate\" data-hotkey=\"w\"\r\n    data-master-branch=\"master\"\r\n    data-ref=\"master\"\r\n    title=\"master\"\r\n    role=\"button\" aria-label=\"Switch branches or tags\" tabindex=\"0\" aria-haspopup=\"true\">\r\n    <span class=\"octicon octicon-git-branch\"></span>\r\n    <i>branch:</i>\r\n    <span class=\"js-select-button css-truncate-target\">master</span>\r\n  </span>\r\n\r\n  <div class=\"select-menu-modal-holder js-menu-content js-navigation-container\" data-pjax aria-hidden=\"true\">\r\n\r\n    <div class=\"select-menu-modal\">\r\n      <div class=\"select-menu-header\">\r\n        <span class=\"select-menu-title\">Switch branches/tags</span>\r\n        <span class=\"octicon octicon-x js-menu-close\" role=\"button\" aria-label=\"Close\"></span>\r\n      </div>\r\n\r\n      <div class=\"select-menu-filters\">\r\n        <div class=\"select-menu-text-filter\">\r\n          <input type=\"text\" aria-label=\"Filter branches/tags\" id=\"context-commitish-filter-field\" class=\"js-filterable-field js-navigation-enable\" placeholder=\"Filter branches/tags\">\r\n        </div>\r\n        <div class=\"select-menu-tabs\">\r\n          <ul>\r\n            <li class=\"select-menu-tab\">\r\n              <a href=\"#\" data-tab-filter=\"branches\" data-filter-placeholder=\"Filter branches/tags\" class=\"js-select-menu-tab\">Branches</a>\r\n            </li>\r\n            <li class=\"select-menu-tab\">\r\n              <a href=\"#\" data-tab-filter=\"tags\" data-filter-placeholder=\"Find a tagâ€¦\" class=\"js-select-menu-tab\">Tags</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket\" data-tab-filter=\"branches\">\r\n\r\n        <div data-filterable-for=\"context-commitish-filter-field\" data-filterable-type=\"substring\">\r\n\r\n\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/1-3-stable\"\r\n               data-name=\"1-3-stable\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"1-3-stable\">\r\n                1-3-stable\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/2-0-stable\"\r\n               data-name=\"2-0-stable\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"2-0-stable\">\r\n                2-0-stable\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/fix-travis\"\r\n               data-name=\"fix-travis\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"fix-travis\">\r\n                fix-travis\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/geohash-proximity\"\r\n               data-name=\"geohash-proximity\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"geohash-proximity\">\r\n                geohash-proximity\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/gh-pages\"\r\n               data-name=\"gh-pages\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"gh-pages\">\r\n                gh-pages\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/joneslee85-patch-1\"\r\n               data-name=\"joneslee85-patch-1\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"joneslee85-patch-1\">\r\n                joneslee85-patch-1\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open selected\"\r\n               href=\"/sunspot/sunspot/tree/master\"\r\n               data-name=\"master\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"master\">\r\n                master\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/rails-2-3-support\"\r\n               data-name=\"rails-2-3-support\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"rails-2-3-support\">\r\n                rails-2-3-support\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/ref-type\"\r\n               data-name=\"ref-type\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"ref-type\">\r\n                ref-type\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/retry_5xx_session_proxy\"\r\n               data-name=\"retry_5xx_session_proxy\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"retry_5xx_session_proxy\">\r\n                retry_5xx_session_proxy\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/retry-fail-session-proxy\"\r\n               data-name=\"retry-fail-session-proxy\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"retry-fail-session-proxy\">\r\n                retry-fail-session-proxy\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/silence-progress-bar\"\r\n               data-name=\"silence-progress-bar\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"silence-progress-bar\">\r\n                silence-progress-bar\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/solr4\"\r\n               data-name=\"solr4\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"solr4\">\r\n                solr4\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/spatial\"\r\n               data-name=\"spatial\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"spatial\">\r\n                spatial\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/spellcheck\"\r\n               data-name=\"spellcheck\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"spellcheck\">\r\n                spellcheck\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/test-with-latest-rails\"\r\n               data-name=\"test-with-latest-rails\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"test-with-latest-rails\">\r\n                test-with-latest-rails\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/v1.1.1\"\r\n               data-name=\"v1.1.1\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"v1.1.1\">\r\n                v1.1.1\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/v1.2\"\r\n               data-name=\"v1.2\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"v1.2\">\r\n                v1.2\r\n              </span>\r\n            </a>\r\n            <a class=\"select-menu-item js-navigation-item js-navigation-open \"\r\n               href=\"/sunspot/sunspot/tree/vanstee-switch_to_after_commit\"\r\n               data-name=\"vanstee-switch_to_after_commit\"\r\n               data-skip-pjax=\"true\"\r\n               rel=\"nofollow\">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <span class=\"select-menu-item-text css-truncate-target\" title=\"vanstee-switch_to_after_commit\">\r\n                vanstee-switch_to_after_commit\r\n              </span>\r\n            </a>\r\n        </div>\r\n\r\n          <div class=\"select-menu-no-results\">Nothing to show</div>\r\n      </div>\r\n\r\n      <div class=\"select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket\" data-tab-filter=\"tags\">\r\n        <div data-filterable-for=\"context-commitish-filter-field\" data-filterable-type=\"substring\">\r\n\r\n\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.2.0\"\r\n                 data-name=\"v2.2.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.2.0\">v2.2.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.1.1\"\r\n                 data-name=\"v2.1.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.1.1\">v2.1.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.1.0\"\r\n                 data-name=\"v2.1.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.1.0\">v2.1.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.0.0.pre.130115\"\r\n                 data-name=\"v2.0.0.pre.130115\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.0.0.pre.130115\">v2.0.0.pre.130115</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.0.0.pre.120720\"\r\n                 data-name=\"v2.0.0.pre.120720\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.0.0.pre.120720\">v2.0.0.pre.120720</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.0.0.pre.120417\"\r\n                 data-name=\"v2.0.0.pre.120417\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.0.0.pre.120417\">v2.0.0.pre.120417</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.0.0.pre.120415\"\r\n                 data-name=\"v2.0.0.pre.120415\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.0.0.pre.120415\">v2.0.0.pre.120415</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.0.0.pre.111215\"\r\n                 data-name=\"v2.0.0.pre.111215\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.0.0.pre.111215\">v2.0.0.pre.111215</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v2.0.0\"\r\n                 data-name=\"v2.0.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v2.0.0\">v2.0.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.3\"\r\n                 data-name=\"v1.3.3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.3\">v1.3.3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.2\"\r\n                 data-name=\"v1.3.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.2\">v1.3.2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.1\"\r\n                 data-name=\"v1.3.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.1\">v1.3.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0.rc6\"\r\n                 data-name=\"v1.3.0.rc6\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0.rc6\">v1.3.0.rc6</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0.rc5\"\r\n                 data-name=\"v1.3.0.rc5\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0.rc5\">v1.3.0.rc5</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0.rc4\"\r\n                 data-name=\"v1.3.0.rc4\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0.rc4\">v1.3.0.rc4</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0.rc3\"\r\n                 data-name=\"v1.3.0.rc3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0.rc3\">v1.3.0.rc3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0.rc2\"\r\n                 data-name=\"v1.3.0.rc2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0.rc2\">v1.3.0.rc2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0.rc1\"\r\n                 data-name=\"v1.3.0.rc1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0.rc1\">v1.3.0.rc1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.3.0\"\r\n                 data-name=\"v1.3.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.3.0\">v1.3.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.2.rc4\"\r\n                 data-name=\"v1.2.rc4\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.2.rc4\">v1.2.rc4</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.2.rc3\"\r\n                 data-name=\"v1.2.rc3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.2.rc3\">v1.2.rc3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.2rc2\"\r\n                 data-name=\"v1.2rc2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.2rc2\">v1.2rc2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.2.1\"\r\n                 data-name=\"v1.2.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.2.1\">v1.2.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.2.0\"\r\n                 data-name=\"v1.2.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.2.0\">v1.2.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.1rc3\"\r\n                 data-name=\"v1.1rc3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.1rc3\">v1.1rc3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.1rc2\"\r\n                 data-name=\"v1.1rc2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.1rc2\">v1.1rc2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.1rc1\"\r\n                 data-name=\"v1.1rc1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.1rc1\">v1.1rc1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.1.0\"\r\n                 data-name=\"v1.1.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.1.0\">v1.1.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0rc3\"\r\n                 data-name=\"v1.0rc3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0rc3\">v1.0rc3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0rc2\"\r\n                 data-name=\"v1.0rc2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0rc2\">v1.0rc2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0rc1\"\r\n                 data-name=\"v1.0rc1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0rc1\">v1.0rc1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.5\"\r\n                 data-name=\"v1.0.5\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.5\">v1.0.5</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.4\"\r\n                 data-name=\"v1.0.4\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.4\">v1.0.4</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.3\"\r\n                 data-name=\"v1.0.3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.3\">v1.0.3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.2\"\r\n                 data-name=\"v1.0.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.2\">v1.0.2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.1\"\r\n                 data-name=\"v1.0.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.1\">v1.0.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.0pre1\"\r\n                 data-name=\"v1.0.0pre1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.0pre1\">v1.0.0pre1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v1.0.0\"\r\n                 data-name=\"v1.0.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v1.0.0\">v1.0.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.9\"\r\n                 data-name=\"v0.10.9\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.9\">v0.10.9</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.8\"\r\n                 data-name=\"v0.10.8\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.8\">v0.10.8</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.7\"\r\n                 data-name=\"v0.10.7\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.7\">v0.10.7</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.6\"\r\n                 data-name=\"v0.10.6\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.6\">v0.10.6</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.5\"\r\n                 data-name=\"v0.10.5\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.5\">v0.10.5</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.4\"\r\n                 data-name=\"v0.10.4\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.4\">v0.10.4</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.3\"\r\n                 data-name=\"v0.10.3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.3\">v0.10.3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.2\"\r\n                 data-name=\"v0.10.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.2\">v0.10.2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.1\"\r\n                 data-name=\"v0.10.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.1\">v0.10.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.10.0\"\r\n                 data-name=\"v0.10.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.10.0\">v0.10.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.8\"\r\n                 data-name=\"v0.9.8\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.8\">v0.9.8</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.7\"\r\n                 data-name=\"v0.9.7\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.7\">v0.9.7</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.6\"\r\n                 data-name=\"v0.9.6\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.6\">v0.9.6</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.5\"\r\n                 data-name=\"v0.9.5\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.5\">v0.9.5</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.4\"\r\n                 data-name=\"v0.9.4\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.4\">v0.9.4</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.3\"\r\n                 data-name=\"v0.9.3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.3\">v0.9.3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.2\"\r\n                 data-name=\"v0.9.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.2\">v0.9.2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.1\"\r\n                 data-name=\"v0.9.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.1\">v0.9.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.9.0\"\r\n                 data-name=\"v0.9.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.9.0\">v0.9.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.9\"\r\n                 data-name=\"v0.8.9\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.9\">v0.8.9</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.8\"\r\n                 data-name=\"v0.8.8\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.8\">v0.8.8</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.7\"\r\n                 data-name=\"v0.8.7\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.7\">v0.8.7</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.6\"\r\n                 data-name=\"v0.8.6\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.6\">v0.8.6</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.5\"\r\n                 data-name=\"v0.8.5\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.5\">v0.8.5</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.4\"\r\n                 data-name=\"v0.8.4\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.4\">v0.8.4</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.3\"\r\n                 data-name=\"v0.8.3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.3\">v0.8.3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.2\"\r\n                 data-name=\"v0.8.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.2\">v0.8.2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.1\"\r\n                 data-name=\"v0.8.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.1\">v0.8.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.8.0\"\r\n                 data-name=\"v0.8.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.8.0\">v0.8.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.7.3\"\r\n                 data-name=\"v0.7.3\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.7.3\">v0.7.3</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.7.2\"\r\n                 data-name=\"v0.7.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.7.2\">v0.7.2</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.7.1\"\r\n                 data-name=\"v0.7.1\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.7.1\">v0.7.1</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.7.0\"\r\n                 data-name=\"v0.7.0\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.7.0\">v0.7.0</a>\r\n            </div>\r\n            <div class=\"select-menu-item js-navigation-item \">\r\n              <span class=\"select-menu-item-icon octicon octicon-check\"></span>\r\n              <a href=\"/sunspot/sunspot/tree/v0.0.2\"\r\n                 data-name=\"v0.0.2\"\r\n                 data-skip-pjax=\"true\"\r\n                 rel=\"nofollow\"\r\n                 class=\"js-navigation-open select-menu-item-text css-truncate-target\"\r\n                 title=\"v0.0.2\">v0.0.2</a>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"select-menu-no-results\">Nothing to show</div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n  <div class=\"breadcrumb\"><span class='repo-root js-repo-root'><span itemscope=\"\" itemtype=\"http://data-vocabulary.org/Breadcrumb\"><a href=\"/sunspot/sunspot\" class=\"\" data-branch=\"master\" data-direction=\"back\" data-pjax=\"true\" itemscope=\"url\"><span itemprop=\"title\">sunspot</span></a></span></span><span class=\"separator\">/</span>\r\n    <form accept-charset=\"UTF-8\" action=\"/sunspot/sunspot/new/master\" class=\"js-new-blob-form inline-form\" method=\"post\"><div style=\"margin:0;padding:0;display:inline\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /><input name=\"authenticity_token\" type=\"hidden\" value=\"wfrVo4p86rpYtsX2r1mlV9JHPrMh5XOBXvwYBu8h1eNz7X3Hw/uSIvPErNI4JFeK/tTh8dzemqel0ICKeT8V7A==\" /></div>\r\n      <button class=\"btn-link tooltipped tooltipped-e\" type=\"submit\" data-disable-with=\"workingâ€¦\" aria-label=\"Fork this project and create a new file\">\r\n        <span class=\"js-new-blob-submit octicon octicon-plus\" data-test-id=\"create-new-git-file\"></span>\r\n      </button>\r\n</form></div>\r\n</div>\r\n\r\n\r\n\r\n  \r\n  <div class=\"commit commit-tease js-details-container\" >\r\n    <p class=\"commit-title \">\r\n        <a href=\"/sunspot/sunspot/commit/9c4ec23487d42cc24d6bc1d2a69fc1fc33db4eed\" class=\"message\" data-pjax=\"true\" title=\"Bumped version to 2.2.0\">Bumped version to 2.2.0</a>\r\n        \r\n    </p>\r\n    <div class=\"commit-meta\">\r\n      <button aria-label=\"Copy SHA\" class=\"js-zeroclipboard zeroclipboard-link tooltipped tooltipped-s\" data-clipboard-text=\"9c4ec23487d42cc24d6bc1d2a69fc1fc33db4eed\" data-copied-hint=\"Copied!\" data-copy-hint=\"Copy SHA\" type=\"button\"><span class=\"octicon octicon-clippy\"></span></button>\r\n      <a href=\"/sunspot/sunspot/commit/9c4ec23487d42cc24d6bc1d2a69fc1fc33db4eed\" class=\"sha-block\" data-pjax>latest commit <span class=\"sha\">9c4ec23487</span></a>\r\n\r\n      <div class=\"authorship\">\r\n        <img alt=\"@njakobsen\" class=\"avatar\" data-user=\"87623\" height=\"20\" src=\"https://avatars2.githubusercontent.com/u/87623?v=3&amp;s=40\" width=\"20\" />\r\n        <span class=\"author-name\"><a href=\"/njakobsen\" rel=\"contributor\">njakobsen</a></span>\r\n        authored <time class=\"updated\" datetime=\"2015-04-09T22:18:59Z\" is=\"relative-time\">Apr 9, 2015</time>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \r\n<div class=\"file-wrap\">\r\n  <a href=\"/sunspot/sunspot/tree/9c4ec23487d42cc24d6bc1d2a69fc1fc33db4eed\" class=\"hidden js-permalink-shortcut\" data-hotkey=\"y\">Permalink</a>\r\n\r\n  <table class=\"files\" data-pjax>\r\n\r\n\r\n    <tbody>\r\n      <tr class=\"warning include-fragment-error\">\r\n        <td class=\"icon\"><span class=\"octicon octicon-alert\"></span></td>\r\n        <td class=\"content\" colspan=\"3\">Failed to load latest commit information.</td>\r\n      </tr>\r\n\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-directory\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/tree/master/ci\" class=\"js-directory-link\" id=\"35ea51baf1fe7f0142ad5f950855dde0-509a01284da43b609cbc94c662ab453bf608d4e9\" title=\"ci\">ci</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/2a0dc1d84f76efac1d631f5cb70251c65cc651af\" class=\"message\" data-pjax=\"true\" title=\"Dropped support for rails 2.x. Added support for Rails 4.\r\n\r\nUpdated to rspec 2.14.0. Updated specs to work with Rails 4. Added\r\nRails 4 to Travis config. Bumped version to 2.1.0\">Dropped support for rails 2.x. Added support for Rails 4.</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2013-08-22T21:47:54Z\" is=\"time-ago\">Aug 22, 2013</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-directory\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/tree/master/sunspot\" class=\"js-directory-link\" id=\"29fa72109ffdd0e629fcff55d91852d0-e51e72f2a9a8591e0675b27ff6b8af090be84758\" title=\"sunspot\">sunspot</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/9c4ec23487d42cc24d6bc1d2a69fc1fc33db4eed\" class=\"message\" data-pjax=\"true\" title=\"Bumped version to 2.2.0\">Bumped version to 2.2.0</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2015-04-09T22:18:59Z\" is=\"time-ago\">Apr 9, 2015</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-directory\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/tree/master/sunspot_rails\" class=\"js-directory-link\" id=\"cb5bb7d170009a1e0a1eaa42799fcc13-c7cee54d0f019e3fe90957bb5a8db7dac727b13a\" title=\"sunspot_rails\">sunspot_rails</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/dd9e6c97cad115eaba51afdc0ae1363d097ee526\" class=\"message\" data-pjax=\"true\" title=\"Merge pull request #614 from hammady/softcommits\r\n\r\nEnabling soft commits for Solr4\">Merge pull request</a> <a href=\"https://github.com/sunspot/sunspot/pull/614\" class=\"issue-link\" title=\"Enabling soft commits for Solr4\">#614</a> <a href=\"/sunspot/sunspot/commit/dd9e6c97cad115eaba51afdc0ae1363d097ee526\" class=\"message\" data-pjax=\"true\" title=\"Merge pull request #614 from hammady/softcommits\r\n\r\nEnabling soft commits for Solr4\">from hammady/softcommits</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2015-03-23T16:24:01Z\" is=\"time-ago\">Mar 23, 2015</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-directory\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/tree/master/sunspot_solr\" class=\"js-directory-link\" id=\"ceebc029bb0d46aaf3dd2484493a86ed-78ab83d1ce99b6212f72db4f194e0fe9dfb003d1\" title=\"sunspot_solr\">sunspot_solr</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/22b5f44da6d3d2181d0baf301a7eb00313bc0d73\" class=\"message\" data-pjax=\"true\" title=\"Merge pull request #612 from betam4x/master\r\n\r\nFix windows detection for rake sunspot commands.\">Merge pull request</a> <a href=\"https://github.com/sunspot/sunspot/pull/612\" class=\"issue-link\" title=\"Fix windows detection for rake sunspot commands.\">#612</a> <a href=\"/sunspot/sunspot/commit/22b5f44da6d3d2181d0baf301a7eb00313bc0d73\" class=\"message\" data-pjax=\"true\" title=\"Merge pull request #612 from betam4x/master\r\n\r\nFix windows detection for rake sunspot commands.\">from betam4x/master</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2015-03-22T19:53:59Z\" is=\"time-ago\">Mar 22, 2015</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-directory\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/tree/master/tools\" class=\"js-directory-link\" id=\"4a931512ce65bdc9ca6808adf92d8783-385dc87b4ed43dcd0754730cab5d5ed6718d5472\" title=\"tools\">tools</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/bb6edf7d86acd071414b0dd81f4649de9578e63d\" class=\"message\" data-pjax=\"true\" title=\"Move Sunspot gem tasks into top-level directory\">Move Sunspot gem tasks into top-level directory</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2010-01-27T21:37:13Z\" is=\"time-ago\">Jan 27, 2010</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-text\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/blob/master/.gitignore\" class=\"js-directory-link\" id=\"a084b794bc0759e7a6b77810e01874f2-6bef23e4d7bf7b99628479335a88f4802ffd0830\" title=\".gitignore\">.gitignore</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/d7d4d68467cbfdec729519eda6d9ed1889f1aa5c\" class=\"message\" data-pjax=\"true\" title=\"update solr configuration to work with solr 4.1.  Most notable change is that the default core moves from /solr to /solr/default, due to the requirement in Solr 4+ to be multicore by default\">update solr configuration to work with solr 4.1. Most notable change â€¦</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2013-02-22T06:54:04Z\" is=\"time-ago\">Feb 21, 2013</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-text\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/blob/master/.travis.yml\" class=\"js-directory-link\" id=\"354f30a63fb0907d4ad57269548329e3-39f81a31c5275aceb4e3289cba1be15dc0f898dc\" title=\".travis.yml\">.travis.yml</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/c60819bd5ddd02b4d700178f22f6cadc6cda724d\" class=\"message\" data-pjax=\"true\" title=\"Remove ruby 1.8.7 tests from Travis Matrix.\">Remove ruby 1.8.7 tests from Travis Matrix.</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2015-03-31T03:19:04Z\" is=\"time-ago\">Mar 30, 2015</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-text\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/blob/master/README.md\" class=\"js-directory-link\" id=\"04c6e90faac2675aa89e2176d2eec7d8-796eeb04559a1c8aa91d32eb8ca62b645d588b72\" title=\"README.md\">README.md</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/dd9e6c97cad115eaba51afdc0ae1363d097ee526\" class=\"message\" data-pjax=\"true\" title=\"Merge pull request #614 from hammady/softcommits\r\n\r\nEnabling soft commits for Solr4\">Merge pull request</a> <a href=\"https://github.com/sunspot/sunspot/pull/614\" class=\"issue-link\" title=\"Enabling soft commits for Solr4\">#614</a> <a href=\"/sunspot/sunspot/commit/dd9e6c97cad115eaba51afdc0ae1363d097ee526\" class=\"message\" data-pjax=\"true\" title=\"Merge pull request #614 from hammady/softcommits\r\n\r\nEnabling soft commits for Solr4\">from hammady/softcommits</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2015-03-23T16:24:01Z\" is=\"time-ago\">Mar 23, 2015</time></span>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"icon\">\r\n            <span class=\"octicon octicon-file-text\"></span>\r\n            <img alt=\"\" class=\"spinner\" height=\"16\" src=\"https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif\" width=\"16\" />\r\n          </td>\r\n          <td class=\"content\">\r\n            <span class=\"css-truncate css-truncate-target\"><a href=\"/sunspot/sunspot/blob/master/Rakefile\" class=\"js-directory-link\" id=\"52c976fc38ed2b4e3b1192f8a8e24cff-342aab0637e409f1c338bf2d22905409282262a5\" title=\"Rakefile\">Rakefile</a></span>\r\n          </td>\r\n          <td class=\"message\">\r\n            <span class=\"css-truncate css-truncate-target\">\r\n              <a href=\"/sunspot/sunspot/commit/93f0486ef18d65b8cd8f402c769f32679b698507\" class=\"message\" data-pjax=\"true\" title=\"We use Rubygems.org now, not Gemcutter.\">We use Rubygems.org now, not Gemcutter.</a>\r\n            </span>\r\n          </td>\r\n          <td class=\"age\">\r\n            <span class=\"css-truncate css-truncate-target\"><time datetime=\"2013-10-25T23:12:43Z\" is=\"time-ago\">Oct 25, 2013</time></span>\r\n          </td>\r\n        </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n</div>\r\n\r\n\r\n  <div id=\"readme\" class=\"boxed-group flush clearfix announce instapaper_body md\">\r\n    <h3>\r\n      <span class=\"octicon octicon-book\"></span>\r\n      README.md\r\n    </h3>\r\n\r\n    <article class=\"markdown-body entry-content\" itemprop=\"mainContentOfPage\"><h1>\r\n<a id=\"user-content-sunspot\" class=\"anchor\" href=\"#sunspot\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Sunspot</h1>\r\n\r\n<p><a href=\"http://badge.fury.io/rb/sunspot\"><img src=\"https://camo.githubusercontent.com/ee022a75c245f3f554a5b29ee5420f7b041cf593/68747470733a2f2f62616467652e667572792e696f2f72622f73756e73706f742e706e67\" alt=\"Gem Version\" data-canonical-src=\"https://badge.fury.io/rb/sunspot.png\" style=\"max-width:100%;\"></a>\r\n<a href=\"http://travis-ci.org/sunspot/sunspot\"><img src=\"https://camo.githubusercontent.com/c18a242f1b5ff5922b4999fbaa15d1013f0d3d02/68747470733a2f2f7365637572652e7472617669732d63692e6f72672f73756e73706f742f73756e73706f742e706e67\" alt=\"Build Status\" data-canonical-src=\"https://secure.travis-ci.org/sunspot/sunspot.png\" style=\"max-width:100%;\"></a></p>\r\n\r\n<p>Sunspot is a Ruby library for expressive, powerful interaction with the Solr\r\nsearch engine. Sunspot is built on top of the RSolr library, which\r\nprovides a low-level interface for Solr interaction; Sunspot provides a simple,\r\nintuitive, expressive DSL backed by powerful features for indexing objects and\r\nsearching for them.</p>\r\n\r\n<p>Sunspot is designed to be easily plugged in to any ORM, or even non-database-backed\r\nobjects such as the filesystem.</p>\r\n\r\n<p>This README provides a high level overview; class-by-class and\r\nmethod-by-method documentation is available in the <a href=\"http://sunspot.github.com/sunspot/docs/\">API\r\nreference</a>.</p>\r\n\r\n<p>For questions about how to use Sunspot in your app, please use the\r\n<a href=\"http://groups.google.com/group/ruby-sunspot\">Sunspot Mailing List</a> or search\r\n<a href=\"http://www.stackoverflow.com\">Stack Overflow</a>.</p>\r\n\r\n<h2>\r\n<a id=\"user-content-quickstart-with-rails-3--4\" class=\"anchor\" href=\"#quickstart-with-rails-3--4\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Quickstart with Rails 3 / 4</h2>\r\n\r\n<p>Add to Gemfile:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">gem</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sunspot_rails<span class=\"pl-pds\">'</span></span>\r\n<span class=\"pl-k\">gem</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sunspot_solr<span class=\"pl-pds\">'</span></span> <span class=\"pl-c\"># optional pre-packaged Solr distribution for use in development</span></pre></div>\r\n\r\n<p>Bundle it!</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle install</pre></div>\r\n\r\n<p>Generate a default configuration file:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>rails generate sunspot_rails:install</pre></div>\r\n\r\n<p>If <code>sunspot_solr</code> was installed, start the packaged Solr distribution\r\nwith:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle <span class=\"pl-c1\">exec</span> rake sunspot:solr:start <span class=\"pl-c\"># or sunspot:solr:run to start in foreground</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-setting-up-objects\" class=\"anchor\" href=\"#setting-up-objects\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Setting Up Objects</h2>\r\n\r\n<p>Add a <code>searchable</code> block to the objects you wish to index.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:title</span>, <span class=\"pl-c1\">:body</span>\r\n    text <span class=\"pl-c1\">:comments</span> <span class=\"pl-k\">do</span>\r\n      comments.map { |<span class=\"pl-smi\">comment</span>| comment.body }\r\n    <span class=\"pl-k\">end</span>\r\n\r\n    boolean <span class=\"pl-c1\">:featured</span>\r\n    integer <span class=\"pl-c1\">:blog_id</span>\r\n    integer <span class=\"pl-c1\">:author_id</span>\r\n    integer <span class=\"pl-c1\">:category_ids</span>, <span class=\"pl-c1\">:multiple</span> =&gt; <span class=\"pl-c1\">true</span>\r\n    double  <span class=\"pl-c1\">:average_rating</span>\r\n    time    <span class=\"pl-c1\">:published_at</span>\r\n    time    <span class=\"pl-c1\">:expired_at</span>\r\n\r\n    string  <span class=\"pl-c1\">:sort_title</span> <span class=\"pl-k\">do</span>\r\n      title.downcase.gsub(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span>^<span class=\"pl-sr\">(an?|the)</span><span class=\"pl-pds\">/</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>)\r\n    <span class=\"pl-k\">end</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p><code>text</code> fields will be full-text searchable. Other fields (e.g.,\r\n<code>integer</code> and <code>string</code>) can be used to scope queries.</p>\r\n\r\n<h2>\r\n<a id=\"user-content-searching-objects\" class=\"anchor\" href=\"#searching-objects\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Searching Objects</h2>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>best pizza<span class=\"pl-pds\">'</span></span>\r\n\r\n  with <span class=\"pl-c1\">:blog_id</span>, <span class=\"pl-c1\">1</span>\r\n  with(<span class=\"pl-c1\">:published_at</span>).less_than <span class=\"pl-c1\">Time</span>.now\r\n  order_by <span class=\"pl-c1\">:published_at</span>, <span class=\"pl-c1\">:desc</span>\r\n  paginate <span class=\"pl-c1\">:page</span> =&gt; <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">:per_page</span> =&gt; <span class=\"pl-c1\">15</span>\r\n  facet <span class=\"pl-c1\">:category_ids</span>, <span class=\"pl-c1\">:author_id</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-search-in-depth\" class=\"anchor\" href=\"#search-in-depth\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Search In Depth</h2>\r\n\r\n<p>Given an object <code>Post</code> setup in earlier steps ...</p>\r\n\r\n<h3>\r\n<a id=\"user-content-full-text\" class=\"anchor\" href=\"#full-text\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Full Text</h3>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># All posts with a `text` field (:title, :body, or :comments) containing 'pizza'</span>\r\n<span class=\"pl-c1\">Post</span>.search { fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>pizza<span class=\"pl-pds\">'</span></span> }\r\n\r\n<span class=\"pl-c\"># Posts with pizza, scored higher if pizza appears in the title</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    boost_fields <span class=\"pl-c1\">:title</span> =&gt; <span class=\"pl-c1\">2.0</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Posts with pizza, scored higher if featured</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    boost(<span class=\"pl-c1\">2.0</span>) { with(<span class=\"pl-c1\">:featured</span>, <span class=\"pl-c1\">true</span>) }\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Posts with pizza *only* in the title</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    fields(<span class=\"pl-c1\">:title</span>)\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Posts with pizza in the title (boosted) or in the body (not boosted)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    fields(<span class=\"pl-c1\">:body</span>, <span class=\"pl-c1\">:title</span> =&gt; <span class=\"pl-c1\">2.0</span>)\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-phrases\" class=\"anchor\" href=\"#phrases\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Phrases</h4>\r\n\r\n<p>Solr allows searching for phrases: search terms that are close together.</p>\r\n\r\n<p>In the default query parser used by Sunspot (edismax), phrase searches\r\nare represented as a double quoted group of words.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts with the exact phrase \"great pizza\"</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"great pizza\"<span class=\"pl-pds\">'</span></span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>If specified, <strong>query_phrase_slop</strong> sets the number of words that may\r\nappear between the words in a phrase.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># One word can appear between the words in the phrase, so \"great big pizza\"</span>\r\n<span class=\"pl-c\"># also matches, in addition to \"great pizza\"</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"great pizza\"<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    query_phrase_slop <span class=\"pl-c1\">1</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h5>\r\n<a id=\"user-content-phrase-boosts\" class=\"anchor\" href=\"#phrase-boosts\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Phrase Boosts</h5>\r\n\r\n<p>Phrase boosts add boost to terms that appear in close proximity;\r\nthe terms do not <em>have</em> to appear in a phrase, but if they do, the\r\ndocument will score more highly.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Matches documents with great and pizza, and scores documents more</span>\r\n<span class=\"pl-c\"># highly if the terms appear in a phrase in the title field</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>great pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    phrase_fields <span class=\"pl-c1\">:title</span> =&gt; <span class=\"pl-c1\">2.0</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Matches documents with great and pizza, and scores documents more</span>\r\n<span class=\"pl-c\"># highly if the terms appear in a phrase (or with one word between them)</span>\r\n<span class=\"pl-c\"># in the title field</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>great pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    phrase_fields <span class=\"pl-c1\">:title</span> =&gt; <span class=\"pl-c1\">2.0</span>\r\n    phrase_slop   <span class=\"pl-c1\">1</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-scoping-scalar-fields\" class=\"anchor\" href=\"#scoping-scalar-fields\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Scoping (Scalar Fields)</h3>\r\n\r\n<p>Fields not defined as <code>text</code> (e.g., <code>integer</code>, <code>boolean</code>, <code>time</code>,\r\netc...) can be used to scope (restrict) queries before full-text\r\nmatching is performed.</p>\r\n\r\n<h4>\r\n<a id=\"user-content-positive-restrictions\" class=\"anchor\" href=\"#positive-restrictions\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Positive Restrictions</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts with a blog_id of 1</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:blog_id</span>, <span class=\"pl-c1\">1</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Posts with an average rating between 3.0 and 5.0</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">3.0</span>..<span class=\"pl-c1\">5.0</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Posts with a category of 1, 3, or 5</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:category_ids</span>, [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">5</span>])\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Posts published since a week ago</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:published_at</span>).greater_than(<span class=\"pl-c1\">1</span>.week.ago)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-negative-restrictions\" class=\"anchor\" href=\"#negative-restrictions\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Negative Restrictions</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts not in category 1 or 3</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  without(<span class=\"pl-c1\">:category_ids</span>, [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">3</span>])\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># All examples in \"positive\" also work negated using `without`</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-empty-restrictions\" class=\"anchor\" href=\"#empty-restrictions\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Empty Restrictions</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Passing an empty array is equivalent to a no-op, allowing you to replace this...</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:category_ids</span>, id_list) <span class=\"pl-k\">if</span> id_list.present?\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># ...with this</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:category_ids</span>, id_list)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-disjunctions-and-conjunctions\" class=\"anchor\" href=\"#disjunctions-and-conjunctions\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Disjunctions and Conjunctions</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts that do not have an expired time or have not yet expired</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  any_of <span class=\"pl-k\">do</span>\r\n    with(<span class=\"pl-c1\">:expired_at</span>).greater_than(<span class=\"pl-c1\">Time</span>.now)\r\n    with(<span class=\"pl-c1\">:expired_at</span>, <span class=\"pl-c1\">nil</span>)\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts with blog_id 1 and author_id 2</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  all_of <span class=\"pl-k\">do</span>\r\n    with(<span class=\"pl-c1\">:blog_id</span>, <span class=\"pl-c1\">1</span>)\r\n    with(<span class=\"pl-c1\">:author_id</span>, <span class=\"pl-c1\">2</span>)\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts scoring with any of the two fields.</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  any <span class=\"pl-k\">do</span>\r\n    fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword1<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:title</span>\r\n    fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword2<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:body</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>Disjunctions and conjunctions may be nested</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  any_of <span class=\"pl-k\">do</span>\r\n    with(<span class=\"pl-c1\">:blog_id</span>, <span class=\"pl-c1\">1</span>)\r\n    all_of <span class=\"pl-k\">do</span>\r\n      with(<span class=\"pl-c1\">:blog_id</span>, <span class=\"pl-c1\">2</span>)\r\n      with(<span class=\"pl-c1\">:category_ids</span>, <span class=\"pl-c1\">3</span>)\r\n    <span class=\"pl-k\">end</span>\r\n  <span class=\"pl-k\">end</span>\r\n\r\n  any <span class=\"pl-k\">do</span>\r\n    all <span class=\"pl-k\">do</span>\r\n      fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:title</span>\r\n      fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:body</span>\r\n    <span class=\"pl-k\">end</span>\r\n    all <span class=\"pl-k\">do</span>\r\n      fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:first_name</span>\r\n      fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:last_name</span>\r\n    <span class=\"pl-k\">end</span>\r\n    fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:description</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-combined-with-full-text\" class=\"anchor\" href=\"#combined-with-full-text\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Combined with Full-Text</h4>\r\n\r\n<p>Scopes/restrictions can be combined with full-text searching. The\r\nscope/restriction pares down the objects that are searched for the\r\nfull-text term.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts with blog_id 1 and 'pizza' in the title</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:blog_id</span>, <span class=\"pl-c1\">1</span>)\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-pagination\" class=\"anchor\" href=\"#pagination\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Pagination</h3>\r\n\r\n<p><strong>All results from Solr are paginated</strong></p>\r\n\r\n<p>The results array that is returned has methods mixed in that allow it to\r\noperate seamlessly with common pagination libraries like will_paginate\r\nand kaminari.</p>\r\n\r\n<p>By default, Sunspot requests the first 30 results from Solr.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Imagine there are 60 *total* results (at 30 results/page, that is two pages)</span>\r\nresults <span class=\"pl-k\">=</span> search.results <span class=\"pl-c\"># =&gt; Array with 30 Post elements</span>\r\n\r\nsearch.total           <span class=\"pl-c\"># =&gt; 60</span>\r\n\r\nresults.total_pages    <span class=\"pl-c\"># =&gt; 2</span>\r\nresults.first_page?    <span class=\"pl-c\"># =&gt; true</span>\r\nresults.last_page?     <span class=\"pl-c\"># =&gt; false</span>\r\nresults.previous_page  <span class=\"pl-c\"># =&gt; nil</span>\r\nresults.next_page      <span class=\"pl-c\"># =&gt; 2</span>\r\nresults.out_of_bounds? <span class=\"pl-c\"># =&gt; false</span>\r\nresults.offset         <span class=\"pl-c\"># =&gt; 0</span></pre></div>\r\n\r\n<p>To retrieve the next page of results, recreate the search and use the\r\n<code>paginate</code> method.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n  paginate <span class=\"pl-c1\">:page</span> =&gt; <span class=\"pl-c1\">2</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Again, imagine there are 60 total results; this is the second page</span>\r\nresults <span class=\"pl-k\">=</span> search.results <span class=\"pl-c\"># =&gt; Array with 30 Post elements</span>\r\n\r\nsearch.total           <span class=\"pl-c\"># =&gt; 60</span>\r\n\r\nresults.total_pages    <span class=\"pl-c\"># =&gt; 2</span>\r\nresults.first_page?    <span class=\"pl-c\"># =&gt; false</span>\r\nresults.last_page?     <span class=\"pl-c\"># =&gt; true</span>\r\nresults.previous_page  <span class=\"pl-c\"># =&gt; 1</span>\r\nresults.next_page      <span class=\"pl-c\"># =&gt; nil</span>\r\nresults.out_of_bounds? <span class=\"pl-c\"># =&gt; false</span>\r\nresults.offset         <span class=\"pl-c\"># =&gt; 30</span></pre></div>\r\n\r\n<p>A custom number of results per page can be specified with the\r\n<code>:per_page</code> option to <code>paginate</code>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n  paginate <span class=\"pl-c1\">:page</span> =&gt; <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">:per_page</span> =&gt; <span class=\"pl-c1\">50</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-cursor-based-pagination\" class=\"anchor\" href=\"#cursor-based-pagination\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Cursor-based pagination</h4>\r\n\r\n<p><strong>Solr 4.7 and above</strong></p>\r\n\r\n<p>With default Solr pagination it may turn that same records appear on different pages (e.g. if \r\nmany records have the same search score). Cursor-based pagination allows to avoid this.</p>\r\n\r\n<p>Useful for any kinds of export, infinite scroll, etc.</p>\r\n\r\n<p>Cursor for the first page is \"*\".</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n  paginate <span class=\"pl-c1\">:cursor</span> =&gt; <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>*<span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span>\r\n\r\nresults <span class=\"pl-k\">=</span> search.results\r\n\r\n<span class=\"pl-c\"># Results will contain cursor for the next page</span>\r\nresults.next_page_cursor <span class=\"pl-c\"># =&gt; \"AoIIP4AAACxQcm9maWxlIDEwMTk=\"</span>\r\n\r\n<span class=\"pl-c\"># Imagine there are 60 *total* results (at 30 results/page, that is two pages)</span>\r\nresults.current_cursor <span class=\"pl-c\"># =&gt; \"*\"</span>\r\nresults.total_pages    <span class=\"pl-c\"># =&gt; 2</span>\r\nresults.first_page?    <span class=\"pl-c\"># =&gt; true</span>\r\nresults.last_page?     <span class=\"pl-c\"># =&gt; false</span></pre></div>\r\n\r\n<p>To retrieve the next page of results, recreate the search and use the <code>paginate</code> method with cursor from previous results.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n  paginate <span class=\"pl-c1\">:cursor</span> =&gt; <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>AoIIP4AAACxQcm9maWxlIDEwMTk=<span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span>\r\n\r\nresults <span class=\"pl-k\">=</span> search.results\r\n\r\n<span class=\"pl-c\"># Again, imagine there are 60 total results; this is the second page</span>\r\nresults.next_page_cursor <span class=\"pl-c\"># =&gt; \"AoEsUHJvZmlsZSAxNzY5\"</span>\r\nresults.current_cursor   <span class=\"pl-c\"># =&gt; \"AoIIP4AAACxQcm9maWxlIDEwMTk=\"</span>\r\nresults.total_pages      <span class=\"pl-c\"># =&gt; 2</span>\r\nresults.first_page?      <span class=\"pl-c\"># =&gt; false</span>\r\n<span class=\"pl-c\"># Last page will be detected only when current page contains less then per_page elements or contains nothing</span>\r\nresults.last_page?       <span class=\"pl-c\"># =&gt; false</span></pre></div>\r\n\r\n<p><code>:per_page</code> option is also supported.</p>\r\n\r\n<h3>\r\n<a id=\"user-content-faceting\" class=\"anchor\" href=\"#faceting\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Faceting</h3>\r\n\r\n<p>Faceting is a feature of Solr that determines the number of documents\r\nthat match a given search <em>and</em> an additional criterion. This allows you\r\nto build powerful drill-down interfaces for search.</p>\r\n\r\n<p>Each facet returns zero or more rows, each of which represents a\r\nparticular criterion conjoined with the actual query being performed.\r\nFor <strong>field facets</strong>, each row represents a particular value for a given\r\nfield. For <strong>query facets</strong>, each row represents an arbitrary scope; the\r\nfacet itself is just a means of logically grouping the scopes.</p>\r\n\r\n<p>By default Sunspot will only return the first 100 facet values.  You can\r\nincrease this limit, or force it to return <em>all</em> facets by setting\r\n<strong>limit</strong> to <strong>-1</strong>.</p>\r\n\r\n<h4>\r\n<a id=\"user-content-field-facets\" class=\"anchor\" href=\"#field-facets\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Field Facets</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts that match 'pizza' returning counts for each :author_id</span>\r\nsearch <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n  facet <span class=\"pl-c1\">:author_id</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\nsearch.facet(<span class=\"pl-c1\">:author_id</span>).rows.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">facet</span>|\r\n  puts <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Author <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">facet.value</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span> has <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">facet.count</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span> pizza posts!<span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>If you are searching by a specific field and you still want to see all\r\nthe options available in that field you can <strong>exclude</strong> it in the\r\nfaceting.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts that match 'pizza' and author with id 42</span>\r\n<span class=\"pl-c\"># Returning counts for each :author_id (even those not in the search result)</span>\r\nsearch <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>\r\n  author_filter <span class=\"pl-k\">=</span> with(<span class=\"pl-c1\">:author_id</span>, <span class=\"pl-c1\">42</span>)\r\n  facet <span class=\"pl-c1\">:author_id</span>, <span class=\"pl-c1\">exclude:</span> [author_filter]\r\n<span class=\"pl-k\">end</span>\r\n\r\nsearch.facet(<span class=\"pl-c1\">:author_id</span>).rows.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">facet</span>|\r\n  puts <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Author <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">facet.value</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span> has <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">facet.count</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span> pizza posts!<span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-query-facets\" class=\"anchor\" href=\"#query-facets\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Query Facets</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts faceted by ranges of average ratings</span>\r\nsearch <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  facet(<span class=\"pl-c1\">:average_rating</span>) <span class=\"pl-k\">do</span>\r\n    row(<span class=\"pl-c1\">1.0</span>..<span class=\"pl-c1\">2.0</span>) <span class=\"pl-k\">do</span>\r\n      with(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">1.0</span>..<span class=\"pl-c1\">2.0</span>)\r\n    <span class=\"pl-k\">end</span>\r\n    row(<span class=\"pl-c1\">2.0</span>..<span class=\"pl-c1\">3.0</span>) <span class=\"pl-k\">do</span>\r\n      with(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">2.0</span>..<span class=\"pl-c1\">3.0</span>)\r\n    <span class=\"pl-k\">end</span>\r\n    row(<span class=\"pl-c1\">3.0</span>..<span class=\"pl-c1\">4.0</span>) <span class=\"pl-k\">do</span>\r\n      with(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">3.0</span>..<span class=\"pl-c1\">4.0</span>)\r\n    <span class=\"pl-k\">end</span>\r\n    row(<span class=\"pl-c1\">4.0</span>..<span class=\"pl-c1\">5.0</span>) <span class=\"pl-k\">do</span>\r\n      with(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">4.0</span>..<span class=\"pl-c1\">5.0</span>)\r\n    <span class=\"pl-k\">end</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># e.g.,</span>\r\n<span class=\"pl-c\"># Number of posts with rating within 1.0..2.0: 2</span>\r\n<span class=\"pl-c\"># Number of posts with rating within 2.0..3.0: 1</span>\r\nsearch.facet(<span class=\"pl-c1\">:average_rating</span>).rows.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">facet</span>|\r\n  puts <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Number of posts with rating within <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">facet.value</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span>: <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">facet.count</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span><span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-range-facets\" class=\"anchor\" href=\"#range-facets\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Range Facets</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Posts faceted by range of average ratings</span>\r\n<span class=\"pl-c1\">Sunspot</span>.search(<span class=\"pl-c1\">Post</span>) <span class=\"pl-k\">do</span>\r\n  facet <span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">:range</span> =&gt; <span class=\"pl-c1\">1</span>..<span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">:range_interval</span> =&gt; <span class=\"pl-c1\">1</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-ordering\" class=\"anchor\" href=\"#ordering\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Ordering</h3>\r\n\r\n<p>By default, Sunspot orders results by \"score\": the Solr-determined\r\nrelevancy metric. Sorting can be customized with the <code>order_by</code> method:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Order by average rating, descending</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n  order_by(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">:desc</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Order by relevancy score and in the case of a tie, average rating</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n\r\n  order_by(<span class=\"pl-c1\">:score</span>, <span class=\"pl-c1\">:desc</span>)\r\n  order_by(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">:desc</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Randomized ordering</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n  order_by(<span class=\"pl-c1\">:random</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p><strong>Solr 3.1 and above</strong></p>\r\n\r\n<p>Solr supports sorting on multiple fields using custom functions. Supported\r\noperators and more details are available on the <a href=\"http://wiki.apache.org/solr/FunctionQuery\">Solr Wiki</a></p>\r\n\r\n<p>To sort results by a custom function use the <code>order_by_function</code> method.\r\nFunctions are defined with prefix notation:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Order by sum of two example fields: rating1 + rating2</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n  order_by_function(<span class=\"pl-c1\">:sum</span>, <span class=\"pl-c1\">:rating1</span>, <span class=\"pl-c1\">:rating2</span>, <span class=\"pl-c1\">:desc</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Order by nested functions: rating1 + (rating2*rating3)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n  order_by_function(<span class=\"pl-c1\">:sum</span>, <span class=\"pl-c1\">:rating1</span>, [<span class=\"pl-c1\">:product</span>, <span class=\"pl-c1\">:rating2</span>, <span class=\"pl-c1\">:rating3</span>], <span class=\"pl-c1\">:desc</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Order by fields and constants: rating1 + (rating2 * 5)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n  order_by_function(<span class=\"pl-c1\">:sum</span>, <span class=\"pl-c1\">:rating1</span>, [<span class=\"pl-c1\">:product</span>, <span class=\"pl-c1\">:rating2</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>5<span class=\"pl-pds\">'</span></span>], <span class=\"pl-c1\">:desc</span>)\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Order by average of three fields: (rating1 + rating2 + rating3) / 3</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span>)\r\n  order_by_function(<span class=\"pl-c1\">:div</span>, [<span class=\"pl-c1\">:sum</span>, <span class=\"pl-c1\">:rating1</span>, <span class=\"pl-c1\">:rating2</span>, <span class=\"pl-c1\">:rating3</span>], <span class=\"pl-s\"><span class=\"pl-pds\">'</span>3<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">:desc</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-grouping\" class=\"anchor\" href=\"#grouping\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Grouping</h3>\r\n\r\n<p><strong>Solr 3.3 and above</strong></p>\r\n\r\n<p>Solr supports grouping documents, similar to an SQL <code>GROUP BY</code>. More\r\ninformation about result grouping/field collapsing is available on the\r\n<a href=\"http://wiki.apache.org/solr/FieldCollapsing\">Solr Wiki</a>.</p>\r\n\r\n<p><strong>Grouping is only supported on <code>string</code> fields that are not\r\nmultivalued. To group on a field of a different type (e.g., integer),\r\nadd a denormalized <code>string</code> type</strong></p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    <span class=\"pl-c\"># Denormalized `string` field because grouping can only be performed</span>\r\n    <span class=\"pl-c\"># on string fields</span>\r\n    string(<span class=\"pl-c1\">:blog_id_str</span>) { |<span class=\"pl-smi\">p</span>| p.blog_id.to_s }\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Returns only the top scoring document per blog_id</span>\r\nsearch <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  group <span class=\"pl-c1\">:blog_id_str</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\nsearch.group(<span class=\"pl-c1\">:blog_id_str</span>).matches <span class=\"pl-c\"># Total number of matches to the query</span>\r\n\r\nsearch.group(<span class=\"pl-c1\">:blog_id_str</span>).groups.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">group</span>|\r\n  puts group.value <span class=\"pl-c\"># blog_id of the each document in the group</span>\r\n\r\n  <span class=\"pl-c\"># By default, there is only one document per group (the highest</span>\r\n  <span class=\"pl-c\"># scoring one); if `limit` is specified (see below), multiple</span>\r\n  <span class=\"pl-c\"># documents can be returned per group</span>\r\n  group.results.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">result</span>|\r\n    <span class=\"pl-c\"># ...</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>Additional options are supported by the DSL:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Returns the top 3 scoring documents per blog_id</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  group <span class=\"pl-c1\">:blog_id_str</span> <span class=\"pl-k\">do</span>\r\n    limit <span class=\"pl-c1\">3</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Returns document ordered within each group by published_at (by</span>\r\n<span class=\"pl-c\"># default, the ordering is score)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  group <span class=\"pl-c1\">:blog_id_str</span> <span class=\"pl-k\">do</span>\r\n    order_by(<span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">:desc</span>)\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Facet count is based on the most relevant document of each group</span>\r\n<span class=\"pl-c\"># matching the query (&gt;= Solr 3.4)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  group <span class=\"pl-c1\">:blog_id_str</span> <span class=\"pl-k\">do</span>\r\n    truncate\r\n  <span class=\"pl-k\">end</span>\r\n\r\n  facet <span class=\"pl-c1\">:blog_id_str</span>, <span class=\"pl-c1\">:extra</span> =&gt; <span class=\"pl-c1\">:any</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-geospatial\" class=\"anchor\" href=\"#geospatial\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Geospatial</h3>\r\n\r\n<p><strong>Sunspot 2.0 only</strong></p>\r\n\r\n<p>Sunspot 2.0 supports geospatial features of Solr 3.1 and above.</p>\r\n\r\n<p>Geospatial features require a field defined with <code>latlon</code>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    <span class=\"pl-c\"># ...</span>\r\n    latlon(<span class=\"pl-c1\">:location</span>) { <span class=\"pl-c1\">Sunspot</span>::<span class=\"pl-c1\">Util</span>::<span class=\"pl-c1\">Coordinates</span>.<span class=\"pl-k\">new</span>(lat, lon) }\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-filter-by-radius\" class=\"anchor\" href=\"#filter-by-radius\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Filter By Radius</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Searches posts within 100 kilometers of (32, -68)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:location</span>).in_radius(<span class=\"pl-c1\">32</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">68</span>, <span class=\"pl-c1\">100</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-filter-by-radius-inexact-with-bbox\" class=\"anchor\" href=\"#filter-by-radius-inexact-with-bbox\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Filter By Radius (inexact with bbox)</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Searches posts within 100 kilometers of (32, -68) with `bbox`. This is</span>\r\n<span class=\"pl-c\"># an approximation so searches run quicker, but it may include other</span>\r\n<span class=\"pl-c\"># points that are slightly outside of the required distance</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:location</span>).in_radius(<span class=\"pl-c1\">32</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">68</span>, <span class=\"pl-c1\">100</span>, <span class=\"pl-c1\">:bbox</span> =&gt; <span class=\"pl-c1\">true</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-filter-by-bounding-box\" class=\"anchor\" href=\"#filter-by-bounding-box\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Filter By Bounding Box</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Searches posts within the bounding box defined by the corners (45,</span>\r\n<span class=\"pl-c\"># -94) to (46, -93)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:location</span>).in_bounding_box([<span class=\"pl-c1\">45</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">94</span>], [<span class=\"pl-c1\">46</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">93</span>])\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-sort-by-distance\" class=\"anchor\" href=\"#sort-by-distance\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Sort By Distance</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Orders documents by closeness to (32, -68)</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  order_by_geodist(<span class=\"pl-c1\">:location</span>, <span class=\"pl-c1\">32</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">68</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-joins\" class=\"anchor\" href=\"#joins\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Joins</h3>\r\n\r\n<p><strong>Solr 4 and above</strong></p>\r\n\r\n<p>Solr joins allow you to filter objects by joining on additional documents.  More information can be found on the <a href=\"http://wiki.apache.org/solr/Join\">Solr Wiki</a>.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Photo<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:description</span>\r\n    string <span class=\"pl-c1\">:caption</span>, <span class=\"pl-c1\">:default_boost</span> =&gt; <span class=\"pl-c1\">1.5</span>\r\n    time <span class=\"pl-c1\">:created_at</span>\r\n    integer <span class=\"pl-c1\">:photo_container_id</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-k\">class</span> <span class=\"pl-en\">PhotoContainer<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:name</span>\r\n    join(<span class=\"pl-c1\">:description</span>, <span class=\"pl-c1\">:target</span> =&gt; <span class=\"pl-c1\">Photo</span>, <span class=\"pl-c1\">:type</span> =&gt; <span class=\"pl-c1\">:text</span>, <span class=\"pl-c1\">:join</span> =&gt; { <span class=\"pl-c1\">:from</span> =&gt; <span class=\"pl-c1\">:photo_container_id</span>, <span class=\"pl-c1\">:to</span> =&gt; <span class=\"pl-c1\">:id</span> })\r\n    join(<span class=\"pl-c1\">:caption</span>, <span class=\"pl-c1\">:target</span> =&gt; <span class=\"pl-c1\">Photo</span>, <span class=\"pl-c1\">:type</span> =&gt; <span class=\"pl-c1\">:string</span>, <span class=\"pl-c1\">:join</span> =&gt; { <span class=\"pl-c1\">:from</span> =&gt; <span class=\"pl-c1\">:photo_container_id</span>, <span class=\"pl-c1\">:to</span> =&gt; <span class=\"pl-c1\">:id</span> })\r\n    join(<span class=\"pl-c1\">:photos_created</span>, <span class=\"pl-c1\">:target</span> =&gt; <span class=\"pl-c1\">Photo</span>, <span class=\"pl-c1\">:type</span> =&gt; <span class=\"pl-c1\">:time</span>, <span class=\"pl-c1\">:join</span> =&gt; { <span class=\"pl-c1\">:from</span> =&gt; <span class=\"pl-c1\">:photo_container_id</span>, <span class=\"pl-c1\">:to</span> =&gt; <span class=\"pl-c1\">:id</span> }, <span class=\"pl-c1\">:as</span> =&gt; <span class=\"pl-s\"><span class=\"pl-pds\">'</span>created_at_d<span class=\"pl-pds\">'</span></span>)\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c1\">PhotoContainer</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:caption</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>blah<span class=\"pl-pds\">'</span></span>)\r\n  with(<span class=\"pl-c1\">:photos_created</span>).between(<span class=\"pl-c1\">Date</span>.<span class=\"pl-k\">new</span>(<span class=\"pl-c1\">2011</span>,<span class=\"pl-c1\">3</span>,<span class=\"pl-c1\">1</span>), <span class=\"pl-c1\">Date</span>.<span class=\"pl-k\">new</span>(<span class=\"pl-c1\">2011</span>,<span class=\"pl-c1\">4</span>,<span class=\"pl-c1\">1</span>))\r\n\r\n  fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keywords<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; [<span class=\"pl-c1\">:name</span>, <span class=\"pl-c1\">:description</span>])\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># ...or</span>\r\n\r\n<span class=\"pl-c1\">PhotoContainer</span>.search <span class=\"pl-k\">do</span>\r\n  with(<span class=\"pl-c1\">:caption</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>blah<span class=\"pl-pds\">'</span></span>)\r\n  with(<span class=\"pl-c1\">:photos_created</span>).between(<span class=\"pl-c1\">Date</span>.<span class=\"pl-k\">new</span>(<span class=\"pl-c1\">2011</span>,<span class=\"pl-c1\">3</span>,<span class=\"pl-c1\">1</span>), <span class=\"pl-c1\">Date</span>.<span class=\"pl-k\">new</span>(<span class=\"pl-c1\">2011</span>,<span class=\"pl-c1\">4</span>,<span class=\"pl-c1\">1</span>))\r\n\r\n  any <span class=\"pl-k\">do</span>\r\n    fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword1<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:name</span>)\r\n    fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword2<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; <span class=\"pl-c1\">:description</span>) <span class=\"pl-c\"># will be joined from the Photo model</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-if-your-models-have-fields-with-the-same-name\" class=\"anchor\" href=\"#if-your-models-have-fields-with-the-same-name\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>If your models have fields with the same name</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Tweet<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:keywords</span>\r\n    integer <span class=\"pl-c1\">:profile_id</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-k\">class</span> <span class=\"pl-en\">Rss<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:keywords</span>\r\n    integer <span class=\"pl-c1\">:profile_id</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-k\">class</span> <span class=\"pl-en\">Profile<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:name</span>\r\n    join(<span class=\"pl-c1\">:keywords</span>, <span class=\"pl-c1\">:prefix</span> =&gt; <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tweet<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:target</span> =&gt; <span class=\"pl-c1\">Tweet</span>, <span class=\"pl-c1\">:type</span> =&gt; <span class=\"pl-c1\">:text</span>, <span class=\"pl-c1\">:join</span> =&gt; { <span class=\"pl-c1\">:from</span> =&gt; <span class=\"pl-c1\">:profile_id</span>, <span class=\"pl-c1\">:to</span> =&gt; <span class=\"pl-c1\">:id</span> })\r\n    join(<span class=\"pl-c1\">:keywords</span>, <span class=\"pl-c1\">:prefix</span> =&gt; <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>rss<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:target</span> =&gt; <span class=\"pl-c1\">Rss</span>, <span class=\"pl-c1\">:type</span> =&gt; <span class=\"pl-c1\">:text</span>, <span class=\"pl-c1\">:join</span> =&gt; { <span class=\"pl-c1\">:from</span> =&gt; <span class=\"pl-c1\">:profile_id</span>, <span class=\"pl-c1\">:to</span> =&gt; <span class=\"pl-c1\">:id</span> })\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c1\">Profile</span>.search <span class=\"pl-k\">do</span>\r\n  any <span class=\"pl-k\">do</span>\r\n    fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword1 keyword2<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; [<span class=\"pl-c1\">:tweet_keywords</span>]) <span class=\"pl-k\">do</span>\r\n      minimum_match <span class=\"pl-c1\">1</span>\r\n    <span class=\"pl-k\">end</span>\r\n\r\n    fulltext(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>keyword3<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">:fields</span> =&gt; [<span class=\"pl-c1\">:rss_keywords</span>])\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># ...produces:</span>\r\n<span class=\"pl-c\"># sort: \"score desc\", fl: \"* score\", start: 0, rows: 20,</span>\r\n<span class=\"pl-c\"># fq: [\"type:Profile\"],</span>\r\n<span class=\"pl-c\"># q: \"(_query_:\"{!join from=profile_ids_i to=id_i v=$qTweet91755700 fq=$fqTweet91755700}\" OR _query_:\"{!join from=profile_ids_i to=id_i v=$qRss91753840 fq=$fqRss91753840}\")\",</span>\r\n<span class=\"pl-c\"># qTweet91755700: \"_query_:\"{!edismax qf='keywords_text' mm='1'}keyword1 keyword2\"\", fqTweet91755700: \"type:Tweet\",</span>\r\n<span class=\"pl-c\"># qRss91753840: \"_query_:\"{!edismax qf='keywords_text'}keyword3\"\", fqRss91753840: \"type:Rss\"</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-highlighting\" class=\"anchor\" href=\"#highlighting\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Highlighting</h3>\r\n\r\n<p>Highlighting allows you to display snippets of the part of the document\r\nthat matched the query.</p>\r\n\r\n<p>The fields you wish to highlight must be <strong>stored</strong>.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    <span class=\"pl-c\"># ...</span>\r\n    text <span class=\"pl-c1\">:body</span>, <span class=\"pl-c1\">:stored</span> =&gt; <span class=\"pl-c1\">true</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>Highlighting matches on the <code>body</code> field, for instance, can be achieved\r\nlike:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pizza<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">do</span>\r\n    highlight <span class=\"pl-c1\">:body</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Will output something similar to:</span>\r\n<span class=\"pl-c\"># Post #1</span>\r\n<span class=\"pl-c\">#   I really love *pizza*</span>\r\n<span class=\"pl-c\">#   *Pizza* is my favorite thing</span>\r\n<span class=\"pl-c\"># Post #2</span>\r\n<span class=\"pl-c\">#   Pepperoni *pizza* is delicious</span>\r\nsearch.hits.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">hit</span>|\r\n  puts <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Post #<span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">hit.primary_key</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span><span class=\"pl-pds\">\"</span></span>\r\n\r\n  hit.highlights(<span class=\"pl-c1\">:body</span>).each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">highlight</span>|\r\n    puts <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>  <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> highlight.format { |<span class=\"pl-smi\">word</span>| <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>*<span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">word</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span>*<span class=\"pl-pds\">\"</span></span> }\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-stats\" class=\"anchor\" href=\"#stats\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Stats</h3>\r\n\r\n<p>Solr can return some statistics on indexed numeric fields. Fetching statistics\r\nfor <code>average_rating</code>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  stats <span class=\"pl-c1\">:average_rating</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\nputs <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Minimum average rating: <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">search.stats(<span class=\"pl-c1\">:average_rating</span>).min</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span><span class=\"pl-pds\">\"</span></span>\r\nputs <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Maximum average rating: <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">search.stats(<span class=\"pl-c1\">:average_rating</span>).max</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span><span class=\"pl-pds\">\"</span></span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-stats-on-multiple-fields\" class=\"anchor\" href=\"#stats-on-multiple-fields\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Stats on multiple fields</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  stats <span class=\"pl-c1\">:average_rating</span>, <span class=\"pl-c1\">:blog_id</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-faceting-on-stats\" class=\"anchor\" href=\"#faceting-on-stats\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Faceting on stats</h4>\r\n\r\n<p>It's possible to facet field stats on another field:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  stats <span class=\"pl-c1\">:average_rating</span> <span class=\"pl-k\">do</span>\r\n    facet <span class=\"pl-c1\">:featured</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\nsearch.stats(<span class=\"pl-c1\">:average_rating</span>).facet(<span class=\"pl-c1\">:featured</span>).rows <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">row</span>|\r\n  puts <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Minimum average rating for featured=<span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">row.value</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span>: <span class=\"pl-pse\">\#{</span><span class=\"pl-s1\">row.min</span><span class=\"pl-pse\"><span class=\"pl-s1\">}</span></span><span class=\"pl-pds\">\"</span></span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>Take care when requesting facets on a stats field, since all facet results are\r\nreturned by Solr!</p>\r\n\r\n<h4>\r\n<a id=\"user-content-multiple-stats-and-selective-faceting\" class=\"anchor\" href=\"#multiple-stats-and-selective-faceting\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Multiple stats and selective faceting</h4>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre>search <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  stats <span class=\"pl-c1\">:average_rating</span> <span class=\"pl-k\">do</span>\r\n    facet <span class=\"pl-c1\">:featured</span>\r\n  <span class=\"pl-k\">end</span>\r\n  stats <span class=\"pl-c1\">:blog_id</span> <span class=\"pl-k\">do</span>\r\n    facet <span class=\"pl-c1\">:average_rating</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-functions\" class=\"anchor\" href=\"#functions\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Functions</h3>\r\n\r\n<p>Functions in Solr make it possible to dynamically compute values for each document. This gives you more flexability and you don't have to only deal with static values. For more details, please read <a href=\"http://wiki.apache.org/solr/FunctionQuery\">Fuction Query documentation</a>.</p>\r\n\r\n<p>Sunspot supports functions in two ways:</p>\r\n\r\n<ol>\r\n<li>You can use functions to dynamically count boosting for field:</li>\r\n</ol>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\">#Posts with pizza, scored higer (square promotion field) if is_promoted</span>\r\n<span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  fulltext <span class=\"pl-s\"><span class=\"pl-pds\">'</span>pizza<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">do</span>\r\n    boost(function {sqrt(<span class=\"pl-c1\">:promotion</span>)}) { with(<span class=\"pl-c1\">:is_promoted</span>, <span class=\"pl-c1\">true</span>) }\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<ol>\r\n<li>You're able to use functions for ordering (see examples for <a href=\"#ordering\">order_by_function</a>)</li>\r\n</ol>\r\n\r\n<h3>\r\n<a id=\"user-content-more-like-this\" class=\"anchor\" href=\"#more-like-this\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>More Like This</h3>\r\n\r\n<p>Sunspot can extract related items using more_like_this. When searching\r\nfor similar items, you can pass a block with the following options:</p>\r\n\r\n<ul>\r\n<li>fields :field_1[, :field_2, ...]</li>\r\n<li>minimum_term_frequency ##</li>\r\n<li>minimum_document_frequency ##</li>\r\n<li>minimum_word_length ##</li>\r\n<li>maximum_word_length ##</li>\r\n<li>maximum_query_terms ##</li>\r\n<li>boost_by_relevance true/false</li>\r\n</ul>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    <span class=\"pl-c\"># The :more_like_this option must be set to true</span>\r\n    text <span class=\"pl-c1\">:body</span>, <span class=\"pl-c1\">:more_like_this</span> =&gt; <span class=\"pl-c1\">true</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\npost <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Post</span>.first\r\n\r\nresults <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Sunspot</span>.more_like_this(post) <span class=\"pl-k\">do</span>\r\n  fields <span class=\"pl-c1\">:body</span>\r\n  minimum_term_frequency <span class=\"pl-c1\">5</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>To use more_like_this you need to have the <a href=\"http://wiki.apache.org/solr/MoreLikeThisHandler\">MoreLikeThis handler enabled in solrcofig.xml</a>.</p>\r\n\r\n<p>Example handler will look like this:</p>\r\n\r\n<pre><code>&lt;requestHandler class=\"solr.MoreLikeThisHandler\" name=\"/mlt\"&gt;\r\n  &lt;lst name=\"defaults\"&gt;\r\n    &lt;str name=\"mlt.mintf\"&gt;1&lt;/str&gt;\r\n    &lt;str name=\"mlt.mindf\"&gt;2&lt;/str&gt;\r\n  &lt;/lst&gt;\r\n&lt;/requestHandler&gt;\r\n</code></pre>\r\n\r\n<h3>\r\n<a id=\"user-content-spellcheck\" class=\"anchor\" href=\"#spellcheck\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Spellcheck</h3>\r\n\r\n<p>Solr supports spellchecking of search results against a\r\ndictionary. Sunspot supports turning on the spellchecker via the query\r\nDSL and parsing the response. Read the\r\n<a href=\"http://wiki.apache.org/solr/SpellCheckComponent\">solr docs</a> for more\r\ninformation on how this all works inside Solr.</p>\r\n\r\n<p>Solr's default spellchecking engine expects to use a dictionary\r\ncomprised of values from an indexed field. This tends to work better\r\nthan a static dictionary file, since it includes proper nouns in your\r\nindex. The default in sunspot's <code>solrconfig.xml</code> is <code>textSpell</code> (note\r\nthat <code>buildOnCommit</code> isn't recommended in production):</p>\r\n\r\n<pre><code>&lt;lst name=\"spellchecker\"&gt;\r\n   &lt;str name=\"name\"&gt;default&lt;/str&gt;\r\n   &lt;!-- change field to textSpell and use copyField in schema.xml\r\n   to spellcheck multiple fields --&gt;\r\n   &lt;str name=\"field\"&gt;textSpell&lt;/str&gt;\r\n   &lt;str name=\"buildOnCommit\"&gt;true&lt;/str&gt;\r\n &lt;/lst&gt;\r\n</code></pre>\r\n\r\n<p>Define the <code>textSpell</code> field in your <code>schema.xml</code>.</p>\r\n\r\n<pre><code>&lt;field name=\"textSpell\" stored=\"false\" type=\"textSpell\" multiValued=\"true\" indexed=\"true\"/&gt;\r\n</code></pre>\r\n\r\n<p>To get some data into your spellchecking field, you can use <code>copyField</code> in <code>schema.xml</code>:</p>\r\n\r\n<pre><code>&lt;copyField source=\"*_text\"  dest=\"textSpell\" /&gt;\r\n&lt;copyField source=\"*_s\"  dest=\"textSpell\" /&gt;\r\n</code></pre>\r\n\r\n<p><code>copyField</code> works <em>before</em> any analyzers you have set up on the source\r\nfields. You can add your own analyzer by customizing the <code>textSpell</code> field type in <code>schema.xml</code>:</p>\r\n\r\n<pre><code>&lt;fieldType name=\"textSpell\" class=\"solr.TextField\" positionIncrementGap=\"100\" omitNorms=\"true\"&gt;\r\n  &lt;analyzer&gt;\r\n    &lt;tokenizer class=\"solr.StandardTokenizerFactory\"/&gt;\r\n    &lt;filter class=\"solr.StandardFilterFactory\"/&gt;\r\n    &lt;filter class=\"solr.LowerCaseFilterFactory\"/&gt;\r\n  &lt;/analyzer&gt;\r\n&lt;/fieldType&gt;\r\n</code></pre>\r\n\r\n<p>It's dangerous to add too much to this analyzer chain. It runs before\r\nwords are inserted into the spellcheck dictionary, which means the\r\nsuggestions that come back from solr are post-analyzer. With the\r\ndefault above, that means all spelling suggestions will be lower-case.</p>\r\n\r\n<p>Once you have solr configured, you can turn it on for a given query\r\nusing the query DSL (see spellcheck_spec.rb for more examples):</p>\r\n\r\n<pre><code>search = Sunspot.search(Post) do\r\n  keywords 'Cofee'\r\n  spellcheck :count =&gt; 3\r\nend\r\n</code></pre>\r\n\r\n<p>Access the suggestions via the <code>spellcheck_suggestions</code> or\r\n<code>spellcheck_suggestion_for</code> (for just the top one) methods:</p>\r\n\r\n<pre><code>search.spellcheck_suggestion_for('cofee') # =&gt; 'coffee'\r\n\r\nsearch.spellcheck_suggestions # =&gt; [{word: 'coffee', freq: 10}, {word: 'toffee', freq: 1}]\r\n</code></pre>\r\n\r\n<p>If you've turned on <a href=\"http://wiki.apache.org/solr/SpellCheckComponent#spellcheck.collate\">collation</a>,\r\nyou can also get that result:</p>\r\n\r\n<pre><code>search = Sunspot.search(Post) do\r\n  keywords 'Cofee market'\r\n  spellcheck :count =&gt; 3\r\nend\r\n\r\nsearch.spellcheck_collation # =&gt; 'coffee market'\r\n</code></pre>\r\n\r\n<h2>\r\n<a id=\"user-content-indexes-in-depth\" class=\"anchor\" href=\"#indexes-in-depth\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Indexes In Depth</h2>\r\n\r\n<p>TODO</p>\r\n\r\n<h3>\r\n<a id=\"user-content-index-time-boosts\" class=\"anchor\" href=\"#index-time-boosts\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Index-Time Boosts</h3>\r\n\r\n<p>To specify that a field should be boosted in relation to other fields for\r\nall queries, you can specify the boost at index time:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:title</span>, <span class=\"pl-c1\">:boost</span> =&gt; <span class=\"pl-c1\">5.0</span>\r\n    text <span class=\"pl-c1\">:body</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-stored-fields\" class=\"anchor\" href=\"#stored-fields\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Stored Fields</h3>\r\n\r\n<p>Stored fields keep an original (untokenized/unanalyzed) version of their\r\ncontents in Solr.</p>\r\n\r\n<p>Stored fields allow data to be retrieved without also hitting the\r\nunderlying database (usually an SQL server). They are also required for\r\nhighlighting and more like this queries.</p>\r\n\r\n<p>Stored fields come at some performance cost in the Solr index, so use\r\nthem wisely.</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Post<span class=\"pl-e\"> &lt; ActiveRecord::Base</span></span>\r\n  searchable <span class=\"pl-k\">do</span>\r\n    text <span class=\"pl-c1\">:body</span>, <span class=\"pl-c1\">:stored</span> =&gt; <span class=\"pl-c1\">true</span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span>\r\n\r\n<span class=\"pl-c\"># Retrieving stored contents without hitting the database</span>\r\n<span class=\"pl-c1\">Post</span>.search.hits.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">hit</span>|\r\n  puts hit.stored(<span class=\"pl-c1\">:body</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-hits-vs-results\" class=\"anchor\" href=\"#hits-vs-results\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Hits vs. Results</h2>\r\n\r\n<p>Sunspot simply stores the type and primary key of objects in Solr.\r\nWhen results are retrieved, those primary keys are used to load the\r\nactual object (usually from an SQL database).</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Using #results pulls in the records from the object-relational</span>\r\n<span class=\"pl-c\"># mapper (e.g., ActiveRecord + a SQL server)</span>\r\n<span class=\"pl-c1\">Post</span>.search.results.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">result</span>|\r\n  puts result.body\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>To access information about the results without querying the underlying\r\ndatabase, use <code>hits</code>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># Using #hits gives back all information requested from Solr, but does</span>\r\n<span class=\"pl-c\"># not load the object from the object-relational mapper</span>\r\n<span class=\"pl-c1\">Post</span>.search.hits.each <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">hit</span>|\r\n  puts hit.stored(<span class=\"pl-c1\">:body</span>)\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<p>If you need both the result (ORM-loaded object) and <code>Hit</code> (e.g., for\r\nfaceting, highlighting, etc...), you can use the convenience method\r\n<code>each_hit_with_result</code>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c1\">Post</span>.search.each_hit_with_result <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">hit</span>, <span class=\"pl-smi\">result</span>|\r\n  <span class=\"pl-c\"># ...</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-reindexing-objects\" class=\"anchor\" href=\"#reindexing-objects\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Reindexing Objects</h2>\r\n\r\n<p>If you are using Rails, objects are automatically indexed to Solr as a\r\npart of the <code>save</code> callbacks.</p>\r\n\r\n<p>There are a number of ways to index manually within Ruby:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c\"># On a class itself</span>\r\n<span class=\"pl-c1\">Person</span>.reindex\r\n<span class=\"pl-c1\">Sunspot</span>.commit <span class=\"pl-c\"># or commit(true) for a soft commit (Solr4)</span>\r\n\r\n<span class=\"pl-c\"># On mixed objects</span>\r\n<span class=\"pl-c1\">Sunspot</span>.index [post1, item2]\r\n<span class=\"pl-c1\">Sunspot</span>.index person3\r\n<span class=\"pl-c1\">Sunspot</span>.commit <span class=\"pl-c\"># or commit(true) for a soft commit (Solr4)</span>\r\n\r\n<span class=\"pl-c\"># With autocommit</span>\r\n<span class=\"pl-c1\">Sunspot</span>.index! [post1, item2, person3]</pre></div>\r\n\r\n<p>If you make a change to the object's \"schema\" (code in the <code>searchable</code> block),\r\nyou must reindex all objects so the changes are reflected in Solr:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle <span class=\"pl-c1\">exec</span> rake sunspot:reindex\r\n\r\n<span class=\"pl-c\"># or, to be specific to a certain model with a certain batch size:</span>\r\nbundle <span class=\"pl-c1\">exec</span> rake sunspot:reindex[500,Post] <span class=\"pl-c\"># some shells will require escaping [ with \\[ and ] with \\]</span>\r\n\r\n<span class=\"pl-c\"># to skip the prompt asking you if you want to proceed with the reindexing:</span>\r\nbundle <span class=\"pl-c1\">exec</span> rake sunspot:reindex[,,<span class=\"pl-c1\">true</span>] <span class=\"pl-c\"># some shells will require escaping [ with \\[ and ] with \\]</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-use-without-rails\" class=\"anchor\" href=\"#use-without-rails\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Use Without Rails</h2>\r\n\r\n<p>TODO</p>\r\n\r\n<h2>\r\n<a id=\"user-content-threading\" class=\"anchor\" href=\"#threading\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Threading</h2>\r\n\r\n<p>The default Sunspot Session is not thread-safe. If used in a multi-threaded\r\nenvironment (such as sidekiq), you should configure Sunspot to use the\r\n<a href=\"http://sunspot.github.io/sunspot/docs/Sunspot/SessionProxy/ThreadLocalSessionProxy.html\">ThreadLocalSessionProxy</a>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c1\">Sunspot</span>.session <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Sunspot</span>::<span class=\"pl-c1\">SessionProxy</span>::<span class=\"pl-c1\">ThreadLocalSessionProxy</span>.<span class=\"pl-k\">new</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-manually-adjusting-solr-parameters\" class=\"anchor\" href=\"#manually-adjusting-solr-parameters\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Manually Adjusting Solr Parameters</h2>\r\n\r\n<p>To add or modify parameters sent to Solr, use <code>adjust_solr_params</code>:</p>\r\n\r\n<div class=\"highlight highlight-ruby\"><pre><span class=\"pl-c1\">Post</span>.search <span class=\"pl-k\">do</span>\r\n  adjust_solr_params <span class=\"pl-k\">do </span>|<span class=\"pl-smi\">params</span>|\r\n    params[<span class=\"pl-c1\">:q</span>] <span class=\"pl-k\">+=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span> AND something_s:more<span class=\"pl-pds\">\"</span></span>\r\n  <span class=\"pl-k\">end</span>\r\n<span class=\"pl-k\">end</span></pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-session-proxies\" class=\"anchor\" href=\"#session-proxies\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Session Proxies</h2>\r\n\r\n<p>TODO</p>\r\n\r\n<h2>\r\n<a id=\"user-content-type-reference\" class=\"anchor\" href=\"#type-reference\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Type Reference</h2>\r\n\r\n<p>TODO</p>\r\n\r\n<h2>\r\n<a id=\"user-content-configuration\" class=\"anchor\" href=\"#configuration\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Configuration</h2>\r\n\r\n<p>Configure Sunspot by creating a <em>config/sunspot.yml</em> file or by setting a <code>SOLR_URL</code> or a <code>WEBSOLR_URL</code> environment variable.\r\nThe defaults are as follows.</p>\r\n\r\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">development:</span></span>\r\n  <span class=\"pl-s\"><span class=\"pl-ent\">solr:</span></span>\r\n    <span class=\"pl-s\"><span class=\"pl-ent\">hostname:</span> <span class=\"pl-s\">localhost</span></span>\r\n    <span class=\"pl-c1\"><span class=\"pl-ent\">port:</span> 8982</span>\r\n    <span class=\"pl-s\"><span class=\"pl-ent\">log_level:</span> <span class=\"pl-s\">INFO</span></span>\r\n\r\n<span class=\"pl-s\"><span class=\"pl-ent\">test:</span></span>\r\n  <span class=\"pl-s\"><span class=\"pl-ent\">solr:</span></span>\r\n    <span class=\"pl-s\"><span class=\"pl-ent\">hostname:</span> <span class=\"pl-s\">localhost</span></span>\r\n    <span class=\"pl-c1\"><span class=\"pl-ent\">port:</span> 8981</span>\r\n    <span class=\"pl-s\"><span class=\"pl-ent\">log_level:</span> <span class=\"pl-s\">WARNING</span></span></pre></div>\r\n\r\n<p>You may want to use SSL for production environments with a username and password. For example, set <code>SOLR_URL</code> to <code>https://username:password@production.solr.example.com/solr</code>.</p>\r\n\r\n<p>You can examine the value of <code>Sunspot::Rails.configuration</code> at runtime.</p>\r\n\r\n<h2>\r\n<a id=\"user-content-development\" class=\"anchor\" href=\"#development\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Development</h2>\r\n\r\n<h3>\r\n<a id=\"user-content-running-tests\" class=\"anchor\" href=\"#running-tests\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Running Tests</h3>\r\n\r\n<h4>\r\n<a id=\"user-content-sunspot-1\" class=\"anchor\" href=\"#sunspot-1\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>sunspot</h4>\r\n\r\n<p>Install the required gem dependencies:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre><span class=\"pl-c1\">cd</span> /path/to/sunspot/sunspot\r\nbundle install</pre></div>\r\n\r\n<p>Start a Solr instance on port 8983:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle <span class=\"pl-c1\">exec</span> sunspot-solr start -p 8983\r\n<span class=\"pl-c\"># or `bundle exec sunspot-solr run -p 8983` to run in foreground</span></pre></div>\r\n\r\n<p>Run the tests:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle <span class=\"pl-c1\">exec</span> rake spec</pre></div>\r\n\r\n<p>If desired, stop the Solr instance:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle <span class=\"pl-c1\">exec</span> sunspot-solr stop</pre></div>\r\n\r\n<h4>\r\n<a id=\"user-content-sunspot_rails\" class=\"anchor\" href=\"#sunspot_rails\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>sunspot_rails</h4>\r\n\r\n<p>Install the gem dependencies for <code>sunspot</code>:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre><span class=\"pl-c1\">cd</span> /path/to/sunspot/sunspot\r\nbundle install</pre></div>\r\n\r\n<p>Start a Solr instance on port 8983:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>bundle <span class=\"pl-c1\">exec</span> sunspot-solr start -p 8983\r\n<span class=\"pl-c\"># or `bundle exec sunspot-solr run -p 8983` to run in foreground</span></pre></div>\r\n\r\n<p>Navigate to the <code>sunspot_rails</code> directory:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre><span class=\"pl-c1\">cd</span> ../sunspot_rails</pre></div>\r\n\r\n<p>Run the tests:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>rake spec <span class=\"pl-c\"># all Rails versions</span>\r\nrake spec RAILS=3.1.1 <span class=\"pl-c\"># specific Rails version only</span></pre></div>\r\n\r\n<p>If desired, stop the Solr instance:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre><span class=\"pl-c1\">cd</span> ../sunspot\r\nbundle <span class=\"pl-c1\">exec</span> sunspot-solr stop</pre></div>\r\n\r\n<h3>\r\n<a id=\"user-content-generating-documentation\" class=\"anchor\" href=\"#generating-documentation\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Generating Documentation</h3>\r\n\r\n<p>Install the <code>yard</code> and <code>redcarpet</code> gems:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>$ gem install yard redcarpet</pre></div>\r\n\r\n<p>Uninstall the <code>rdiscount</code> gem, if installed:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>$ gem uninstall rdiscount</pre></div>\r\n\r\n<p>Generate the documentation from topmost directory:</p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre>$ yardoc -o docs <span class=\"pl-k\">*</span>/lib/<span class=\"pl-k\">**</span>/<span class=\"pl-k\">*</span>.rb - README.md</pre></div>\r\n\r\n<h2>\r\n<a id=\"user-content-tutorials-and-articles\" class=\"anchor\" href=\"#tutorials-and-articles\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>Tutorials and Articles</h2>\r\n\r\n<ul>\r\n<li>\r\n<a href=\"http://mrdanadams.com/2012/sunspot-websolr-solr-heroku/\">Using Sunspot, Websolr, and Solr on Heroku</a> (mrdanadams)</li>\r\n<li>\r\n<a href=\"http://collectiveidea.com/blog/archives/2011/03/08/full-text-searching-with-solr-and-sunspot/\">Full Text Searching with Solr and Sunspot</a> (Collective Idea)</li>\r\n<li>\r\n<a href=\"http://tech.favoritemedium.com/2010/01/full-text-search-in-rails-with-sunspot.html\">Full-text search in Rails with Sunspot</a> (Tropical Software Observations)</li>\r\n<li>\r\n<a href=\"http://therailworld.com/posts/23-Sunspot-Full-text-Search-for-Rails-Ruby\">Sunspot Full-text Search for Rails/Ruby</a> (The Rail World)</li>\r\n<li>\r\n<a href=\"http://blog.trydionel.com/2009/11/19/a-few-sunspot-tips/\">A Few Sunspot Tips</a> (spiral_code)</li>\r\n<li>\r\n<a href=\"http://www.linux-mag.com/id/7341\">Sunspot: A Solr-Powered Search Engine for Ruby</a> (Linux Magazine)</li>\r\n<li>\r\n<a href=\"http://bennyfreshness.com/2010/05/sunspot-helped-me-see-the-light/\">Sunspot Showed Me the Light</a> (ben koonse)</li>\r\n<li>\r\n<a href=\"http://blog.websolr.com/post/3505903537/rubygems-search-upgrade-1\">RubyGems.org â€” A case study in upgrading to full-text search</a> (Websolr)</li>\r\n<li>\r\n<a href=\"http://web.archive.org/web/20120708071427/http://codequest.eu/articles/how-to-implement-spatial-search-with-sunspot-and-solr\">How to Implement Spatial Search with Sunspot and Solr</a> (Code Quest)</li>\r\n<li>\r\n<a href=\"http://joelmats.wordpress.com/2011/02/23/getting-sunspot-1-2-with-spatial-solr-plugin-2-0-to-work/\">Sunspot 1.2 with Spatial Solr Plugin 2.0</a> (joelmats)</li>\r\n<li>\r\n<a href=\"http://web.archive.org/web/20100727041141/http://anhaminha.tumblr.com/post/632682537/rails3-heroku-sunspot-madness\">rails3 + heroku + sunspot : madness</a> (anhaminha)</li>\r\n<li>\r\n<a href=\"https://devcenter.heroku.com/articles/websolr\">heroku + websolr + sunspot</a> (Onemorecloud)</li>\r\n<li>\r\n<a href=\"http://cookbook.hobocentral.net/recipes/57-how-to-get-full-text-search\">How to get full text search working with Sunspot</a> (Hobo Cookbook)</li>\r\n<li>\r\n<a href=\"http://web.archive.org/web/20120311015358/http://hemju.com/2011/01/04/full-text-search-with-sunspot-in-rails/\">Full text search with Sunspot in Rails</a> (hemju)</li>\r\n<li>\r\n<a href=\"http://masonoise.wordpress.com/2010/02/06/using-sunspot-for-free-text-search-with-redis/\">Using Sunspot for Free-Text Search with Redis</a> (While I Pondered...)</li>\r\n<li>\r\n<a href=\"http://www.pipetodevnull.com/past/2010/8/5/fuzzy_searching_in_solr_with_sunspot/\">Fuzzy searching in SOLR with Sunspot</a> (pipe :to =&gt; /dev/null)</li>\r\n<li>\r\n<a href=\"http://www.cloudspace.com/blog/2010/01/15/default-scope-with-sunspot/\">Default scope with Sunspot</a> (Cloudspace)</li>\r\n<li>\r\n<a href=\"http://www.medihack.org/2011/03/19/index-external-models-with-sunspotsolr/\">Index External Models with Sunspot/Solr</a> (Medihack)</li>\r\n<li>\r\n<a href=\"http://collectiveidea.com/blog/archives/2011/05/25/testing-with-sunspot-and-cucumber/\">Testing with Sunspot and Cucumber</a> (Collective Idea)</li>\r\n<li>\r\n<a href=\"http://opensoul.org/2010/4/7/cucumber-and-sunspot\">Cucumber and Sunspot</a> (opensoul.org)</li>\r\n<li>\r\n<a href=\"http://blog.trydionel.com/2010/02/06/testing-sunspot-with-cucumber/\">Testing Sunspot with Cucumber</a> (spiral_code)</li>\r\n<li>\r\n<a href=\"http://blog.kabisa.nl/2010/02/03/running-cucumber-features-with-sunspot_rails\">Running cucumber features with sunspot_rails</a> (Kabisa Blog)</li>\r\n<li>\r\n<a href=\"http://timcowlishaw.co.uk/post/3179661158/testing-sunspot-with-test-unit\">Testing Sunspot with Test::Unit</a> (Type Slowly)</li>\r\n<li>\r\n<a href=\"http://wiki.websolr.com/guides/Sunspot-Quick-Start\">Sunspot Quickstart</a> (WebSolr)</li>\r\n<li>\r\n<a href=\"http://www.kuahyeow.com/2009/08/solr-and-sunspot.html\">Solr, and Sunspot</a> (YT!)</li>\r\n<li>\r\n<a href=\"http://web.archive.org/web/20100427135335/http://mrb.github.com/2010/04/08/the-saga-of-the-switch.html\">The Saga of the Switch</a> (mrb -- includes comparison of Sunspot and Ultrasphinx)</li>\r\n<li>\r\n<a href=\"http://mikepackdev.com/blog_posts/19-conditional-indexing-with-sunspot\">Conditional Indexing with Sunspot</a> (mikepack)</li>\r\n<li>\r\n<a href=\"http://valve.github.io/blog/2014/02/22/rails-developer-guide-to-full-text-search-with-solr/\">Introduction to Full Text Search for Rails Developers</a> (Valve's)</li>\r\n</ul>\r\n\r\n<h2>\r\n<a id=\"user-content-license\" class=\"anchor\" href=\"#license\" aria-hidden=\"true\"><span class=\"octicon octicon-link\"></span></a>License</h2>\r\n\r\n<p>Sunspot is distributed under the MIT License, copyright (c) 2008-2013 Mat Brown</p>\r\n</article>\r\n  </div>\r\n\r\n\r\n        </div>\r\n\r\n      </div><!-- /.repo-container -->\r\n      <div class=\"modal-backdrop\"></div>\r\n    </div><!-- /.container -->\r\n  </div><!-- /.site -->\r\n\r\n\r\n    </div><!-- /.wrapper -->\r\n\r\n      <div class=\"container\">\r\n  <div class=\"site-footer\" role=\"contentinfo\">\r\n    <ul class=\"site-footer-links right\">\r\n        <li><a href=\"https://status.github.com/\" data-ga-click=\"Footer, go to status, text:status\">Status</a></li>\r\n      <li><a href=\"https://developer.github.com\" data-ga-click=\"Footer, go to api, text:api\">API</a></li>\r\n      <li><a href=\"https://training.github.com\" data-ga-click=\"Footer, go to training, text:training\">Training</a></li>\r\n      <li><a href=\"https://shop.github.com\" data-ga-click=\"Footer, go to shop, text:shop\">Shop</a></li>\r\n        <li><a href=\"https://github.com/blog\" data-ga-click=\"Footer, go to blog, text:blog\">Blog</a></li>\r\n        <li><a href=\"https://github.com/about\" data-ga-click=\"Footer, go to about, text:about\">About</a></li>\r\n\r\n    </ul>\r\n\r\n    <a href=\"https://github.com\" aria-label=\"Homepage\">\r\n      <span class=\"mega-octicon octicon-mark-github\" title=\"GitHub\"></span>\r\n</a>\r\n    <ul class=\"site-footer-links\">\r\n      <li>&copy; 2015 <span title=\"0.08031s from github-fe138-cp1-prd.iad.github.net\">GitHub</span>, Inc.</li>\r\n        <li><a href=\"https://github.com/site/terms\" data-ga-click=\"Footer, go to terms, text:terms\">Terms</a></li>\r\n        <li><a href=\"https://github.com/site/privacy\" data-ga-click=\"Footer, go to privacy, text:privacy\">Privacy</a></li>\r\n        <li><a href=\"https://github.com/security\" data-ga-click=\"Footer, go to security, text:security\">Security</a></li>\r\n        <li><a href=\"https://github.com/contact\" data-ga-click=\"Footer, go to contact, text:contact\">Contact</a></li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n\r\n\r\n    <div class=\"fullscreen-overlay js-fullscreen-overlay\" id=\"fullscreen_overlay\">\r\n  <div class=\"fullscreen-container js-suggester-container\">\r\n    <div class=\"textarea-wrap\">\r\n      <textarea name=\"fullscreen-contents\" id=\"fullscreen-contents\" class=\"fullscreen-contents js-fullscreen-contents\" placeholder=\"\"></textarea>\r\n      <div class=\"suggester-container\">\r\n        <div class=\"suggester fullscreen-suggester js-suggester js-navigation-container\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"fullscreen-sidebar\">\r\n    <a href=\"#\" class=\"exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w\" aria-label=\"Exit Zen Mode\">\r\n      <span class=\"mega-octicon octicon-screen-normal\"></span>\r\n    </a>\r\n    <a href=\"#\" class=\"theme-switcher js-theme-switcher tooltipped tooltipped-w\"\r\n      aria-label=\"Switch themes\">\r\n      <span class=\"octicon octicon-color-mode\"></span>\r\n    </a>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n    \r\n\r\n    <div id=\"ajax-error-message\" class=\"flash flash-error\">\r\n      <span class=\"octicon octicon-alert\"></span>\r\n      <a href=\"#\" class=\"octicon octicon-x flash-close js-ajax-error-dismiss\" aria-label=\"Dismiss error\"></a>\r\n      Something went wrong with that request. Please try again.\r\n    </div>\r\n\r\n\r\n      <script crossorigin=\"anonymous\" src=\"https://assets-cdn.github.com/assets/frameworks-5c08de317e4054ec200d36d3b1361ddd3cb30c05c9070a9d72862ee28ab1d7f9.js\"></script>\r\n      <script async=\"async\" crossorigin=\"anonymous\" src=\"https://assets-cdn.github.com/assets/github/index-b79817a43c4618022b9ecd18dadd96010ccecbb12b56fcc232664db1f897e3a8.js\"></script>\r\n      \r\n      \r\n\r\n  </body>\r\n</html>\r\n"], ["created_at", "2015-05-17 19:52:50.232767"], ["updated_at", "2015-05-17 19:52:50.232767"]]
  [1m[32mSOLR Request (208.8ms)[0m  [ path=[1m[1mupdate[0m parameters={} ]
  [1m[36m (137.5ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/links/3
  [1m[32mSOLR Request (469.6ms)[0m  [ path=[1m[1mupdate[0m parameters={} ]
Completed 302 Found in 1282ms (ActiveRecord: 138.5ms)


Started GET "/links/3" for 127.0.0.1 at 2015-05-17 15:52:51 -0400
Processing by LinksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mLink Load (0.6ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 3]]
  Rendered links/show.html.erb within layouts/application (15.3ms)
Completed 200 OK in 40ms (Views: 37.0ms | ActiveRecord: 0.6ms | Solr: 678.4ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 15:52:59 -0400
Processing by LinksController#index as HTML
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT "links".* FROM "links"[0m
  Rendered links/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.4ms | Solr: 0.0ms)


Started GET "/links/search?utf8=%E2%9C%93&query=solr&commit=Search" for 127.0.0.1 at 2015-05-17 15:53:16 -0400
Processing by LinksController#search as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"solr", "commit"=>"Search"}
  [1m[32mSOLR Request (22.9ms)[0m  [ path=[1m[1mselect[0m parameters={fq: [1m[1m["type:Link"][0m, q: [1m[1m"solr"[0m, fl: [1m[1m"* score"[0m, qf: [1m[1m"title_texts html_texts"[0m, defType: [1m[1m"edismax"[0m, start: [1m[1m0[0m, rows: [1m[1m30[0m} ]
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links" WHERE "links"."id" = 3
  Rendered links/index.html.erb within layouts/application (11.3ms)
Completed 200 OK in 59ms (Views: 33.2ms | ActiveRecord: 0.3ms | Solr: 22.9ms)


Started DELETE "/links/3" for 127.0.0.1 at 2015-05-17 15:53:29 -0400
Processing by LinksController#destroy as HTML
  Parameters: {"authenticity_token"=>"33E11yaWEDQ6t90eE6EHVHYBdTz/t7BbuSBvkgIW3rHBvv5nOjsTp4UkwlPAdi/YJWowMI6Yc9259ox5SAY6Kw==", "id"=>"3"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 3]]
  [1m[32mSOLR Request (5.0ms)[0m  [ path=[1m[1mupdate[0m parameters={} ]
  [1m[35m (99.0ms)[0m  commit transaction
Redirected to http://localhost:3000/links
  [1m[32mSOLR Request (104.3ms)[0m  [ path=[1m[1mupdate[0m parameters={} ]
Completed 302 Found in 213ms (ActiveRecord: 100.5ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 15:53:30 -0400
Processing by LinksController#index as HTML
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links"[0m
  Rendered links/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 24ms (Views: 22.9ms | ActiveRecord: 0.2ms | Solr: 109.3ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 23:43:39 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by LinksController#index as HTML
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links"
  Rendered links/index.html.erb within layouts/application (38.4ms)
Completed 200 OK in 1554ms (Views: 1514.3ms | ActiveRecord: 1.0ms | Solr: 0.0ms)


Started GET "/assets/links.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2015-05-17 23:43:41 -0400


Started GET "/assets/scaffolds.self-3f604dfb801e9c592ace8885ccd3804afac84adc55bb48938d18918d28f78a7e.css?body=1" for 127.0.0.1 at 2015-05-17 23:43:41 -0400


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for 127.0.0.1 at 2015-05-17 23:43:41 -0400


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for 127.0.0.1 at 2015-05-17 23:43:41 -0400


Started GET "/assets/jquery_ujs.self-8e98a7a072a6cee1372d19fff9ff3e6aa1e39a37d89d6f06861637d061113ee7.js?body=1" for 127.0.0.1 at 2015-05-17 23:43:41 -0400


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for 127.0.0.1 at 2015-05-17 23:43:41 -0400


Started GET "/assets/links.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2015-05-17 23:43:41 -0400


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for 127.0.0.1 at 2015-05-17 23:43:41 -0400


Started GET "/" for 127.0.0.1 at 2015-05-17 23:44:03 -0400
Processing by Rails::WelcomeController#index as HTML
  Rendered /home/commander/.rvm/gems/ruby-2.2.1/gems/railties-4.2.1/lib/rails/templates/rails/welcome/index.html.erb (1.2ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.0ms | Solr: 0.0ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 23:44:08 -0400
Processing by LinksController#index as HTML
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT "links".* FROM "links"[0m
  Rendered links/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 94ms (Views: 90.7ms | ActiveRecord: 0.4ms | Solr: 0.0ms)


Started GET "/links/new" for 127.0.0.1 at 2015-05-17 23:44:11 -0400
Processing by LinksController#new as HTML
  Rendered links/_form.html.erb (82.9ms)
  Rendered links/new.html.erb within layouts/application (104.4ms)
Completed 200 OK in 166ms (Views: 164.3ms | ActiveRecord: 0.0ms | Solr: 0.0ms)


Started POST "/links" for 127.0.0.1 at 2015-05-17 23:44:24 -0400
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3kh1c2SWantKOK9iYMOoL6AFJ4dHPcTltClJMy+TgU83rWaOex8oIRoQTIf/6hPQ+9Dfzh8bsyTjUubf8/s0Jg==", "link"=>{"title"=>"Could this be?", "URL"=>"http://canitbe.com", "html"=>"Will it blend!?"}, "commit"=>"Create Link"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (157.6ms)[0m  [1mINSERT INTO "links" ("title", "URL", "html", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Could this be?"], ["URL", "http://canitbe.com"], ["html", "Will it blend!?"], ["created_at", "2015-05-18 03:44:24.952030"], ["updated_at", "2015-05-18 03:44:24.952030"]]
  [1m[32mSOLR Request (277.9ms)[0m  [ path=[1m[1mupdate[0m parameters={} ]
  [1m[35m (121.3ms)[0m  commit transaction
Redirected to http://localhost:3000/links/4
  [1m[32mSOLR Request (577.7ms)[0m  [ path=[1m[1mupdate[0m parameters={} ]
Completed 302 Found in 1270ms (ActiveRecord: 279.1ms)


Started GET "/links/4" for 127.0.0.1 at 2015-05-17 23:44:26 -0400
Processing by LinksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered links/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 100ms (Views: 69.7ms | ActiveRecord: 0.4ms | Solr: 855.6ms)


Started GET "/links" for 127.0.0.1 at 2015-05-17 23:44:30 -0400
Processing by LinksController#index as HTML
  [1m[35mLink Load (2.2ms)[0m  SELECT "links".* FROM "links"
  Rendered links/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 74ms (Views: 70.7ms | ActiveRecord: 2.2ms | Solr: 0.0ms)


Started GET "/links/search?utf8=%E2%9C%93&query=this&commit=Search" for 127.0.0.1 at 2015-05-17 23:44:33 -0400
Processing by LinksController#search as HTML
  Parameters: {"utf8"=>"âœ“", "query"=>"this", "commit"=>"Search"}
  [1m[32mSOLR Request (98.3ms)[0m  [ path=[1m[1mselect[0m parameters={fq: [1m[1m["type:Link"][0m, q: [1m[1m"this"[0m, fl: [1m[1m"* score"[0m, qf: [1m[1m"title_texts html_texts"[0m, defType: [1m[1m"edismax"[0m, start: [1m[1m0[0m, rows: [1m[1m30[0m} ]
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."id" = 4[0m
  Rendered links/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 172ms (Views: 65.7ms | ActiveRecord: 0.3ms | Solr: 98.3ms)


Started GET "/links/4" for 127.0.0.1 at 2015-05-17 23:44:38 -0400
Processing by LinksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 4]]
  Rendered links/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 94ms (Views: 92.1ms | ActiveRecord: 0.3ms | Solr: 0.0ms)
